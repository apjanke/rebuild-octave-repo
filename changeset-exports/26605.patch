# HG changeset patch
# User John W. Eaton <jwe@octave.org>
# Date 1548201291 0
#      Tue Jan 22 23:54:51 2019 +0000
# Node ID 5224600b1b201337c31b576e05341e58328633f7
# Parent  10b824cf2b1880d97ade73ae5ea42d6b08f7ea7d
# Parent  8af641520aa94b9589688d9c6d43e4287d95371a
maint: Merge stable to default.

diff --git a/build-aux/subst-config-vals.in.sh b/build-aux/subst-config-vals.in.sh
--- a/build-aux/subst-config-vals.in.sh
+++ b/build-aux/subst-config-vals.in.sh
@@ -113,17 +113,16 @@ CXXCPP="@CXXCPP@"
 CXXFLAGS="@CXXFLAGS@"
 CXXPICFLAG="@CXXPICFLAG@"
 DEFAULT_PAGER="@DEFAULT_PAGER@"
 DEFS="@DEFS@"
 DEPEND_FLAGS="@DEPEND_FLAGS@"
 DEPEND_EXTRA_SED_PATTERN="@DEPEND_EXTRA_SED_PATTERN@"
 DL_LD="@DL_LD@"
 DL_LDFLAGS="@DL_LDFLAGS@"
-DL_LIBS="@DL_LIBS@"
 EXEEXT="@EXEEXT@"
 GCC_VERSION="@GCC_VERSION@"
 GXX_VERSION="@GXX_VERSION@"
 F77="@F77@"
 F77_FLOAT_STORE_FLAG="@F77_FLOAT_STORE_FLAG@"
 F77_INTEGER_8_FLAG="@F77_INTEGER_8_FLAG@"
 FFLAGS="@FFLAGS@"
 FFTW3_CPPFLAGS="@FFTW3_CPPFLAGS@"
@@ -178,19 +177,16 @@ MKOCTFILE_LD_CXX="@MKOCTFILE_LD_CXX@"
 MKOCTFILE_RANLIB="@MKOCTFILE_RANLIB@"
 MKOCTFILE_OCTAVE_LINK_DEPS="@MKOCTFILE_OCTAVE_LINK_DEPS@"
 MKOCTFILE_OCT_LINK_DEPS="@MKOCTFILE_OCT_LINK_DEPS@"
 OCTAVE_LINK_DEPS="@OCTAVE_LINK_DEPS@"
 OCTAVE_LINK_OPTS="@OCTAVE_LINK_OPTS@"
 OCT_LINK_DEPS="@OCT_LINK_DEPS@"
 OCT_LINK_OPTS="@OCT_LINK_OPTS@"
 OPENGL_LIBS="@OPENGL_LIBS@"
-OSMESA_CPPFLAGS="@OSMESA_CPPFLAGS@"
-OSMESA_LDFLAGS="@OSMESA_LDFLAGS@"
-OSMESA_LIBS="@OSMESA_LIBS@"
 PCRE_CPPFLAGS="@PCRE_CPPFLAGS@"
 PCRE_LDFLAGS="@PCRE_LDFLAGS@"
 PCRE_LIBS="@PCRE_LIBS@"
 PTHREAD_CFLAGS="@PTHREAD_CFLAGS@"
 PTHREAD_LIBS="@PTHREAD_LIBS@"
 QHULL_CPPFLAGS="@QHULL_CPPFLAGS@"
 QHULL_LDFLAGS="@QHULL_LDFLAGS@"
 QHULL_LIBS="@QHULL_LIBS@"
@@ -278,17 +274,16 @@ config_opts="@config_opts@"
   -e "s|%OCTAVE_CONF_CXXFLAGS%|\"${CXXFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_CXXPICFLAG%|\"${CXXPICFLAG}\"|" \
   -e "s|%OCTAVE_CONF_DEFAULT_PAGER%|\"${DEFAULT_PAGER}\"|" \
   -e "s|%OCTAVE_CONF_DEFS%|\"${DEFS}\"|" \
   -e "s|%OCTAVE_CONF_DEPEND_EXTRA_SED_PATTERN%|\"${DEPEND_EXTRA_SED_PATTERN}\"|" \
   -e "s|%OCTAVE_CONF_DEPEND_FLAGS%|\"${DEPEND_FLAGS}\"|" \
   -e "s|%OCTAVE_CONF_DL_LD%|\"${DL_LD}\"|" \
   -e "s|%OCTAVE_CONF_DL_LDFLAGS%|\"${DL_LDFLAGS}\"|" \
-  -e "s|%OCTAVE_CONF_DL_LIBS%|\"${DL_LIBS}\"|" \
   -e "s|%OCTAVE_CONF_EXEC_PREFIX%|\"${exec_prefix}\"|" \
   -e "s|%OCTAVE_CONF_EXEEXT%|\"${EXEEXT}\"|" \
   -e "s|%OCTAVE_CONF_F77%|\"${F77}\"|" \
   -e "s|%OCTAVE_CONF_F77_FLOAT_STORE_FLAG%|\"${F77_FLOAT_STORE_FLAG}\"|" \
   -e "s|%OCTAVE_CONF_F77_INTEGER_8_FLAG%|\"${F77_INTEGER_8_FLAG}\"|" \
   -e "s|%OCTAVE_CONF_FFLAGS%|\"${FFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_FFTW3F_CPPFLAGS%|\"${FFTW3F_CPPFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_FFTW3F_LDFLAGS%|\"${FFTW3F_LDFLAGS}\"|" \
@@ -349,19 +344,16 @@ config_opts="@config_opts@"
   -e "s|%OCTAVE_CONF_MKOCTFILE_RANLIB%|\"${MKOCTFILE_RANLIB}\"|" \
   -e "s|%OCTAVE_CONF_OCTAVE_LINK_DEPS%|\"${OCTAVE_LINK_DEPS}\"|" \
   -e "s|%OCTAVE_CONF_OCTAVE_LINK_OPTS%|\"${OCTAVE_LINK_OPTS}\"|" \
   -e "s|%OCTAVE_CONF_OCTINCLUDEDIR%|\"${octincludedir}\"|" \
   -e "s|%OCTAVE_CONF_OCTLIBDIR%|\"${octlibdir}\"|" \
   -e "s|%OCTAVE_CONF_OCT_LINK_DEPS%|\"${OCT_LINK_DEPS}\"|" \
   -e "s|%OCTAVE_CONF_OCT_LINK_OPTS%|\"${OCT_LINK_OPTS}\"|" \
   -e "s|%OCTAVE_CONF_OPENGL_LIBS%|\"${OPENGL_LIBS}\"|" \
-  -e "s|%OCTAVE_CONF_OSMESA_CPPFLAGS%|\"${OSMESA_CPPFLAGS}\"|" \
-  -e "s|%OCTAVE_CONF_OSMESA_LDFLAGS%|\"${OSMESA_LDFLAGS}\"|" \
-  -e "s|%OCTAVE_CONF_OSMESA_LIBS%|\"${OSMESA_LIBS}\"|" \
   -e "s|%OCTAVE_CONF_PCRE_CPPFLAGS%|\"${PCRE_CPPFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_PCRE_LDFLAGS%|\"${PCRE_LDFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_PCRE_LIBS%|\"${PCRE_LIBS}\"|" \
   -e "s|%OCTAVE_CONF_PREFIX%|\"${prefix}\"|" \
   -e "s|%OCTAVE_CONF_PTHREAD_CFLAGS%|\"${PTHREAD_CFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_PTHREAD_LIBS%|\"${PTHREAD_LIBS}\"|" \
   -e "s|%OCTAVE_CONF_QHULL_CPPFLAGS%|\"${QHULL_CPPFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_QHULL_LDFLAGS%|\"${QHULL_LDFLAGS}\"|" \
diff --git a/build-aux/subst-cross-config-vals.in.sh b/build-aux/subst-cross-config-vals.in.sh
--- a/build-aux/subst-cross-config-vals.in.sh
+++ b/build-aux/subst-cross-config-vals.in.sh
@@ -125,17 +125,16 @@ CXXCPP="@CXXCPP@"
 CXXFLAGS="@CXXFLAGS@"
 CXXPICFLAG="@CXXPICFLAG@"
 DEFAULT_PAGER="@DEFAULT_PAGER@"
 DEFS="@DEFS@"
 DEPEND_FLAGS="@DEPEND_FLAGS@"
 DEPEND_EXTRA_SED_PATTERN="@DEPEND_EXTRA_SED_PATTERN@"
 DL_LD="@DL_LD@"
 DL_LDFLAGS="@DL_LDFLAGS@"
-DL_LIBS="@DL_LIBS@"
 EXEEXT="@EXEEXT@"
 GCC_VERSION="@GCC_VERSION@"
 GXX_VERSION="@GXX_VERSION@"
 F77="@F77@"
 F77_FLOAT_STORE_FLAG="@F77_FLOAT_STORE_FLAG@"
 F77_INTEGER_8_FLAG="@F77_INTEGER_8_FLAG@"
 FFLAGS="@FFLAGS@"
 FFTW3_CPPFLAGS="@FFTW3_CPPFLAGS@"
@@ -182,19 +181,16 @@ MAGICK_LDFLAGS="@MAGICK_LDFLAGS@"
 MAGICK_LIBS="@MAGICK_LIBS@"
 MKOCTFILE_OCTAVE_LINK_DEPS="@MKOCTFILE_OCTAVE_LINK_DEPS@"
 MKOCTFILE_OCT_LINK_DEPS="@MKOCTFILE_OCT_LINK_DEPS@"
 OCTAVE_LINK_DEPS="@OCTAVE_LINK_DEPS@"
 OCTAVE_LINK_OPTS="@OCTAVE_LINK_OPTS@"
 OCT_LINK_DEPS="@OCT_LINK_DEPS@"
 OCT_LINK_OPTS="@OCT_LINK_OPTS@"
 OPENGL_LIBS="@OPENGL_LIBS@"
-OSMESA_CPPFLAGS="@OSMESA_CPPFLAGS@"
-OSMESA_LDFLAGS="@OSMESA_LDFLAGS@"
-OSMESA_LIBS="@OSMESA_LIBS@"
 PCRE_CPPFLAGS="@PCRE_CPPFLAGS@"
 PCRE_LDFLAGS="@PCRE_LDFLAGS@"
 PCRE_LIBS="@PCRE_LIBS@"
 PTHREAD_CFLAGS="@PTHREAD_CFLAGS@"
 PTHREAD_LIBS="@PTHREAD_LIBS@"
 QHULL_CPPFLAGS="@QHULL_CPPFLAGS@"
 QHULL_LDFLAGS="@QHULL_LDFLAGS@"
 QHULL_LIBS="@QHULL_LIBS@"
@@ -282,17 +278,16 @@ config_opts="@config_opts@"
   -e "s|%OCTAVE_CONF_CXXFLAGS%|\"${CXXFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_CXXPICFLAG%|\"${CXXPICFLAG}\"|" \
   -e "s|%OCTAVE_CONF_DEFAULT_PAGER%|\"${DEFAULT_PAGER}\"|" \
   -e "s|%OCTAVE_CONF_DEFS%|\"${DEFS}\"|" \
   -e "s|%OCTAVE_CONF_DEPEND_EXTRA_SED_PATTERN%|\"${DEPEND_EXTRA_SED_PATTERN}\"|" \
   -e "s|%OCTAVE_CONF_DEPEND_FLAGS%|\"${DEPEND_FLAGS}\"|" \
   -e "s|%OCTAVE_CONF_DL_LD%|\"${DL_LD}\"|" \
   -e "s|%OCTAVE_CONF_DL_LDFLAGS%|\"${DL_LDFLAGS}\"|" \
-  -e "s|%OCTAVE_CONF_DL_LIBS%|\"${DL_LIBS}\"|" \
   -e "s|%OCTAVE_CONF_EXEC_PREFIX%|\"${exec_prefix}\"|" \
   -e "s|%OCTAVE_CONF_EXEEXT%|\"${EXEEXT}\"|" \
   -e "s|%OCTAVE_CONF_F77%|\"${F77}\"|" \
   -e "s|%OCTAVE_CONF_F77_FLOAT_STORE_FLAG%|\"${F77_FLOAT_STORE_FLAG}\"|" \
   -e "s|%OCTAVE_CONF_F77_INTEGER_8_FLAG%|\"${F77_INTEGER_8_FLAG}\"|" \
   -e "s|%OCTAVE_CONF_FFLAGS%|\"${FFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_FFTW3F_CPPFLAGS%|\"${FFTW3F_CPPFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_FFTW3F_LDFLAGS%|\"${FFTW3F_LDFLAGS}\"|" \
@@ -353,19 +348,16 @@ config_opts="@config_opts@"
   -e "s|%OCTAVE_CONF_MKOCTFILE_RANLIB%|\"${RANLIB}\"|" \
   -e "s|%OCTAVE_CONF_OCTAVE_LINK_DEPS%|\"${OCTAVE_LINK_DEPS}\"|" \
   -e "s|%OCTAVE_CONF_OCTAVE_LINK_OPTS%|\"${OCTAVE_LINK_OPTS}\"|" \
   -e "s|%OCTAVE_CONF_OCTINCLUDEDIR%|\"${octincludedir}\"|" \
   -e "s|%OCTAVE_CONF_OCTLIBDIR%|\"${octlibdir}\"|" \
   -e "s|%OCTAVE_CONF_OCT_LINK_DEPS%|\"${OCT_LINK_DEPS}\"|" \
   -e "s|%OCTAVE_CONF_OCT_LINK_OPTS%|\"${OCT_LINK_OPTS}\"|" \
   -e "s|%OCTAVE_CONF_OPENGL_LIBS%|\"${OPENGL_LIBS}\"|" \
-  -e "s|%OCTAVE_CONF_OSMESA_CPPFLAGS%|\"${OSMESA_CPPFLAGS}\"|" \
-  -e "s|%OCTAVE_CONF_OSMESA_LDFLAGS%|\"${OSMESA_LDFLAGS}\"|" \
-  -e "s|%OCTAVE_CONF_OSMESA_LIBS%|\"${OSMESA_LIBS}\"|" \
   -e "s|%OCTAVE_CONF_PCRE_CPPFLAGS%|\"${PCRE_CPPFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_PCRE_LDFLAGS%|\"${PCRE_LDFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_PCRE_LIBS%|\"${PCRE_LIBS}\"|" \
   -e "s|%OCTAVE_CONF_PREFIX%|\"${prefix}\"|" \
   -e "s|%OCTAVE_CONF_PTHREAD_CFLAGS%|\"${PTHREAD_CFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_PTHREAD_LIBS%|\"${PTHREAD_LIBS}\"|" \
   -e "s|%OCTAVE_CONF_QHULL_CPPFLAGS%|\"${QHULL_CPPFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_QHULL_LDFLAGS%|\"${QHULL_LDFLAGS}\"|" \
diff --git a/doc/interpreter/octave.texi b/doc/interpreter/octave.texi
--- a/doc/interpreter/octave.texi
+++ b/doc/interpreter/octave.texi
@@ -24,43 +24,47 @@
 
 @include macros.texi
 
 @dircategory Math
 @direntry
 * Octave: (octave).             Interactive language for numerical computations.
 @end direntry
 
+@c Settings for appearance of example blocks
+@c --------------------------------------------------------
+
+@exampleindent 2
+
 @c Settings for printing on 8-1/2 by 11 inch paper (default):
 @c --------------------------------------------------------
 
 @setchapternewpage odd
 @c Fix TOC margins for printed manual
 @tex
 {\globaldefs = 1 \contentsrightmargin = 0pt}
 @end tex
 
 @c Settings for small book format:
 @c ------------------------------
 
-@ignore
-@smallbook
-@setchapternewpage odd
-@finalout
-@iftex
-@cropmarks
-@end iftex
-@end ignore
+@c @smallbook
+@c @setchapternewpage odd
+@c @finalout
+@c @iftex
+@c @cropmarks
+@c @end iftex
+
+@c ------------------------------
 
 @defindex op
 @defindex pr
 
-@c The version.texi file doesn't include a chapter, so it must not be
-@c included if you want to run the Emacs function
-@c texinfo-multiple-files-update.
+@c The version.texi file doesn't include a chapter, so it must not be included
+@c if you want to run the Emacs function texinfo-multiple-files-update.
 @include version-octave.texi
 
 @settitle GNU Octave (version @value{VERSION})
 
 @ifnottex
 
 Copyright @copyright{} 1996-2018 John W. Eaton.
 
@@ -922,16 +926,17 @@ Build Dependencies
 Grammar and Parser
 
 * Keywords::
 * Parser::
 @end detailmenu
 @end menu
 
 @c ------------------------------------------------------------------------
+@c Chapters of manual.
 
 @include preface.texi
 @include intro.texi
 @include basics.texi
 @include data.texi
 @include numbers.texi
 @include strings.texi
 @include container.texi
diff --git a/libinterp/build-env.h b/libinterp/build-env.h
--- a/libinterp/build-env.h
+++ b/libinterp/build-env.h
@@ -68,17 +68,16 @@ namespace octave
     extern const char *CXXCPP;
     extern const char *CXXFLAGS;
     extern const char *CXXPICFLAG;
     extern const char *CXX;
     extern const char *DEFAULT_PAGER;
     extern const char *DEFS;
     extern const char *DL_LD;
     extern const char *DL_LDFLAGS;
-    extern const char *DL_LIBS;
     extern const char *EXEEXT;
     extern const char *GCC_VERSION;
     extern const char *GXX_VERSION;
     extern const char *F77;
     extern const char *F77_FLOAT_STORE_FLAG;
     extern const char *F77_INTEGER_8_FLAG;
     extern const char *FFLAGS;
     extern const char *FFTW3_CPPFLAGS;
@@ -127,19 +126,16 @@ namespace octave
     extern const char *MKOCTFILE_DL_LDFLAGS;
     extern const char *OCTAVE_LINK_DEPS;
     extern const char *OCTAVE_LINK_OPTS;
     extern const char *OCTINCLUDEDIR;
     extern const char *OCTLIBDIR;
     extern const char *OCT_LINK_DEPS;
     extern const char *OCT_LINK_OPTS;
     extern const char *OPENGL_LIBS;
-    extern const char *OSMESA_CPPFLAGS;
-    extern const char *OSMESA_LDFLAGS;
-    extern const char *OSMESA_LIBS;
     extern const char *PCRE_CPPFLAGS;
     extern const char *PCRE_LDFLAGS;
     extern const char *PCRE_LIBS;
     extern const char *PREFIX;
     extern const char *PTHREAD_CFLAGS;
     extern const char *PTHREAD_LIBS;
     extern const char *QHULL_CPPFLAGS;
     extern const char *QHULL_LDFLAGS;
diff --git a/libinterp/build-env.in.cc b/libinterp/build-env.in.cc
--- a/libinterp/build-env.in.cc
+++ b/libinterp/build-env.in.cc
@@ -106,18 +106,16 @@ namespace octave
     const char *DEFAULT_PAGER = %OCTAVE_CONF_DEFAULT_PAGER%;
 
     const char *DEFS = %OCTAVE_CONF_DEFS%;
 
     const char *DL_LD = %OCTAVE_CONF_DL_LD%;
 
     const char *DL_LDFLAGS = %OCTAVE_CONF_DL_LDFLAGS%;
 
-    const char *DL_LIBS = %OCTAVE_CONF_DL_LIBS%;
-
     const char *EXEEXT = %OCTAVE_CONF_EXEEXT%;
 
     const char *GCC_VERSION = %OCTAVE_CONF_GCC_VERSION%;
 
     const char *GXX_VERSION = %OCTAVE_CONF_GXX_VERSION%;
 
     const char *F77 = %OCTAVE_CONF_F77%;
 
@@ -224,22 +222,16 @@ namespace octave
     const char *OCTLIBDIR = %OCTAVE_CONF_OCTLIBDIR%;
 
     const char *OCT_LINK_DEPS = %OCTAVE_CONF_OCT_LINK_DEPS%;
 
     const char *OCT_LINK_OPTS = %OCTAVE_CONF_OCT_LINK_OPTS%;
 
     const char *OPENGL_LIBS = %OCTAVE_CONF_OPENGL_LIBS%;
 
-    const char *OSMESA_CPPFLAGS = %OCTAVE_CONF_OSMESA_CPPFLAGS%;
-
-    const char *OSMESA_LDFLAGS = %OCTAVE_CONF_OSMESA_LDFLAGS%;
-
-    const char *OSMESA_LIBS = %OCTAVE_CONF_OSMESA_LIBS%;
-
     const char *PCRE_CPPFLAGS = %OCTAVE_CONF_PCRE_CPPFLAGS%;
 
     const char *PCRE_LDFLAGS = %OCTAVE_CONF_PCRE_LDFLAGS%;
 
     const char *PCRE_LIBS = %OCTAVE_CONF_PCRE_LIBS%;
 
     const char *PREFIX = %OCTAVE_CONF_PREFIX%;
 
diff --git a/libinterp/corefcn/graphics.cc b/libinterp/corefcn/graphics.cc
--- a/libinterp/corefcn/graphics.cc
+++ b/libinterp/corefcn/graphics.cc
@@ -12210,22 +12210,22 @@ property.  If no output variable is used
 printed to the screen.
 
 For example,
 
 @example
 @group
 hf = figure ();
 set (hf, "paperorientation")
-@result{}  paperorientation:  [ landscape | @{portrait@} | rotated ]
+@result{}  [ landscape | @{portrait@} ]
 @end group
 @end example
 
 @noindent
-shows the paperorientation property can take three values with the default
+shows the paperorientation property can take two values with the default
 being @qcode{"portrait"}.
 @seealso{get}
 @end deftypefn */)
 {
   gh_manager::auto_lock guard;
 
   int nargin = args.length ();
 
diff --git a/libinterp/corefcn/sparse.cc b/libinterp/corefcn/sparse.cc
--- a/libinterp/corefcn/sparse.cc
+++ b/libinterp/corefcn/sparse.cc
@@ -115,34 +115,34 @@ The argument @var{nzmax} is ignored but 
 
 Example 1 (sum at repeated indices):
 
 @example
 @group
 @var{i} = [1 1 2]; @var{j} = [1 1 2]; @var{sv} = [3 4 5];
 sparse (@var{i}, @var{j}, @var{sv}, 3, 4)
 @result{}
-Compressed Column Sparse (rows = 3, cols = 4, nnz = 2 [17%])
+   Compressed Column Sparse (rows = 3, cols = 4, nnz = 2 [17%])
 
-  (1, 1) ->  7
-  (2, 2) ->  5
+     (1, 1) ->  7
+     (2, 2) ->  5
 @end group
 @end example
 
 Example 2 ("unique" option):
 
 @example
 @group
 @var{i} = [1 1 2]; @var{j} = [1 1 2]; @var{sv} = [3 4 5];
 sparse (@var{i}, @var{j}, @var{sv}, 3, 4, "unique")
 @result{}
-Compressed Column Sparse (rows = 3, cols = 4, nnz = 2 [17%])
+   Compressed Column Sparse (rows = 3, cols = 4, nnz = 2 [17%])
 
-  (1, 1) ->  4
-  (2, 2) ->  5
+     (1, 1) ->  4
+     (2, 2) ->  5
 @end group
 @end example
 @seealso{full, accumarray, spalloc, spdiags, speye, spones, sprand, sprandn, sprandsym, spconvert, spfun}
 @end deftypefn */)
 {
   int nargin = args.length ();
 
   if (nargin == 0 || nargin > 6)
diff --git a/libinterp/corefcn/toplev.cc b/libinterp/corefcn/toplev.cc
--- a/libinterp/corefcn/toplev.cc
+++ b/libinterp/corefcn/toplev.cc
@@ -472,17 +472,16 @@ specified option.
            { "CXSPARSE_LIBS", octave::build_env::CXSPARSE_LIBS },
            { "CXX", octave::build_env::CXX },
            { "CXXCPP", octave::build_env::CXXCPP },
            { "CXXFLAGS", octave::build_env::CXXFLAGS },
            { "CXXPICFLAG", octave::build_env::CXXPICFLAG },
            { "DEFS", octave::build_env::DEFS },
            { "DL_LD", octave::build_env::DL_LD },
            { "DL_LDFLAGS", octave::build_env::DL_LDFLAGS },
-           { "DL_LIBS", octave::build_env::DL_LIBS },
            { "GCC_VERSION", octave::build_env::GCC_VERSION },
            { "GXX_VERSION", octave::build_env::GXX_VERSION },
            { "EXEEXT", octave::build_env::EXEEXT },
            { "F77", octave::build_env::F77 },
            { "F77_FLOAT_STORE_FLAG", octave::build_env::F77_FLOAT_STORE_FLAG },
            { "F77_INTEGER_8_FLAG", octave::build_env::F77_INTEGER_8_FLAG },
            { "FFLAGS", octave::build_env::FFLAGS },
            { "FFTW3_CPPFLAGS", octave::build_env::FFTW3_CPPFLAGS },
@@ -525,19 +524,16 @@ specified option.
            { "MAGICK_LDFLAGS", octave::build_env::MAGICK_LDFLAGS },
            { "MAGICK_LIBS", octave::build_env::MAGICK_LIBS },
            { "MKOCTFILE_DL_LDFLAGS", octave::build_env::MKOCTFILE_DL_LDFLAGS },
            { "OCTAVE_LINK_DEPS", octave::build_env::OCTAVE_LINK_DEPS },
            { "OCTAVE_LINK_OPTS", octave::build_env::OCTAVE_LINK_OPTS },
            { "OCT_LINK_DEPS", octave::build_env::OCT_LINK_DEPS },
            { "OCT_LINK_OPTS", octave::build_env::OCT_LINK_OPTS },
            { "OPENGL_LIBS", octave::build_env::OPENGL_LIBS },
-           { "OSMESA_CPPFLAGS", octave::build_env::OSMESA_CPPFLAGS },
-           { "OSMESA_LDFLAGS", octave::build_env::OSMESA_LDFLAGS },
-           { "OSMESA_LIBS", octave::build_env::OSMESA_LIBS },
            { "PCRE_CPPFLAGS", octave::build_env::PCRE_CPPFLAGS },
            { "PCRE_LDFLAGS", octave::build_env::PCRE_LDFLAGS },
            { "PCRE_LIBS", octave::build_env::PCRE_LIBS },
            { "PTHREAD_CFLAGS", octave::build_env::PTHREAD_CFLAGS },
            { "PTHREAD_LIBS", octave::build_env::PTHREAD_LIBS },
            { "QHULL_CPPFLAGS", octave::build_env::QHULL_CPPFLAGS },
            { "QHULL_LDFLAGS", octave::build_env::QHULL_LDFLAGS },
            { "QHULL_LIBS", octave::build_env::QHULL_LIBS },
diff --git a/scripts/general/bitset.m b/scripts/general/bitset.m
--- a/scripts/general/bitset.m
+++ b/scripts/general/bitset.m
@@ -26,34 +26,34 @@
 ## @w{@var{val} = 1} sets bits.  If no @var{val} is specified it defaults to
 ## 1 (set bit).  All inputs must be the same size or scalars.
 ##
 ## Example 1: Set multiple bits
 ##
 ## @example
 ## @group
 ## x = bitset (1, 3:5)
-## x =
+##   @result{} x =
 ##
 ##    5    9   17
 ##
 ## dec2bin (x)
 ##   @result{}
 ##      00101
 ##      01001
 ##      10001
 ## @end group
 ## @end example
 ##
 ## Example 2: Reset and set bits
 ##
 ## @example
 ## @group
 ## x = bitset ([15 14], 1, [0 1])
-## x =
+##   @result{} x =
 ##
 ##    14    15
 ## @end group
 ## @end example
 ## @seealso{bitand, bitor, bitxor, bitget, bitcmp, bitshift, intmax, flintmax}
 ## @end deftypefn
 
 function C = bitset (A, n, val = true)
diff --git a/scripts/general/circshift.m b/scripts/general/circshift.m
--- a/scripts/general/circshift.m
+++ b/scripts/general/circshift.m
@@ -34,34 +34,38 @@
 ## Examples:
 ##
 ## @example
 ## x = [1, 2, 3;
 ##      4, 5, 6;
 ##      7, 8, 9];
 ## ## positive shift on rows (1st non-singular dim)
 ## circshift (x, 1)
-##  @result{}  7, 8, 9
-##      1, 2, 3
-##      4, 5, 6
+##   @result{}
+##        7   8   9
+##        1   2   3
+##        4   5   6
 ## ## negative shift on rows (1st non-singular dim)
 ## circshift (x, -2)
-##  @result{}  7, 8, 9
-##      1, 2, 3
-##      4, 5, 6
+##   @result{}
+##        7   8   9
+##        1   2   3
+##        4   5   6
 ## ## no shift of rows, shift columns by 1 (2nd dimension)
 ## circshift (x, [0,1])
-##  @result{}  3, 1, 2
-##      6, 4, 5
-##      9, 7, 8
+##   @result{}
+##        3   1   2
+##        6   4   5
+##        9   7   8
 ## ## shift columns (2nd dimension)
 ## circshift (x, 1, 2)
-##  @result{}  3, 1, 2
-##      6, 4, 5
-##      9, 7, 8
+##   @result{}
+##        3   1   2
+##        6   4   5
+##        9   7   8
 ## @end example
 ## @seealso{permute, ipermute, shiftdim}
 ## @end deftypefn
 
 function y = circshift (x, n, dim)
 
   if (nargin < 2 || nargin > 3)
     print_usage ();
diff --git a/scripts/general/idivide.m b/scripts/general/idivide.m
--- a/scripts/general/idivide.m
+++ b/scripts/general/idivide.m
@@ -47,23 +47,23 @@
 ##
 ## @noindent
 ## If @var{op} is not given it defaults to @qcode{"fix"}.
 ## An example demonstrating these rounding rules is
 ##
 ## @example
 ## @group
 ## idivide (int8 ([-3, 3]), int8 (4), "fix")
-##   @result{} int8 ([0, 0])
+##   @result{}   0   0
 ## idivide (int8 ([-3, 3]), int8 (4), "round")
-##   @result{} int8 ([-1, 1])
+##   @result{}  -1   1
 ## idivide (int8 ([-3, 3]), int8 (4), "floor")
-##   @result{} int8 ([-1, 0])
+##   @result{}  -1   0
 ## idivide (int8 ([-3, 3]), int8 (4), "ceil")
-##   @result{} int8 ([0, 1])
+##   @result{}   0   1
 ## @end group
 ## @end example
 ##
 ## @seealso{ldivide, rdivide}
 ## @end deftypefn
 
 function z = idivide (x, y, op)
 
diff --git a/scripts/general/int2str.m b/scripts/general/int2str.m
--- a/scripts/general/int2str.m
+++ b/scripts/general/int2str.m
@@ -19,28 +19,29 @@
 ## -*- texinfo -*-
 ## @deftypefn {} {} int2str (@var{n})
 ## Convert an integer (or array of integers) to a string (or a character
 ## array).
 ##
 ## @example
 ## @group
 ## int2str (123)
-##      @result{} "123"
+##   @result{} 123
 ##
 ## s = int2str ([1, 2, 3; 4, 5, 6])
-##      @result{} s =
+##   @result{} s =
 ##         1  2  3
 ##         4  5  6
 ##
 ## whos s
-##      @result{}
-##       Attr Name        Size                     Bytes  Class
-##       ==== ====        ====                     =====  =====
-##            s           2x7                         14  char
+##   @result{} Variables in the current scope:
+##         Attr Name        Size                     Bytes  Class
+##         ==== ====        ====                     =====  =====
+##              s           2x7                         14  char
+##      Total is 14 elements using 14 bytes
 ## @end group
 ## @end example
 ##
 ## This function is not very flexible.  For better control over the
 ## results, use @code{sprintf} (@pxref{Formatted Output}).
 ##
 ## Programming Notes:
 ##
diff --git a/scripts/general/integral3.m b/scripts/general/integral3.m
--- a/scripts/general/integral3.m
+++ b/scripts/general/integral3.m
@@ -79,31 +79,31 @@
 ## integral.
 ##
 ## Example 1 : integrate over a rectangular volume
 ##
 ## @example
 ## @group
 ## @var{f} = @@(@var{x},@var{y},@var{z}) ones (size (@var{x}));
 ## @var{q} = integral3 (@var{f}, 0, 1, 0, 1, 0, 1)
-##   @result{} @var{q} =  1
+##   @result{} @var{q} =  1.00000
 ## @end group
 ## @end example
 ##
 ## For this constant-value integrand, the result is a volume which is just
 ## @code{@var{Length} * @var{Width} * @var{Height}}.
 ##
 ## Example 2 : integrate over a spherical volume
 ##
 ## @example
 ## @group
 ## @var{f} = @@(@var{x},@var{y}) ones (size (@var{x}));
 ## @var{ymax} = @@(@var{x}) sqrt (1 - @var{x}.^2);
-## @var{zmax} = @@(@var{x}) sqrt (1 - @var{x}.^2 - @var{y}.^2);
-## @var{q} = integral3 (@var{f}, 0, 1, 0, @var{ymax})
+## @var{zmax} = @@(@var{x},@var{y}) sqrt (1 - @var{x}.^2 - @var{y}.^2);
+## @var{q} = integral3 (@var{f}, 0, 1, 0, @var{ymax}, 0, @var{zmax})
 ##   @result{} @var{q} =  0.52360
 ## @end group
 ## @end example
 ##
 ## For this constant-value integrand, the result is a volume which is 1/8th
 ## of a unit sphere or @code{1/8 * 4/3 * pi}.
 ##
 ## Programming Notes: If there are singularities within the integration region
diff --git a/scripts/general/num2str.m b/scripts/general/num2str.m
--- a/scripts/general/num2str.m
+++ b/scripts/general/num2str.m
@@ -27,33 +27,34 @@
 ## string (@var{format}) as in @code{sprintf} (@pxref{Formatted Output}).
 ## @code{num2str} can also process complex numbers.
 ##
 ## Examples:
 ##
 ## @example
 ## @group
 ## num2str (123.456)
-##      @result{} "123.46"
+##   @result{} 123.456
 ##
 ## num2str (123.456, 4)
-##      @result{} "123.5"
+##   @result{} 123.5
 ##
 ## s = num2str ([1, 1.34; 3, 3.56], "%5.1f")
-##      @result{} s =
-##         1.0  1.3
-##         3.0  3.6
+##   @result{} s =
+##        1.0  1.3
+##        3.0  3.6
 ## whos s
-##      @result{}
-##       Attr Name        Size                     Bytes  Class
-##       ==== ====        ====                     =====  =====
-##            s           2x8                         16  char
+##   @result{} Variables in the current scope:
+##         Attr Name        Size                     Bytes  Class
+##         ==== ====        ====                     =====  =====
+##              s           2x8                         16  char
+##      Total is 16 elements using 16 bytes
 ##
 ## num2str (1.234 + 27.3i)
-##      @result{} "1.234+27.3i"
+##   @result{} 1.234+27.3i
 ## @end group
 ## @end example
 ##
 ## The @code{num2str} function is not very flexible.  For better control
 ## over the results, use @code{sprintf} (@pxref{Formatted Output}).
 ##
 ## Programming Notes:
 ##
diff --git a/scripts/general/rat.m b/scripts/general/rat.m
--- a/scripts/general/rat.m
+++ b/scripts/general/rat.m
@@ -33,24 +33,24 @@
 ## When called with two output arguments, return numeric matrices for the
 ## numerator and denominator of a fractional representation of @var{x} such
 ## that @code{@var{x} = @var{n} ./ @var{d}}.
 ##
 ## For example:
 ##
 ## @example
 ## @group
-## @var{s} = rat (pi)
+## s = rat (pi)
 ## @result{} s = 3 + 1/(7 + 1/16)
 ##
-## [@var{n}, @var{d}] = rat (pi)
-## @result{} @var{n} =  355
-## @result{} @var{d} =  113
+## [n, d] = rat (pi)
+## @result{} n =  355
+## @result{} d =  113
 ##
-## @var{n}/@var{d} - pi
+## n / d - pi
 ## @result{} 0.00000026676
 ## @end group
 ## @end example
 ##
 ## Programming Note: With one output @code{rat} produces a string which is a
 ## continued fraction expansion.  To produce a string which is a simple
 ## fraction (one numerator, one denominator) use @code{rats}.
 ##
diff --git a/scripts/general/repelem.m b/scripts/general/repelem.m
--- a/scripts/general/repelem.m
+++ b/scripts/general/repelem.m
@@ -49,17 +49,18 @@
 ## repelem (A, B)
 ##   @result{}   1   1   2   4   5   5
 ## @end group
 ## @end example
 ##
 ## @example
 ## @group
 ## A = magic (3)
-##   @result{}   8   1   6
+##   @result{} A =
+##        8   1   6
 ##        3   5   7
 ##        4   9   2
 ## B1 = [1 2 3];
 ## B2 = 2;
 ## repelem (A, B1, B2)
 ##   @result{}     8   8   1   1   6   6
 ##          3   3   5   5   7   7
 ##          3   3   5   5   7   7
diff --git a/scripts/general/shiftdim.m b/scripts/general/shiftdim.m
--- a/scripts/general/shiftdim.m
+++ b/scripts/general/shiftdim.m
@@ -32,22 +32,24 @@
 ## second output argument @var{ns}.
 ##
 ## For example:
 ##
 ## @example
 ## @group
 ## x = ones (1, 2, 3);
 ## size (shiftdim (x, -1))
-##    @result{} [1, 1, 2, 3]
+##   @result{}   1   1   2   3
 ## size (shiftdim (x, 1))
-##    @result{} [2, 3]
+##   @result{}   2   3
 ## [b, ns] = shiftdim (x)
-##    @result{} b = [1, 1, 1; 1, 1, 1]
-##    @result{} ns = 1
+##   @result{} b =
+##         1   1   1
+##         1   1   1
+##   @result{} ns = 1
 ## @end group
 ## @end example
 ## @seealso{reshape, permute, ipermute, circshift, squeeze}
 ## @end deftypefn
 
 function [y, ns]  = shiftdim (x, n)
 
   if (nargin < 1 || nargin > 2)
diff --git a/scripts/general/structfun.m b/scripts/general/structfun.m
--- a/scripts/general/structfun.m
+++ b/scripts/general/structfun.m
@@ -40,21 +40,19 @@
 ## placed into a structure with the same fieldnames as the input structure.
 ##
 ## @example
 ## @group
 ## s.name1 = "John Smith";
 ## s.name2 = "Jill Jones";
 ## structfun (@@(x) regexp (x, '(\w+)$', "matches")@{1@}, s,
 ##            "UniformOutput", false)
-## @result{}
-##    @{
-##      name1 = Smith
-##      name2 = Jones
-##    @}
+##   @result{} scalar structure containing the fields:
+##        name1 = Smith
+##        name2 = Jones
 ## @end group
 ## @end example
 ##
 ## Given the parameter @qcode{"ErrorHandler"}, @var{errfunc} defines a function
 ## to call in case @var{func} generates an error.  The form of the function is
 ##
 ## @example
 ## function [@dots{}] = errfunc (@var{se}, @dots{})
diff --git a/scripts/general/trapz.m b/scripts/general/trapz.m
--- a/scripts/general/trapz.m
+++ b/scripts/general/trapz.m
@@ -38,22 +38,25 @@
 ## actual spacing value (deltaX).  As an example, the integral of @math{x^3}
 ## over the range [0, 1] is @math{x^4/4} or 0.25.  The following code uses
 ## @code{trapz} to calculate the integral in three different ways.
 ##
 ## @example
 ## @group
 ## x = 0:0.1:1;
 ## y = x.^3;
+## ## No scaling
 ## q = trapz (y)
-##   @result{} q = 2.525   # No scaling
+##   @result{} q = 2.5250
+## ## Approximation to integral by scaling
 ## q * 0.1
-##   @result{} q = 0.2525  # Approximation to integral by scaling
+##   @result{} 0.25250
+## ## Same result by specifying @var{x}
 ## trapz (x, y)
-##   @result{} q = 0.2525  # Same result by specifying @var{x}
+##   @result{} 0.25250
 ## @end group
 ## @end example
 ##
 ## @seealso{cumtrapz}
 ## @end deftypefn
 
 ## Author:      Kai Habel <kai.habel@gmx.de>
 ##
diff --git a/scripts/linear-algebra/condeig.m b/scripts/linear-algebra/condeig.m
--- a/scripts/linear-algebra/condeig.m
+++ b/scripts/linear-algebra/condeig.m
@@ -45,17 +45,19 @@
 ## @end itemize
 ##
 ## Example
 ##
 ## @example
 ## @group
 ## a = [1, 2; 3, 4];
 ## c = condeig (a)
-## @result{} [1.0150; 1.0150]
+##   @result{} c =
+##        1.0150
+##        1.0150
 ## @end group
 ## @end example
 ## @seealso{eig, cond, balance}
 ## @end deftypefn
 
 function [v, lambda, c] = condeig (a)
 
   if (nargin != 1)
diff --git a/scripts/linear-algebra/cross.m b/scripts/linear-algebra/cross.m
--- a/scripts/linear-algebra/cross.m
+++ b/scripts/linear-algebra/cross.m
@@ -27,18 +27,19 @@
 ##
 ## The optional argument  @var{dim} forces the cross product to be calculated
 ## along the specified dimension.
 ##
 ## Example Code:
 ##
 ## @example
 ## @group
-## cross ([1,1,0], [0,1,1])
-##      @result{} [ 1; -1; 1 ]
+## cross ([1, 1, 0], [0, 1, 1])
+##   @result{}
+##        1   -1   1
 ## @end group
 ## @end example
 ##
 ## @seealso{dot, curl, divergence}
 ## @end deftypefn
 
 ## Author: Kurt Hornik <Kurt.Hornik@wu-wien.ac.at>
 ## Created: 15 October 1994
diff --git a/scripts/linear-algebra/qzhess.m b/scripts/linear-algebra/qzhess.m
--- a/scripts/linear-algebra/qzhess.m
+++ b/scripts/linear-algebra/qzhess.m
@@ -24,20 +24,29 @@
 ## @code{@var{bb} = @var{q} * @var{B} * @var{z}}, with @var{q} and @var{z}
 ## orthogonal.
 ##
 ## For example:
 ##
 ## @example
 ## @group
 ## [aa, bb, q, z] = qzhess ([1, 2; 3, 4], [5, 6; 7, 8])
-##      @result{} aa = [ -3.02244, -4.41741;  0.92998,  0.69749 ]
-##      @result{} bb = [ -8.60233, -9.99730;  0.00000, -0.23250 ]
-##      @result{}  q = [ -0.58124, -0.81373; -0.81373,  0.58124 ]
-##      @result{}  z = [ 1, 0; 0, 1 ]
+##   @result{} aa =
+##       -3.02244  -4.41741
+##        0.92998   0.69749
+##   @result{} bb =
+##       -8.60233  -9.99730
+##        0.00000  -0.23250
+##   @result{} q =
+##       -0.58124  -0.81373
+##       -0.81373   0.58124
+##   @result{} z =
+##      Diagonal Matrix
+##        1   0
+##        0   1
 ## @end group
 ## @end example
 ##
 ## The Hessenberg-triangular decomposition is the first step in
 ## @nospell{Moler and Stewart's} QZ@tie{}decomposition algorithm.
 ##
 ## Algorithm taken from @nospell{Golub and Van Loan},
 ## @cite{Matrix Computations, 2nd edition}.
diff --git a/scripts/miscellaneous/computer.m b/scripts/miscellaneous/computer.m
--- a/scripts/miscellaneous/computer.m
+++ b/scripts/miscellaneous/computer.m
@@ -26,20 +26,20 @@
 ## identifies the type of computer that Octave is running on.
 ##
 ## If invoked with an output argument, the value is returned instead of
 ## printed.  For example:
 ##
 ## @example
 ## @group
 ## computer ()
-##    @print{} i586-pc-linux-gnu
+##    @print{} x86_64-pc-linux-gnu
 ##
 ## mycomp = computer ()
-##    @result{} mycomp = "i586-pc-linux-gnu"
+##    @result{} mycomp = x86_64-pc-linux-gnu
 ## @end group
 ## @end example
 ##
 ## If two output arguments are requested, also return the maximum number of
 ## elements for an array.  This will depend on whether Octave has been
 ## compiled with 32-bit or 64-bit index vectors.
 ##
 ## If three output arguments are requested, also return the byte order of the
diff --git a/scripts/miscellaneous/fullfile.m b/scripts/miscellaneous/fullfile.m
--- a/scripts/miscellaneous/fullfile.m
+++ b/scripts/miscellaneous/fullfile.m
@@ -27,19 +27,22 @@
 ## separator.
 ##
 ## If the last component part is a cell array, returns a cell array of
 ## filepaths, one for each element in the last component, e.g.:
 ##
 ## @example
 ## @group
 ## fullfile ("/home/username", "data", @{"f1.csv", "f2.csv", "f3.csv"@})
-## @result{}  /home/username/data/f1.csv
-##     /home/username/data/f2.csv
-##     /home/username/data/f3.csv
+##   @result{}
+##       @{
+##         [1,1] = /home/username/data/f1.csv
+##         [1,2] = /home/username/data/f2.csv
+##         [1,3] = /home/username/data/f3.csv
+##       @}
 ## @end group
 ## @end example
 ##
 ## On Windows systems, while forward slash file separators do work, they are
 ## replaced by backslashes; in addition drive letters are stripped of leading
 ## file separators to obtain a valid file path.
 ##
 ## Note: @code{fullfile} does not perform any validation of the resulting full
diff --git a/scripts/miscellaneous/orderfields.m b/scripts/miscellaneous/orderfields.m
--- a/scripts/miscellaneous/orderfields.m
+++ b/scripts/miscellaneous/orderfields.m
@@ -36,68 +36,64 @@
 ## converts the original name order to the new name order.
 ##
 ## Examples:
 ##
 ## @example
 ## @group
 ## s = struct ("d", 4, "b", 2, "a", 1, "c", 3);
 ## t1 = orderfields (s)
-##      @result{} t1 =
-##         @{
-##           a =  1
-##           b =  2
-##           c =  3
-##           d =  4
-##         @}
+##   @result{} t1 =
+##        scalar structure containing the fields:
+##          a =  1
+##          b =  2
+##          c =  3
+##          d =  4
 ## @end group
 ## @end example
 ##
 ## @example
 ## @group
 ## t = struct ("d", @{@}, "c", @{@}, "b", @{@}, "a", @{@});
 ## t2 = orderfields (s, t)
-##      @result{} t2 =
-##         @{
-##           d =  4
-##           c =  3
-##           b =  2
-##           a =  1
-##         @}
+##   @result{} t2 =
+##        scalar structure containing the fields:
+##          d =  4
+##          c =  3
+##          b =  2
+##          a =  1
 ## @end group
 ## @end example
 ##
 ## @example
 ## @group
 ## t3 = orderfields (s, [3, 2, 4, 1])
-##      @result{} t3 =
-##         @{
-##           a =  1
-##           b =  2
-##           c =  3
-##           d =  4
-##         @}
+##   @result{} t3 =
+##        scalar structure containing the fields:
+##          a =  1
+##          b =  2
+##          c =  3
+##          d =  4
 ## @end group
 ## @end example
 ##
 ## @example
 ## @group
 ## [t4, p] = orderfields (s, @{"d", "c", "b", "a"@})
-##      @result{} t4 =
-##         @{
-##           d =  4
-##           c =  3
-##           b =  2
-##           a =  1
-##         @}
-##         p =
-##            1
-##            4
-##            2
-##            3
+##   @result{} t4 =
+##        scalar structure containing the fields:
+##          d =  4
+##          c =  3
+##          b =  2
+##          a =  1
+##      p =
+##         1
+##         4
+##         2
+##         3
 ## @end group
 ## @end example
 ##
 ## @seealso{fieldnames, getfield, setfield, rmfield, isfield, isstruct, struct}
 ## @end deftypefn
 
 ## Author: Paul Kienzle <pkienzle@users.sf.net>
 ## Adapted-By: jwe
diff --git a/scripts/miscellaneous/substruct.m b/scripts/miscellaneous/substruct.m
--- a/scripts/miscellaneous/substruct.m
+++ b/scripts/miscellaneous/substruct.m
@@ -21,31 +21,29 @@
 ## @deftypefn {} {} substruct (@var{type}, @var{subs}, @dots{})
 ## Create a subscript structure for use with @code{subsref} or @code{subsasgn}.
 ##
 ## For example:
 ##
 ## @example
 ## @group
 ## idx = substruct ("()", @{3, ":"@})
-##      @result{}
-##        idx =
-##        @{
+##   @result{} idx =
+##        scalar structure containing the fields:
 ##          type = ()
 ##          subs =
 ##          @{
 ##            [1,1] =  3
 ##            [1,2] = :
 ##          @}
-##        @}
 ## x = [1, 2, 3;
 ##      4, 5, 6;
 ##      7, 8, 9];
 ## subsref (x, idx)
-##    @result{} 7  8  9
+##   @result{}   7   8   9
 ## @end group
 ## @end example
 ## @seealso{subsref, subsasgn}
 ## @end deftypefn
 
 ## Author:  jwe
 
 function retval = substruct (varargin)
diff --git a/scripts/miscellaneous/swapbytes.m b/scripts/miscellaneous/swapbytes.m
--- a/scripts/miscellaneous/swapbytes.m
+++ b/scripts/miscellaneous/swapbytes.m
@@ -21,17 +21,17 @@
 ## Swap the byte order on values, converting from little endian to big endian
 ## and vice versa.
 ##
 ## For example:
 ##
 ## @example
 ## @group
 ## swapbytes (uint16 (1:4))
-## @result{} [   256   512   768  1024]
+## @result{}   256   512   768  1024
 ## @end group
 ## @end example
 ##
 ## @seealso{typecast, cast}
 ## @end deftypefn
 
 function y = swapbytes (x)
 
diff --git a/scripts/plot/draw/contourc.m b/scripts/plot/draw/contourc.m
--- a/scripts/plot/draw/contourc.m
+++ b/scripts/plot/draw/contourc.m
@@ -54,19 +54,20 @@
 ##
 ## Example:
 ##
 ## @example
 ## @group
 ## x = 0:2;
 ## y = x;
 ## z = x' * y;
-## contourc (x, y, z, 2:3)
-##    @result{}   2.0000   2.0000   1.0000   3.0000   1.5000   2.0000
-##         2.0000   1.0000   2.0000   2.0000   2.0000   1.5000
+## c = contourc (x, y, z, 2:3)
+##   @result{} c =
+##         2.0000   1.0000   1.0000   2.0000   2.0000   3.0000   1.5000   2.0000
+##         4.0000   2.0000   2.0000   1.0000   1.0000   2.0000   2.0000   1.5000
 ## @end group
 ## @end example
 ## @seealso{contour, contourf, contour3, clabel}
 ## @end deftypefn
 
 function [c, lev] = contourc (varargin)
 
   if (nargin < 1 || nargin > 4)
diff --git a/scripts/plot/util/shg.m b/scripts/plot/util/shg.m
--- a/scripts/plot/util/shg.m
+++ b/scripts/plot/util/shg.m
@@ -34,12 +34,12 @@ function shg ()
 
   if (nargin != 0)
     warning ("shg: ignoring extra arguments");
   endif
 
   hf = get (0, "currentfigure");
   if (! isempty (hf))
     set (hf, "visible", "on");
-    __show_figure__ (hf));
+    __show_figure__ (hf);
   endif
 
 endfunction
diff --git a/scripts/sparse/ilu.m b/scripts/sparse/ilu.m
--- a/scripts/sparse/ilu.m
+++ b/scripts/sparse/ilu.m
@@ -308,25 +308,34 @@ endfunction
 %! opts.droptol = 0;
 %! [L1, U1] = ilu (A, opts);
 %! opts.type = "ilutp";
 %! opts.thresh = 0;
 %! [L2, U2] = ilu (A, opts);
 %! assert (norm (L1 - L2, "fro") / norm (L1, "fro"), 0, eps);
 %! assert (norm (U1 - U2, "fro") / norm (U1, "fro"), 0, eps);
 
+## Restore rand "state" value
+%!shared old_rand_state, restore_state
+%! ## Save and restore the state of the random number generator that is used by
+%! ## the unit tests in this file.
+%! old_rand_state = rand ("state");
+%! restore_state = onCleanup (@() rand ("state", old_rand_state));
+
 ## Tests for real matrices of different sizes for ilu0, iluc and ilutp.
 ## The difference A - L*U should be not greater than eps because with droptol
 ## equal to 0, the LU complete factorization is performed.
 %!shared n_tiny, n_small, n_medium, n_large, A_tiny, A_small, A_medium, A_large
 %! n_tiny = 5;
 %! n_small = 40;
 %! n_medium = 600;
 %! n_large = 10000;
 %! A_tiny = spconvert ([1 4 2 3 3 4 2 5; 1 1 2 3 4 4 5 5; 1 2 3 4 5 6 7 8]');
+%! ## initialize generator to make behavior reproducible
+%! rand ("state", 42);
 %! A_small = sprand (n_small, n_small, 1/n_small) + speye (n_small);
 %! A_medium = sprand (n_medium, n_medium, 1/n_medium) + speye (n_medium);
 %! A_large = sprand (n_large, n_large, 1/n_large/10) + speye (n_large);
 
 %!test
 %! opts.type = "nofill";
 %! [L, U] = ilu (A_tiny);
 %! assert (norm (A_tiny - L*U, "fro") / norm (A_tiny, "fro"), 0, n_tiny * eps);
@@ -388,16 +397,18 @@ endfunction
 ## Tests for complex matrices of different sizes for ilu0, iluc and ilutp.
 %!shared n_tiny, n_small, n_medium, n_large, A_tiny, A_small, A_medium, A_large
 %! n_tiny = 5;
 %! n_small = 40;
 %! n_medium = 600;
 %! n_large = 10000;
 %! A_tiny = spconvert ([1 4 2 3 3 4 2 5; 1 1 2 3 4 4 5 5; 1 2 3 4 5 6 7 8]');
 %! A_tiny(1,1) += 1i;
+%! ## initialize generator to make behavior reproducible
+%! rand ("state", 42);
 %! A_small = sprand (n_small, n_small, 1/n_small) + ...
 %!   i * sprand (n_small, n_small, 1/n_small) + speye (n_small);
 %! A_medium = sprand (n_medium, n_medium, 1/n_medium) + ...
 %!   i * sprand (n_medium, n_medium, 1/n_medium) + speye (n_medium);
 %! A_large = sprand (n_large, n_large, 1/n_large/10) + ...
 %!   i * sprand (n_large, n_large, 1/n_large/10) + speye (n_large);
 
 %!test
diff --git a/scripts/specfun/isprime.m b/scripts/specfun/isprime.m
--- a/scripts/specfun/isprime.m
+++ b/scripts/specfun/isprime.m
@@ -36,24 +36,24 @@
 ## Exercise caution when testing complex and real values together in the same
 ## matrix.
 ##
 ## Examples:
 ##
 ## @example
 ## @group
 ## isprime (1:6)
-##     @result{} [0, 1, 1, 0, 1, 0]
+##   @result{}  0  1  1  0  1  0
 ## @end group
 ## @end example
 ##
 ## @example
 ## @group
 ## isprime ([i, 2, 3, 5])
-##     @result{} [0, 0, 1, 0]
+##   @result{}  0  0  1  0
 ## @end group
 ## @end example
 ##
 ## Programming Note: @code{isprime} is appropriate if the maximum value in
 ## @var{x} is not too large (< 1e15).  For larger values special purpose
 ## factorization code should be used.
 ##
 ## Compatibility Note: @var{matlab} does not extend the definition of prime
diff --git a/scripts/statistics/runlength.m b/scripts/statistics/runlength.m
--- a/scripts/statistics/runlength.m
+++ b/scripts/statistics/runlength.m
@@ -24,17 +24,17 @@
 ## @var{count} is a vector with the lengths of each repeated value.
 ##
 ## The optional output @var{value} contains the value that was repeated in
 ## the sequence.
 ##
 ## @example
 ## @group
 ## runlength ([2, 2, 0, 4, 4, 4, 0, 1, 1, 1, 1])
-## @result{}  [2, 1, 3, 1, 4]
+## @result{}   2   1   3   1   4
 ## @end group
 ## @end example
 ## @seealso{run_count}
 ## @end deftypefn
 
 function [count, value] = runlength (x)
 
   if (nargin != 1)
diff --git a/scripts/time/clock.m b/scripts/time/clock.m
--- a/scripts/time/clock.m
+++ b/scripts/time/clock.m
@@ -24,17 +24,17 @@
 ## day (1-31), hour (0-23), minute (0-59), and second (0-61).  The seconds
 ## field has a fractional part after the decimal point for extended accuracy.
 ##
 ## For example:
 ##
 ## @example
 ## @group
 ## fix (clock ())
-##      @result{} [ 1993, 8, 20, 4, 56, 1 ]
+##   @result{}   1993      8     20      4     56      1
 ## @end group
 ## @end example
 ##
 ## @code{clock} is more accurate on systems that have the @code{gettimeofday}
 ## function.
 ## @seealso{now, date, datevec}
 ## @end deftypefn
 
diff --git a/scripts/time/date.m b/scripts/time/date.m
--- a/scripts/time/date.m
+++ b/scripts/time/date.m
@@ -20,17 +20,17 @@
 ## @deftypefn {} {} date ()
 ## Return the current date as a character string in the form DD-MMM-YYYY@.
 ##
 ## For example:
 ##
 ## @example
 ## @group
 ## date ()
-##   @result{} "20-Aug-1993"
+##   @result{} 20-Aug-1993
 ## @end group
 ## @end example
 ## @seealso{now, clock, datestr, localtime}
 ## @end deftypefn
 
 ## Author: jwe
 
 function retval = date ()
