# HG changeset patch
# User John W. Eaton <jwe@octave.org>
# Date 1547302522 18000
#      Sat Jan 12 09:15:22 2019 -0500
# Node ID cd73f8e9235fb0420f10918e86db3b66ce3e0c35
# Parent  8b0c9dc0799afd25066e995e2b4e7b47222c1427
# Parent  75c7aafca6bb27ab564c8faf1e36b269eac6a21c
maint: Merge stable to default.

diff --git a/doc/interpreter/contributors.in b/doc/interpreter/contributors.in
--- a/doc/interpreter/contributors.in
+++ b/doc/interpreter/contributors.in
@@ -144,16 +144,17 @@ Martin Helm
 Stefan Hepp
 Martin Hepperle
 Jordi Gutiérrez Hermoso
 Israel Herraiz
 Yozo Hida
 Ryan Hinton
 Roman Hodek
 A. Scottedward Hodel
+Júlio Hoffimann
 Richard Allan Holcombe
 Tom Holroyd
 David Hoover
 Kurt Hornik
 Craig Hudson
 Christopher Hulbert
 Cyril Humbert
 John Hunt
diff --git a/libgui/languages/be_BY.ts b/libgui/languages/be_BY.ts
--- a/libgui/languages/be_BY.ts
+++ b/libgui/languages/be_BY.ts
@@ -2440,17 +2440,17 @@ for write: %2.</source>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
@@ -5276,17 +5276,17 @@ Would you like to save the current short
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
+        <source>Legacy Mac (CR)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
diff --git a/libgui/languages/ca_ES.ts b/libgui/languages/ca_ES.ts
--- a/libgui/languages/ca_ES.ts
+++ b/libgui/languages/ca_ES.ts
@@ -1453,18 +1453,18 @@ en mode escriptura: %2.</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation>Converteix a la fi de línia de &amp;Unix (LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation>Converteix a la fi de línia de &amp;Mac (CR)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">Converteix a la fi de línia de Legacy &amp;Mac (CR)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation>&amp;Navegació</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -4314,18 +4314,18 @@ Vols desar el conjunt de dreceres actual o cancel·lar l&apos;acció?</translation>
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/de_DE.ts b/libgui/languages/de_DE.ts
--- a/libgui/languages/de_DE.ts
+++ b/libgui/languages/de_DE.ts
@@ -796,18 +796,18 @@ konnte nicht zum Schreiben geöffnet werden:
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation>Zeilenenden für &amp;Unix umwandeln (LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation>Zeilenenden für &amp;Mac umwandeln (CR)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">Zeilenenden für Legacy &amp;Mac umwandeln (CR)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation>Navi&amp;gation</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -3682,18 +3682,18 @@ oder wenn unterschiedliche Schriftgrößen oder -stile (fett/kursiv/normal) verwendet werden.</translation>
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/en_US.ts b/libgui/languages/en_US.ts
--- a/libgui/languages/en_US.ts
+++ b/libgui/languages/en_US.ts
@@ -775,17 +775,17 @@ for write: %2.</source>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
@@ -3550,17 +3550,17 @@ Would you like to save the current short
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
+        <source>Legacy Mac (CR)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
diff --git a/libgui/languages/es_ES.ts b/libgui/languages/es_ES.ts
--- a/libgui/languages/es_ES.ts
+++ b/libgui/languages/es_ES.ts
@@ -798,18 +798,18 @@ no puede ser abierto para escritura: %2.
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation>Convertir caracteres de find e línea a &amp;Unix (LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation>Convertir caracteres de find e línea a &amp;Mac (CR)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">Convertir caracteres de find e línea a Legacy &amp;Mac (CR)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation>&amp;Navegación</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -3903,18 +3903,18 @@ Would you like to save the current short
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CR+LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/eu_ES.ts b/libgui/languages/eu_ES.ts
--- a/libgui/languages/eu_ES.ts
+++ b/libgui/languages/eu_ES.ts
@@ -2428,18 +2428,18 @@ fitxategia ezin da idatzi: %2.</translat
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation type="unfinished">Lerro-amaiera &quot;&amp;Unix (LF)&quot;-era aldatu</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation type="unfinished">Lerro-amaiera &quot;&amp;Mac (CR)&quot;-era aldatu</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">Lerro-amaiera &quot;Legacy &amp;Mac (CR)&quot;-era aldatu</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation type="unfinished">&amp;Nabigazioa</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -5499,18 +5499,18 @@ letra lodiak, etzanak eta normalak.</tra
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/fr_FR.ts b/libgui/languages/fr_FR.ts
--- a/libgui/languages/fr_FR.ts
+++ b/libgui/languages/fr_FR.ts
@@ -789,18 +789,18 @@ pour écrire : %2.</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation>Convertir les Fins de Lignes en &amp;UNIX (LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation>Convertir les Fins de Lignes en &amp;Mac (CR)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">Convertir les Fins de Lignes en Legacy &amp;Mac (CR)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation>Navi&amp;gation</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -3879,18 +3879,18 @@ Voulez sauvegarder les raccourcis actuel
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>UNIX (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/it_IT.ts b/libgui/languages/it_IT.ts
--- a/libgui/languages/it_IT.ts
+++ b/libgui/languages/it_IT.ts
@@ -1458,18 +1458,18 @@ in scrittura: %2.</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation>A capo in stile &amp;Unix (LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation>A capo in stile &amp;Mac (CR)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">A capo in stile Legacy &amp;Mac (CR)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation>Navi&amp;gazione</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -4348,18 +4348,18 @@ Vorresti salvare le attuali scorciatoie 
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/ja_JP.ts b/libgui/languages/ja_JP.ts
--- a/libgui/languages/ja_JP.ts
+++ b/libgui/languages/ja_JP.ts
@@ -1450,18 +1450,18 @@ for write: %2.</source>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation>行末文字を Unix 仕様にする (LF) (&amp;U)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation>行末文字を Mac 仕様にする (CR) (&amp;M)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">行末文字を Legacy Mac 仕様にする (CR) (&amp;M)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation>ナビゲーション (&amp;G)</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -4355,18 +4355,18 @@ Would you like to save the current short
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/lt_LT.ts b/libgui/languages/lt_LT.ts
--- a/libgui/languages/lt_LT.ts
+++ b/libgui/languages/lt_LT.ts
@@ -1441,17 +1441,17 @@ for write: %2.</source>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
@@ -4216,17 +4216,17 @@ Would you like to save the current short
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
+        <source>Legacy Mac (CR)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
diff --git a/libgui/languages/nl_NL.ts b/libgui/languages/nl_NL.ts
--- a/libgui/languages/nl_NL.ts
+++ b/libgui/languages/nl_NL.ts
@@ -2445,18 +2445,18 @@ niet openen om te schrijven: %2.</transl
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation>Zet regeleindes om naar &amp;Unix (LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation>Zet regeleindes om naar &amp;Mac (CR)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">Zet regeleindes om naar Legacy &amp;Mac (CR)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation>Navigeer</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -5534,18 +5534,18 @@ Wil je de huidige sneltoetsen opslaan of
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/pt_BR.ts b/libgui/languages/pt_BR.ts
--- a/libgui/languages/pt_BR.ts
+++ b/libgui/languages/pt_BR.ts
@@ -788,18 +788,18 @@ para escrita: %2.</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation>Converter Finais de Linha para &amp;Unix (LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation>Converter Finais de Linha para &amp;Mac (CR)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">Converter Finais de Linha para Legacy &amp;Mac (CR)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation>Nave&amp;gação</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -3879,18 +3879,18 @@ Gostaria de salvar o conjunto atual de teclas de atalho ou cancelar a ação?</translation>
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/pt_PT.ts b/libgui/languages/pt_PT.ts
--- a/libgui/languages/pt_PT.ts
+++ b/libgui/languages/pt_PT.ts
@@ -1447,18 +1447,18 @@ para escrita: %2.</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation type="unfinished">Converter Fins de Linha para &amp;Unix (LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation type="unfinished">Converter Fins de Linha para &amp;Mac (CR)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">Converter Fins de Linha para Legacy &amp;Mac (CR)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation type="unfinished">Nave&amp;gação</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -4504,18 +4504,18 @@ Would you like to save the current short
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/ru_RU.ts b/libgui/languages/ru_RU.ts
--- a/libgui/languages/ru_RU.ts
+++ b/libgui/languages/ru_RU.ts
@@ -1450,18 +1450,18 @@ for write: %2.</source>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation type="unfinished">Конец строки &amp;Unix (LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation type="unfinished">Конец строки &amp;Mac (CR)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">Конец строки Legacy &amp;Mac (CR)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation type="unfinished">Нави&amp;гация</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -4298,18 +4298,18 @@ Would you like to save the current short
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/languages/translators b/libgui/languages/translators
--- a/libgui/languages/translators
+++ b/libgui/languages/translators
@@ -1,20 +1,24 @@
 # Below Octave GUI translators are listed with their e-mails
 # to be able to inform them about generic translation file changes.
 # The generic file that can be used as a template for new
 # translation files is en_US.ts
-be_BY Mihas Varantsou <meequz@gmail.com>
-ca_ES Salva Ardid <jsardid@gmail.com>
-de_DE Andreas Weber <andy.weber.aw@googlemail.com>
-es_ES Valentin Ortega-Clavero <arcanos3030@gmail.com>, José Luis García Pallero <jgpallero@gmail.com>
-eu_ES Ander Aurrekoetxea <zaurreko@gmail.com>
-fr_FR David Bateman <dbateman@free.fr>, Catalin Codreanu <codreanu.catalin@gmail.com>
-it_IT Massimiliano Fasi <massimiliano.fasi@gmail.com>, Marco Caliari <marco.caliari@univr.it>
-ja_JP Tatsuro Matsuoka <tmacchant@yahoo.co.jp>
-lt_LT Danius V. <danius-v@inbox.lt>
-nl_NL Philip Nienhuis <prnienhuis@users.sf.net>
-pt_BR Júlio Hoffimann Mendes <julio.hoffimann@gmail.com>, Felipe G. Nievinski <fgnievinski@gmail.com>
-pt_PT Carnë Draug <carandraug@octave.org>
-ru_RU Andriy Shinkarchuck <adriano32.gnu@gmail.com>, Dmitry Roshchin <dmitry@roshchin.org>
-uk_UA Andriy Shinkarchuck <adriano32.gnu@gmail.com>
-nl_NL Sander van Rijn <svr003@gmail.com>
-zh_CN Jeff Bai <aosc@members.fsf.org>
+
+be_BY  N.N.
+ca_ES  Salva Ardid <jsardid@gmail.com>
+de_DE  Andreas Weber <andy.weber.aw@googlemail.com>
+es_ES  Valentin Ortega-Clavero <arcanos3030@gmail.com>
+       José Luis García Pallero <jgpallero@gmail.com>
+eu_ES  Ander Aurrekoetxea <zaurreko@gmail.com>
+fr_FR  David Bateman <dbateman@free.fr>
+       Catalin Codreanu <codreanu.catalin@gmail.com>
+       Pantxo Diribarne <pantxo.diribarne@gmail.com>
+it_IT  Massimiliano Fasi <massimiliano.fasi@gmail.com>
+       Marco Caliari <marco.caliari@univr.it>
+ja_JP  Tatsuro Matsuoka <tmacchant@yahoo.co.jp>
+lt_LT  Danius V. <danius-v@inbox.lt>
+nl_NL  Philip Nienhuis <prnienhuis@users.sf.net>
+pt_BR  Felipe G. Nievinski <fgnievinski@gmail.com>
+pt_PT  Carnë Draug <carandraug@octave.org>
+ru_RU  Andriy Shinkarchuck <adriano32.gnu@gmail.com>
+uk_UA  Andriy Shinkarchuck <adriano32.gnu@gmail.com>
+zh_CN  Jeff Bai <aosc@members.fsf.org>
diff --git a/libgui/languages/uk_UA.ts b/libgui/languages/uk_UA.ts
--- a/libgui/languages/uk_UA.ts
+++ b/libgui/languages/uk_UA.ts
@@ -1441,17 +1441,17 @@ for write: %2.</source>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
@@ -4216,17 +4216,17 @@ Would you like to save the current short
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
+        <source>Legacy Mac (CR)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation type="unfinished"></translation>
     </message>
     <message>
diff --git a/libgui/languages/zh_CN.ts b/libgui/languages/zh_CN.ts
--- a/libgui/languages/zh_CN.ts
+++ b/libgui/languages/zh_CN.ts
@@ -1452,18 +1452,18 @@ for write: %2.</source>
     </message>
     <message>
         <location line="+5"/>
         <source>Convert Line Endings to &amp;Unix (LF)</source>
         <translation>将行尾转为 &amp;Unix 风格 (LF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Convert Line Endings to &amp;Mac (CR)</source>
-        <translation>将行尾转为 &amp;Mac 风格 (CR)</translation>
+        <source>Convert Line Endings to Legacy &amp;Mac (CR)</source>
+        <translation type="unfinished">将行尾转为 Legacy &amp;Mac 风格 (CR)</translation>
     </message>
     <message>
         <location line="+3"/>
         <source>Navi&amp;gation</source>
         <translation>转到 (&amp;g)</translation>
     </message>
     <message>
         <location line="+4"/>
@@ -4368,18 +4368,18 @@ Would you like to save the current short
     </message>
     <message>
         <location line="+987"/>
         <source>Windows (CRLF)</source>
         <translation>Windows (CRLF)</translation>
     </message>
     <message>
         <location line="+5"/>
-        <source>Mac (CR)</source>
-        <translation>Mac (CR)</translation>
+        <source>Legacy Mac (CR)</source>
+        <translation type="unfinished">Legacy Mac (CR)</translation>
     </message>
     <message>
         <location line="+5"/>
         <source>Unix (LF)</source>
         <translation>Unix (LF)</translation>
     </message>
     <message>
         <location line="-962"/>
diff --git a/libgui/src/m-editor/file-editor-tab.cc b/libgui/src/m-editor/file-editor-tab.cc
--- a/libgui/src/m-editor/file-editor-tab.cc
+++ b/libgui/src/m-editor/file-editor-tab.cc
@@ -692,17 +692,24 @@ namespace octave
           }
         else  // no octave file, just add extension
           {
 
             _prep_apis_file = prep_apis_path + lexer->lexer () + ".pap";
 
           }
 
-        if (update_apis || ! _lexer_apis->loadPrepared (_prep_apis_file))
+        // make sure the apis file is usable
+        QFile f (_prep_apis_file);
+        bool apis_usable = f.open (QIODevice::ReadWrite);
+        if (apis_usable)
+          f.close ();
+
+        if (apis_usable &&
+            (update_apis || ! _lexer_apis->loadPrepared (_prep_apis_file)))
           {
             // either we have decided to update the apis file or
             // no prepared info was loaded, prepare and save if possible
 
             // create raw apis info
             QString keyword;
             QStringList keyword_list;
             int i,j;
diff --git a/libgui/src/m-editor/file-editor.cc b/libgui/src/m-editor/file-editor.cc
--- a/libgui/src/m-editor/file-editor.cc
+++ b/libgui/src/m-editor/file-editor.cc
@@ -1844,17 +1844,17 @@ namespace octave
 
     m_conv_eol_unix_action
       = add_action (m_edit_fmt_menu,
                     tr ("Convert Line Endings to &Unix (LF)"),
                     SLOT (request_conv_eol_unix (bool)));
 
     m_conv_eol_mac_action
       = add_action (m_edit_fmt_menu,
-                    tr ("Convert Line Endings to &Mac (CR)"),
+                    tr ("Convert Line Endings to Legacy &Mac (CR)"),
                     SLOT (request_conv_eol_mac (bool)));
 
     m_edit_nav_menu = m_edit_menu->addMenu (tr ("Navi&gation"));
 
     m_goto_line_action
       = add_action (m_edit_nav_menu,
                     tr ("Go &to Line..."),
                     SLOT (request_goto_line (bool)));
diff --git a/libgui/src/settings-dialog.ui b/libgui/src/settings-dialog.ui
--- a/libgui/src/settings-dialog.ui
+++ b/libgui/src/settings-dialog.ui
@@ -2009,17 +2009,17 @@
                       </property>
                       <item>
                        <property name="text">
                         <string>Windows (CRLF)</string>
                        </property>
                       </item>
                       <item>
                        <property name="text">
-                        <string>Mac (CR)</string>
+                        <string>Legacy Mac (CR)</string>
                        </property>
                       </item>
                       <item>
                        <property name="text">
                         <string>Unix (LF)</string>
                        </property>
                       </item>
                      </widget>
diff --git a/libinterp/octave-value/ov-base.cc b/libinterp/octave-value/ov-base.cc
--- a/libinterp/octave-value/ov-base.cc
+++ b/libinterp/octave-value/ov-base.cc
@@ -1456,16 +1456,32 @@ make_idx_args (const std::string& type,
   octave_map m;
 
   m.assign ("type", type_field);
   m.assign ("subs", subs_field);
 
   return m;
 }
 
+bool
+called_from_builtin (void)
+{
+  octave::call_stack& cs = octave::__get_call_stack__ ("called_from_builtin");
+
+  octave_function *fcn = cs.caller ();
+
+  // FIXME: we probably need a better check here, or some other
+  // mechanism to avoid overloaded functions when builtin is used.
+  // For example, what if someone overloads the builtin function?
+  // Also, are there other places where using builtin is not properly
+  // avoiding dispatch?
+
+  return (fcn && fcn->name () == "builtin");
+}
+
 void
 install_base_type_conversions (octave::type_info& ti)
 {
   INSTALL_ASSIGNCONV_TI (ti, octave_base_value, octave_scalar, octave_matrix);
   INSTALL_ASSIGNCONV_TI (ti, octave_base_value, octave_matrix, octave_matrix);
   INSTALL_ASSIGNCONV_TI (ti, octave_base_value, octave_complex,
                          octave_complex_matrix);
   INSTALL_ASSIGNCONV_TI (ti, octave_base_value, octave_complex_matrix,
diff --git a/libinterp/octave-value/ov-base.h b/libinterp/octave-value/ov-base.h
--- a/libinterp/octave-value/ov-base.h
+++ b/libinterp/octave-value/ov-base.h
@@ -879,9 +879,13 @@ extern OCTINTERP_API bool Vsparse_auto_m
 // Utility function to convert C++ arguments used in subsref/subsasgn into an
 // octave_value_list object that can be used to call a function/method in the
 // interpreter.
 extern OCTINTERP_API octave_value
 make_idx_args (const std::string& type,
                const std::list<octave_value_list>& idx,
                const std::string& who);
 
+// Tells whether some regular octave_value_base methods are being called from
+// within the "builtin" function.
+extern OCTINTERP_API bool called_from_builtin (void);
+
 #endif
diff --git a/libinterp/octave-value/ov-class.cc b/libinterp/octave-value/ov-class.cc
--- a/libinterp/octave-value/ov-class.cc
+++ b/libinterp/octave-value/ov-class.cc
@@ -289,17 +289,17 @@ octave_class::dotref (const octave_value
     error ("class has no member '%s'", nm.c_str ());
 
   return my_map.contents (p);
 }
 
 Matrix
 octave_class::size (void)
 {
-  if (in_class_method ())
+  if (in_class_method () || called_from_builtin ())
     return octave_base_value::size ();
 
   Matrix retval (1, 2, 1.0);
 
   octave::symbol_table& symtab =
     octave::__get_symbol_table__ ("octave_class::size");
 
   octave_value meth = symtab.find_method ("size", class_name ());
@@ -329,17 +329,17 @@ octave_class::size (void)
     }
 
   return retval;
 }
 
 octave_idx_type
 octave_class::numel (const octave_value_list& idx)
 {
-  if (in_class_method ())
+  if (in_class_method () || called_from_builtin ())
     return octave_base_value::numel (idx);
 
   octave_idx_type retval = -1;
   const std::string cn = class_name ();
 
   octave::symbol_table& symtab =
     octave::__get_symbol_table__ ("octave_class::numel");
 
@@ -369,17 +369,17 @@ octave_class::numel (const octave_value_
 
 octave_value_list
 octave_class::subsref (const std::string& type,
                        const std::list<octave_value_list>& idx,
                        int nargout)
 {
   octave_value_list retval;
 
-  if (in_class_method ())
+  if (in_class_method () || called_from_builtin ())
     {
       // FIXME: this block of code is the same as the body of
       // octave_struct::subsref.  Maybe it could be shared instead of
       // duplicated.
 
       int skip = 1;
 
       switch (type[0])
@@ -530,17 +530,17 @@ octave_class::undef_subsasgn (const std:
 octave_value
 octave_class::subsasgn_common (const octave_value& obj,
                                const std::string& type,
                                const std::list<octave_value_list>& idx,
                                const octave_value& rhs)
 {
   octave_value retval;
 
-  if (! in_class_method ())
+  if (! (in_class_method () || called_from_builtin ()))
     {
       octave::symbol_table& symtab
         = octave::__get_symbol_table__ ("octave_class::subsasgn_common");
 
       octave_value meth = symtab.find_method ("subsasgn", class_name ());
 
       if (meth.is_defined ())
         {
diff --git a/libinterp/octave-value/ov-classdef.cc b/libinterp/octave-value/ov-classdef.cc
--- a/libinterp/octave-value/ov-classdef.cc
+++ b/libinterp/octave-value/ov-classdef.cc
@@ -860,17 +860,17 @@ octave_classdef::subsref (const std::str
                           const std::list<octave_value_list>& idx,
                           int nargout)
 {
   size_t skip = 0;
   octave_value_list retval;
 
   cdef_class cls = object.get_class ();
 
-  if (! in_class_method (cls))
+  if (! in_class_method (cls) && ! called_from_builtin ())
     {
       cdef_method meth = cls.find_method ("subsref");
 
       if (meth.ok ())
         {
           octave_value_list args;
 
           args(1) = make_idx_args (type, idx, "subsref");
@@ -919,17 +919,17 @@ octave_value
 octave_classdef::subsasgn (const std::string& type,
                            const std::list<octave_value_list>& idx,
                            const octave_value& rhs)
 {
   octave_value retval;
 
   cdef_class cls = object.get_class ();
 
-  if (! in_class_method (cls))
+  if (! in_class_method (cls) && ! called_from_builtin ())
     {
       cdef_method meth = cls.find_method ("subsasgn");
 
       if (meth.ok ())
         {
           octave_value_list args;
 
           args(1) = make_idx_args (type, idx, "subsasgn");
@@ -974,17 +974,17 @@ octave_classdef::undef_subsasgn (const s
 
 octave_idx_type
 octave_classdef::numel (const octave_value_list& idx)
 {
   octave_idx_type retval = -1;
 
   cdef_class cls = object.get_class ();
 
-  if (! in_class_method (cls))
+  if (! in_class_method (cls) && ! called_from_builtin ())
     {
       cdef_method meth = cls.find_method ("numel");
 
       if (meth.ok ())
         {
           octave_value_list args (idx.length () + 1, octave_value ());
 
           count++;
diff --git a/test/bug-54995/@testclass/subsref.m b/test/bug-54995/@testclass/subsref.m
new file mode 100644
--- /dev/null
+++ b/test/bug-54995/@testclass/subsref.m
@@ -0,0 +1,3 @@
+function val = subsref (obj, S)
+  val = builtin ("subsref", obj, S);
+endfunction
diff --git a/test/bug-54995/@testclass/testclass.m b/test/bug-54995/@testclass/testclass.m
new file mode 100644
--- /dev/null
+++ b/test/bug-54995/@testclass/testclass.m
@@ -0,0 +1,4 @@
+function obj = testclass ()
+  obj = struct ("x", eye (4));
+  obj = class(obj, "testclass");
+endfunction
diff --git a/test/bug-54995/bug-54995.tst b/test/bug-54995/bug-54995.tst
new file mode 100644
--- /dev/null
+++ b/test/bug-54995/bug-54995.tst
@@ -0,0 +1,21 @@
+## Copyright (C) 2018 Guillaume Flandin
+##
+## This file is part of Octave.
+##
+## Octave is free software: you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation, either version 3 of the License, or
+## (at your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+## GNU General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <https://www.gnu.org/licenses/>.
+
+%!test <*54995>
+%! obj = testclass ();
+%! assert (obj.x(1), 1);
diff --git a/test/bug-54995/module.mk b/test/bug-54995/module.mk
new file mode 100644
--- /dev/null
+++ b/test/bug-54995/module.mk
@@ -0,0 +1,6 @@
+bug_54995_TEST_FILES = \
+  %reldir%/@testclass/testclass.m \
+  %reldir%/@testclass/subsref.m \
+  %reldir%/bug-54995.tst
+
+TEST_FILES += $(bug_54995_TEST_FILES)
diff --git a/test/module.mk b/test/module.mk
--- a/test/module.mk
+++ b/test/module.mk
@@ -70,16 +70,17 @@ include %reldir%/bug-50035/module.mk
 include %reldir%/bug-50716/module.mk
 include %reldir%/bug-51192/module.mk
 include %reldir%/bug-51532/module.mk
 include %reldir%/bug-51534/module.mk
 include %reldir%/bug-51599/module.mk
 include %reldir%/bug-52075/module.mk
 include %reldir%/bug-52722/module.mk
 include %reldir%/bug-53027/module.mk
+include %reldir%/bug-54995/module.mk
 include %reldir%/class-concat/module.mk
 include %reldir%/classdef/module.mk
 include %reldir%/classdef-multiple-inheritance/module.mk
 include %reldir%/classes/module.mk
 include %reldir%/ctor-vs-method/module.mk
 include %reldir%/fcn-handle-derived-resolution/module.mk
 include %reldir%/local-functions/module.mk
 include %reldir%/mex/module.mk
