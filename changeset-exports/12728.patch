# HG changeset patch
# User John W. Eaton <jwe@octave.org>
# Date 1307640910 14400
#      Thu Jun 09 13:35:10 2011 -0400
# Branch stable
# Node ID a17269b1148f89e07a310468836392cc739bfd7b
# Parent  40b16bb69fec39c0fb0dbc61f79bbaeda962795e
maint: undo unintended change removing deprecated functions

diff --git a/OLD-ChangeLogs/ChangeLog b/OLD-ChangeLogs/ChangeLog
--- a/OLD-ChangeLogs/ChangeLog
+++ b/OLD-ChangeLogs/ChangeLog
@@ -83,21 +83,16 @@ 2011-02-09  Ben Abbott  <bpabbott@mac.co
 2011-02-08  Ben Abbott  <bpabbott@mac.com>
 
 	* README.MacOS: Fix FFTW CCFLAGS.
 
 2011-02-08  Rik  <octave@nomad.inbox5.com>
 
 	* NEWS: Use indentation of 2 spaces rather than 3 in code examples.
 
-2011-02-08  John W. Eaton  <jwe@octave.org>
-
-	* NEWS: New section for 3.6.  List deprecated functions that
-	have been removed for 3.6.
-
 2011-02-08  Ben Abbott  <bpabbott@mac.com>
 
 	* README.MacOS: Add detail.
 
 2011-02-08  John W. Eaton  <jwe@octave.org>
 
 	* NEWS: Add note about subfunctions.
 
diff --git a/OLD-ChangeLogs/scripts-ChangeLog b/OLD-ChangeLogs/scripts-ChangeLog
--- a/OLD-ChangeLogs/scripts-ChangeLog
+++ b/OLD-ChangeLogs/scripts-ChangeLog
@@ -392,35 +392,16 @@ 2011-02-10 Carlo de Falco  <kingcrimson@
 
 	* linear-algebra/gmres.m: New file implementing the GMRES
 	iterative method for solving linear systems.
 
 2011-02-08  Ben Abbott  <bpabbott@mac.com>
 
 	* plot/__go_draw_axes__.m: Properly set fontspec for legends.
 
-2011-02-08  John W. Eaton  <jwe@octave.org>
-
-	* deprecated/complement.m, deprecated/create_set.m,
-	deprecated/dmult.m, deprecated/iscommand.m,
-	deprecated/israwcommand.m, deprecated/lchol.m,
-	deprecated/loadimage.m, deprecated/mark_as_command.m,
-	deprecated/mark_as_rawcommand.m, deprecated/spatan2.m,
-	deprecated/spchol2inv.m, deprecated/spcholinv.m,
-	deprecated/spchol.m, deprecated/spcumprod.m,
-	deprecated/spcumsum.m, deprecated/spdet.m, deprecated/spdiag.m,
-	deprecated/spfind.m, deprecated/spinv.m, deprecated/spkron.m,
-	deprecated/splchol.m, deprecated/split.m, deprecated/splu.m,
-	deprecated/spmax.m, deprecated/spmin.m, deprecated/spprod.m,
-	deprecated/spqr.m, deprecated/spsum.m, deprecated/spsumsq.m,
-	deprecated/str2mat.m, deprecated/unmark_command.m,
-	deprecated/unmark_rawcommand.m:
-	Remove functions deprecated in version 3.2.
-	* module.mk (deprecated_FCN_FILES): Remove them from the list.
-
 2011-02-05  David Bateman  <dbateman@free.fr>
 
 	* plot/legend.m: Allow the location and orientation to be set
 	without modifiying the legend keys.
 	* plot/legend.m: Add padding to legend positions. Fix for
 	outerposition for southeastoutside and southwestoutside.
 	Bug #32374.
 
diff --git a/OLD-ChangeLogs/src-ChangeLog b/OLD-ChangeLogs/src-ChangeLog
--- a/OLD-ChangeLogs/src-ChangeLog
+++ b/OLD-ChangeLogs/src-ChangeLog
@@ -337,20 +337,16 @@ 2011-02-09  Konstantinos Poulios  <logar
 
 2011-02-08  John W. Eaton  <jwe@octave.org>
 
 	* pr-output.cc (INSTANTIATE_ABS): Omit inline keyword from
 	template instantiation.  From Orion Poplawski <orion@cora.nwra.com>.
 
 2011-02-08  John W. Eaton  <jwe@octave.org>
 
-	* DLD-FUNCTIONS/chol.cc: Delete obsolete test of spcholinv.
-
-2011-02-08  John W. Eaton  <jwe@octave.org>
-
 	* oct-parse.yy (parse_fcn_file): Don't warn about coercing
 	nested functions to subfunctions if yyparse failed.
 
 2011-02-06  Konstantinos Poulios  <logari81@googlemail.com>
 
 	* graphics.h.in (class axes::properties): Tag positionmode,
 	rotationmode, horizontalalignmentmode, verticalalignmentmode
 	with "u" qualifier. New hidden property autopos_tag.
diff --git a/scripts/deprecated/complement.m b/scripts/deprecated/complement.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/complement.m
@@ -0,0 +1,78 @@
+## Copyright (C) 1994-2011 John W. Eaton
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} complement (@var{x}, @var{y})
+## Return the elements of set @var{y} that are not in set @var{x}.  For
+## example:
+##
+## @example
+## @group
+## complement ([ 1, 2, 3 ], [ 2, 3, 5 ])
+##      @result{} 5
+## @end group
+## @end example
+## @seealso{union, intersect, unique}
+## @end deftypefn
+
+## Author: jwe
+
+## Deprecated in version 3.2
+
+function y = complement (a, b)
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "complement is obsolete and will be removed from a future version of Octave, please use setdiff instead");
+  endif
+
+  if (nargin != 2)
+    print_usage ();
+  endif
+
+  if (isempty (a))
+    y = unique (b);
+  elseif (isempty (b))
+    y = [];
+  else
+    a = unique (a);
+    b = unique (b);
+    yindex = 1;
+    y = zeros (1, length (b));
+    for index = 1:length (b)
+      if (all (a != b (index)))
+        y(yindex++) = b(index);
+      endif
+    endfor
+    y = y(1:(yindex-1));
+  endif
+
+endfunction
+
+%!assert(all (all (complement ([1, 2, 3], [3; 4; 5; 6]) == [4, 5, 6])));
+
+%!assert(all (all (complement ([1, 2, 3], [3, 4, 5, 6]) == [4, 5, 6])));
+
+%!assert(isempty (complement ([1, 2, 3], [3, 2, 1])));
+
+%!error complement (1);
+
+%!error complement (1, 2, 3);
+
diff --git a/scripts/deprecated/create_set.m b/scripts/deprecated/create_set.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/create_set.m
@@ -0,0 +1,79 @@
+## Copyright (C) 1994-2011 John W. Eaton
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn  {Function File} {} create_set (@var{x})
+## @deftypefnx {Function File} {} create_set (@var{x}, "rows")
+## This function has been deprecated.  Use unique instead.
+## @end deftypefn
+
+## Return a row vector containing the unique values in @var{x}, sorted in
+## ascending order.  For example,
+##
+## @example
+## @group
+## create_set ([ 1, 2; 3, 4; 4, 2; 1, 2 ])
+##      @result{} [ 1, 2, 3, 4 ]
+## @end group
+## @end example
+##
+## If the optional second input argument is the string "rows" each row of
+## the matrix @var{x} will be considered an element of set.  For example,
+## @example
+## @group
+## create_set ([ 1, 2; 3, 4; 4, 2; 1, 2 ], "rows")
+##      @result{}  1   2
+##     3   4
+##     4   2
+## @end group
+## @end example
+## @seealso{union, intersect, complement, unique}
+
+## Author: jwe
+
+## Deprecated in version 3.2
+
+function y = create_set (x, rows_opt)
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "create_set is obsolete and will be removed from a future version of Octave, please use unique instead");
+  endif
+
+  if (nargin < 1 || nargin > 2)
+    print_usage ();
+  endif
+
+  if (nargin == 1)
+    y = unique (x)(:)';
+  elseif (strcmpi (rows_opt, "rows"))
+    y = unique (x, "rows");
+  else
+    error ("create_set: expecting \"rows\" as second argument");
+  endif
+
+endfunction
+
+%!assert(all (all (create_set ([1, 2, 3, 4, 2, 4]) == [1, 2, 3, 4])));
+%!assert(all (all (create_set ([1, 2; 3, 4; 2, 4]) == [1, 2, 3, 4])));
+%!assert(all (all (create_set ([1; 2; 3; 4; 2; 4]) == [1, 2, 3, 4])));
+%!assert(isempty (create_set ([])));
+%!error create_set (1, 2);
+
diff --git a/scripts/deprecated/dmult.m b/scripts/deprecated/dmult.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/dmult.m
@@ -0,0 +1,49 @@
+## Copyright (C) 1995-2011 Kurt Hornik
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} dmult (@var{a}, @var{b})
+## This function has been deprecated.  Use the direct syntax @code{diag(A)*B}
+## which is more readable and now also more efficient.
+## @end deftypefn
+
+## Author: KH <Kurt.Hornik@wu-wien.ac.at>
+## Description: Rescale the rows of a matrix
+
+## Deprecated in version 3.2
+
+function M = dmult (a, B)
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "dmult is obsolete and will be removed from a future version of Octave; please use the straightforward (and now efficient) syntax \"diag(A)*B\"");
+  endif
+
+  if (nargin != 2)
+    print_usage ();
+  endif
+ if (! isvector (a))
+    error ("dmult: a must be a vector of length rows (B)");
+  endif
+  a = a(:);
+  sb = size (B);
+  sb(1) = 1;
+  M = repmat (a(:), sb) .* B;
+endfunction
diff --git a/scripts/deprecated/iscommand.m b/scripts/deprecated/iscommand.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/iscommand.m
@@ -0,0 +1,44 @@
+## Copyright (C) 2009-2011 John W. Eaton
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Built-in Function} {} iscommand (@var{name})
+## This function is obsolete and will be removed from a future
+## version of Octave.
+## @end deftypefn
+
+## Author: jwe
+
+## Deprecated in version 3.2
+
+function retval = iscommand ()
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "iscommand is obsolete and will be removed from a future version of Octave");
+  endif
+
+  if (nargin == 0)
+    retval = {};
+  else
+    retval = true;
+  endif
+
+endfunction
diff --git a/scripts/deprecated/israwcommand.m b/scripts/deprecated/israwcommand.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/israwcommand.m
@@ -0,0 +1,44 @@
+## Copyright (C) 2009-2011 John W. Eaton
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Built-in Function} {} israwcommand (@var{name})
+## This function is obsolete and will be removed from a future
+## version of Octave.
+## @end deftypefn
+
+## Author: jwe
+
+## Deprecated in version 3.2
+
+function retval = israwcommand ()
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "israwcommand is obsolete and will be removed from a future version of Octave");
+  endif
+
+  if (nargin == 0)
+    retval = {};
+  else
+    retval = true;
+  endif
+
+endfunction
diff --git a/scripts/deprecated/lchol.m b/scripts/deprecated/lchol.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/lchol.m
@@ -0,0 +1,39 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn  {Loadable Function} {@var{l} =} lchol (@var{a})
+## @deftypefnx {Loadable Function} {[@var{l}, @var{p}] =} lchol (@var{a})
+## This function has been deprecated.  Use @code{chol (@dots{},'lower')}
+## instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function varargout = lchol (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spfind is obsolete and will be removed from a future version of Octave; please use find instead");
+  endif
+
+  varargout = cell (nargout, 1);
+  [ varargout{:} ] = chol (varargin{:}, "lower");
+
+endfunction
diff --git a/scripts/deprecated/loadimage.m b/scripts/deprecated/loadimage.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/loadimage.m
@@ -0,0 +1,43 @@
+## Copyright (C) 1994-2011 John W. Eaton
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {[@var{x}, @var{map}] =} loadimage (@var{file})
+## Load an image file and its associated color map from the specified
+## @var{file}.  The image must be stored in Octave's image format.
+## @seealso{saveimage, load, save}
+## @end deftypefn
+
+## Author: Tony Richardson <arichard@stark.cc.oh.us>
+## Created: July 1994
+## Adapted-By: jwe
+
+## Deprecated in version 3.2
+
+function [img_retval, map_retval] = loadimage (varargin)
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "loadimage is obsolete and will be removed from a future version of Octave; please use imread instead");
+  endif
+
+  [img_retval, map_retval] = imread (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/mark_as_command.m b/scripts/deprecated/mark_as_command.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/mark_as_command.m
@@ -0,0 +1,38 @@
+## Copyright (C) 2009-2011 John W. Eaton
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Built-in Function} {} mark_as_command (@var{name})
+## This function is obsolete and will be removed from a future
+## version of Octave.
+## @end deftypefn
+
+## Author: jwe
+
+## Deprecated in version 3.2
+
+function mark_as_command ()
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "mark_as_command is obsolete and will be removed from a future version of Octave");
+  endif
+
+endfunction
diff --git a/scripts/deprecated/mark_as_rawcommand.m b/scripts/deprecated/mark_as_rawcommand.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/mark_as_rawcommand.m
@@ -0,0 +1,38 @@
+## Copyright (C) 2009-2011 John W. Eaton
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Built-in Function} {} mark_as_rawcommand (@var{name})
+## This function is obsolete and will be removed from a future
+## version of Octave.
+## @end deftypefn
+
+## Author: jwe
+
+## Deprecated in version 3.2
+
+function mark_as_rawcommand ()
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "mark_as_rawcommand is obsolete and will be removed from a future version of Octave");
+  endif
+
+endfunction
diff --git a/scripts/deprecated/module.mk b/scripts/deprecated/module.mk
--- a/scripts/deprecated/module.mk
+++ b/scripts/deprecated/module.mk
@@ -1,33 +1,65 @@
 FCN_FILE_DIRS += deprecated
 
 deprecated_FCN_FILES = \
   deprecated/autocor.m \
   deprecated/autocov.m \
   deprecated/betai.m \
   deprecated/cellidx.m \
   deprecated/clg.m \
+  deprecated/complement.m \
+  deprecated/create_set.m \
   deprecated/cquad.m \
   deprecated/dispatch.m \
+  deprecated/dmult.m \
   deprecated/fstat.m \
   deprecated/gammai.m \
   deprecated/glpkmex.m \
   deprecated/intwarning.m \
+  deprecated/iscommand.m \
   deprecated/is_duplicate_entry.m \
   deprecated/is_global.m \
+  deprecated/israwcommand.m \
   deprecated/isstr.m \
+  deprecated/lchol.m \
+  deprecated/loadimage.m \
   deprecated/krylovb.m \
+  deprecated/mark_as_command.m \
+  deprecated/mark_as_rawcommand.m \
   deprecated/perror.m \
   deprecated/replot.m \
   deprecated/saveimage.m \
   deprecated/setstr.m \
+  deprecated/spatan2.m \
+  deprecated/spchol2inv.m \
+  deprecated/spcholinv.m \
+  deprecated/spchol.m \
+  deprecated/spcumprod.m \
+  deprecated/spcumsum.m \
+  deprecated/spdet.m \
+  deprecated/spdiag.m \
+  deprecated/spfind.m \
   deprecated/sphcat.m \
+  deprecated/spinv.m \
+  deprecated/spkron.m \
+  deprecated/splchol.m \
+  deprecated/split.m \
+  deprecated/splu.m \
+  deprecated/spmax.m \
+  deprecated/spmin.m \
+  deprecated/spprod.m \
+  deprecated/spqr.m \
+  deprecated/spsum.m \
+  deprecated/spsumsq.m \
   deprecated/spvcat.m \
+  deprecated/str2mat.m \
   deprecated/strerror.m \
+  deprecated/unmark_command.m \
+  deprecated/unmark_rawcommand.m \
   deprecated/values.m \
   deprecated/weibcdf.m \
   deprecated/weibinv.m \
   deprecated/weibpdf.m \
   deprecated/weibrnd.m
 
 FCN_FILES += $(deprecated_FCN_FILES)
 
diff --git a/scripts/deprecated/spatan2.m b/scripts/deprecated/spatan2.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spatan2.m
@@ -0,0 +1,36 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} spatan2 (@var{y}, @var{x})
+## This function has been deprecated.  Use @code{atan2} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function retval = spatan2 (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spatan2 is obsolete and will be removed from a future version of Octave; please use atan2 instead");
+  endif
+
+  retval = atan2 (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spchol.m b/scripts/deprecated/spchol.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spchol.m
@@ -0,0 +1,39 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn  {Loadable Function} {@var{r} =} spchol (@var{a})
+## @deftypefnx {Loadable Function} {[@var{r}, @var{p}] =} spchol (@var{a})
+## @deftypefnx {Loadable Function} {[@var{r}, @var{p}, @var{q}] =} spchol (@var{a})
+## This function has been deprecated.  Use @code{chol} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function varargout = spchol (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spchol is obsolete and will be removed from a future version of Octave; please use chol instead");
+  endif
+
+  varargout = cell (nargout, 1);
+  [ varargout{:} ] = chol (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spchol2inv.m b/scripts/deprecated/spchol2inv.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spchol2inv.m
@@ -0,0 +1,36 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} spchol2inv (@var{u})
+## This function has been deprecated.  Use @code{chol2inv} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function retval = spchol2inv (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spchol2inv is obsolete and will be removed from a future version of Octave; please use chol2inv instead");
+  endif
+
+  retval = chol2inv (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spcholinv.m b/scripts/deprecated/spcholinv.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spcholinv.m
@@ -0,0 +1,35 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} spcholinv (@var{u})
+## This function has been deprecated.  Use @code{cholinv} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function retval = spcholinv (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spcholinv is obsolete and will be removed from a future version of Octave; please use cholinv instead");
+  endif
+  retval = cholinv (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spcumprod.m b/scripts/deprecated/spcumprod.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spcumprod.m
@@ -0,0 +1,36 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} spcumprod (@var{x}, @var{dim})
+## This function has been deprecated.  Use @code{cumprod} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function retval = spcumprod (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spcumprod is obsolete and will be removed from a future version of Octave; please use cumprod instead");
+  endif
+
+  retval = cumprod (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spcumsum.m b/scripts/deprecated/spcumsum.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spcumsum.m
@@ -0,0 +1,36 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} spcumsum (@var{x}, @var{dim})
+## This function has been deprecated.  Use @code{cumsum} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function retval = spcumsum (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spcumsum is obsolete and will be removed from a future version of Octave; please use cumsum instead");
+  endif
+
+  retval = cumsum (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spdet.m b/scripts/deprecated/spdet.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spdet.m
@@ -0,0 +1,37 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Loadable Function} {[@var{d}, @var{rcond}] =} spdet (@var{a})
+## This function has been deprecated.  Use @code{det} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function varargout = spdet (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spdet is obsolete and will be removed from a future version of Octave; please use det instead");
+  endif
+
+  varargout = cell (nargout, 1);
+  [ varargout{:} ] = det (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spdiag.m b/scripts/deprecated/spdiag.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spdiag.m
@@ -0,0 +1,37 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} spdiag (@var{v}, @var{k})
+## This function has been deprecated.  Use @code{sparse (diag (@dots{}))}
+## instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function retval = spdiag (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spdiag is obsolete and will be removed from a future version of Octave; please use sparse (diag (...)) instead");
+  endif
+
+  retval = sparse (diag (varargin{:}));
+
+endfunction
diff --git a/scripts/deprecated/spfind.m b/scripts/deprecated/spfind.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spfind.m
@@ -0,0 +1,40 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn  {Loadable Function} {} spfind (@var{x})
+## @deftypefnx {Loadable Function} {} spfind (@var{x}, @var{n})
+## @deftypefnx {Loadable Function} {} spfind (@var{x}, @var{n}, @var{direction})
+## @deftypefnx {Loadable Function} {[@var{i}, @var{j}, @var{v}} spfind (@dots{})
+## This function has been deprecated.  Use @code{find} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function varargout = spfind (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spfind is obsolete and will be removed from a future version of Octave; please use find instead");
+  endif
+
+  varargout = cell (nargout, 1);
+  [ varargout{:} ] = find (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spinv.m b/scripts/deprecated/spinv.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spinv.m
@@ -0,0 +1,37 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {[@var{x}, @var{rcond}] =} spinv (@var{a})
+## This function has been deprecated.  Use @code{inv} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function varargout = spinv (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spinv is obsolete and will be removed from a future version of Octave; please use inv instead");
+  endif
+
+  varargout = cell (nargout, 1);
+  [ varargout{:} ] = inv (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spkron.m b/scripts/deprecated/spkron.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spkron.m
@@ -0,0 +1,38 @@
+## Copyright (C) 2008-2011 John W. Eaton
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} spkron (@var{a}, @var{b})
+## This function has been deprecated.  Use @code{kron} instead.
+## @end deftypefn
+
+## Author: jwe
+
+## Deprecated in version 3.2
+
+function retval = spkron (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spkron is obsolete and will be removed from a future version of Octave; please use kron instead");
+  endif
+
+  retval = kron (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/splchol.m b/scripts/deprecated/splchol.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/splchol.m
@@ -0,0 +1,40 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn  {Loadable Function} {@var{l} =} splchol (@var{a})
+## @deftypefnx {Loadable Function} {[@var{l}, @var{p}] =} splchol (@var{a})
+## @deftypefnx {Loadable Function} {[@var{l}, @var{p}, @var{q}] =} splchol (@var{a})
+## This function has been deprecated.  Use @code{chol (@dots{},'lower')}
+## instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function varargout = splchol (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "splchol is obsolete and will be removed from a future version of Octave; please use chol instead");
+  endif
+
+  varargout = cell (nargout, 1);
+  [ varargout{:} ] = chol (varargin{:}, "lower");
+
+endfunction
diff --git a/scripts/deprecated/split.m b/scripts/deprecated/split.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/split.m
@@ -0,0 +1,130 @@
+## Copyright (C) 1996-2011 Kurt Hornik
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} split (@var{s}, @var{t}, @var{n})
+## This function has been deprecated.  Use @code{char (strsplit (s, t))}
+## instead.
+## @end deftypefn
+
+## Divides the string @var{s} into pieces separated by @var{t}, returning
+## the result in a string array (padded with blanks to form a valid
+## matrix).  If the optional input @var{n} is supplied, split @var{s}
+## into at most @var{n} different pieces.
+##
+## For example,
+##
+## @example
+## split ("Test string", "t")
+##      @result{}
+##         "Tes "
+##         " s  "
+##         "ring"
+## @end example
+##
+## @example
+## split ("Test string", "t s", 2)
+##      @result{}
+##         "Tes  "
+##         "tring"
+## @end example
+## @seealso{strtok, index}
+## @end deftypefn
+
+## Author: Kurt Hornik <Kurt.Hornik@wu-wien.ac.at>
+## Adapted-By: jwe
+
+## Deprecated in version 3.2
+
+function m = split (s, t, n)
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "split is obsolete and will be removed from a future version of Octave; please use strsplit instead");
+  endif
+
+  if (nargin == 2 || nargin == 3)
+    if (nargin == 2)
+      n = length (s);
+    endif
+
+    if (ischar (s) && ischar (t))
+
+      l_s = length (s);
+      l_t = length (t);
+
+      if (l_s == 0)
+        m = "";
+        return;
+      elseif (l_t == 0)
+        m = s';
+        return;
+      elseif (l_s < l_t)
+        error ("split: S must not be shorter than T");
+      endif
+
+      if (min (size (s)) != 1 || min (size (t)) != 1)
+        error("split: multi-line strings are not supported");
+      endif
+
+      ind = findstr (s, t, 0);
+      if (length (ind) == 0)
+        m = s;
+        return;
+      elseif (n - 1 < length(ind))
+        ind = ind(1:n-1);
+      endif
+      ind2 = [1, ind+l_t];
+      ind  = [ind, l_s+1];
+
+      ind_diff = ind-ind2;
+
+      ## Create a matrix of the correct size that's filled with spaces.
+      m_rows = length (ind);
+      m_cols = max (ind_diff);
+      m = repmat (" ", m_rows, m_cols);
+
+      ## Copy the strings to the matrix.
+      for i = 1:length (ind)
+        tmp = ind2(i):(ind(i)-1);
+        m(i,1:length(tmp)) = s(tmp);
+      endfor
+    else
+      error ("split: both S and T must be strings");
+    endif
+  else
+    print_usage ();
+  endif
+
+endfunction
+
+%!assert(all (all (split ("Test string", "t") == ["Tes "; " s  "; "ring"])));
+
+%!error split ();
+
+%!assert(all (strcmp (split ("foo bar baz", " ", 2), ["foo"; "bar baz"])));
+
+%!error split ("foo", "bar", 3, 4);
+
+%!assert (all (strcmp (split("road//to/hell","/"), ["road"; "    "; "to  "; "hell"])))
+
+%!assert (all (strcmp (split("/road/to/hell/","/"), ["    "; "road"; "to  "; "hell"; "    "])))
+
+
diff --git a/scripts/deprecated/splu.m b/scripts/deprecated/splu.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/splu.m
@@ -0,0 +1,48 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn  {Loadable Function} {[@var{l}, @var{u}] =} splu (@var{a})
+## @deftypefnx {Loadable Function} {[@var{l}, @var{u}, @var{P}] =} splu (@var{a})
+## @deftypefnx {Loadable Function} {[@var{l}, @var{u}, @var{P}, @var{Q}] =} splu (@var{a})
+## @deftypefnx {Loadable Function} {[@var{l}, @var{u}, @var{P}, @var{Q}] =} splu (@dots{}, @var{thres})
+## @deftypefnx {Loadable Function} {[@var{l}, @var{u}, @var{P}] =} splu (@dots{}, @var{Q})
+## This function has been deprecated.  Use @code{lu} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function varargout = splu (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "splu is obsolete and will be removed from a future version of Octave; please use lu instead");
+  endif
+
+  for i = 2 : nargin
+    arg = varargin {i};
+    if (! isscalar (arg))
+      error ("splu: Can no longer treat input column permutations");
+    endif
+  endfor
+
+  varargout = cell (nargout, 1);
+  [ varargout{:} ] = lu (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spmax.m b/scripts/deprecated/spmax.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spmax.m
@@ -0,0 +1,38 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn  {Mapping Function} {} spmax (@var{x}, @var{y}, @var{dim})
+## @deftypefnx {Mapping Function} {[@var{w}, @var{iw}] =} spmax (@var{x})
+## This function has been deprecated.  Use @code{max} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function varargout = spmax (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spmax is obsolete and will be removed from a future version of Octave; please use max instead");
+  endif
+
+  varargout = cell (nargout, 1);
+  [ varargout{:} ] = max (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spmin.m b/scripts/deprecated/spmin.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spmin.m
@@ -0,0 +1,38 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn  {Mapping Function} {} spmin (@var{x}, @var{y}, @var{dim})
+## @deftypefnx {Mapping Function} {[@var{w}, @var{iw}] =} spmin (@var{x})
+## This function has been deprecated.  Use @code{min} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function varargout = spmin (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spmin is obsolete and will be removed from a future version of Octave; please use min instead");
+  endif
+
+  varargout = cell (nargout, 1);
+  [ varargout{:} ] = min (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spprod.m b/scripts/deprecated/spprod.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spprod.m
@@ -0,0 +1,36 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} spprod (@var{x}, @var{dim})
+## This function has been deprecated.  Use @code{prod} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function retval = spprod (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spprod is obsolete and will be removed from a future version of Octave; please use prod instead");
+  endif
+
+  retval = prod (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spqr.m b/scripts/deprecated/spqr.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spqr.m
@@ -0,0 +1,40 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn  {Loadable Function} {@var{r} =} spqr (@var{a})
+## @deftypefnx {Loadable Function} {@var{r} =} spqr (@var{a}, 0)
+## @deftypefnx {Loadable Function} {[@var{c}, @var{r}] =} spqr (@var{a}, @var{b})
+## @deftypefnx {Loadable Function} {[@var{c}, @var{r}] =} spqr (@var{a}, @var{b}, 0)
+## This function has been deprecated.  Use @code{qr} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function varargout = spqr (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spqr is obsolete and will be removed from a future version of Octave; please use qr instead");
+  endif
+
+  varargout = cell (nargout, 1);
+  [ varargout{:} ] = qr (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spsum.m b/scripts/deprecated/spsum.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spsum.m
@@ -0,0 +1,36 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} spsum (@var{x}, @var{dim})
+## This function has been deprecated.  Use @code{sum} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function retval = spsum (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spsum is obsolete and will be removed from a future version of Octave; please use sum instead");
+  endif
+
+  retval = sum (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/spsumsq.m b/scripts/deprecated/spsumsq.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/spsumsq.m
@@ -0,0 +1,35 @@
+## Copyright (C) 2008-2011 David Bateman
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} spsumsq (@var{x}, @var{dim})
+## This function has been deprecated.  Use @code{sumsq} instead.
+## @end deftypefn
+
+## Deprecated in version 3.2
+
+function retval = spsumsq (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "spsumsq is obsolete and will be removed from a future version of Octave; please use sumsq instead");
+  endif
+  retval = sumsq (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/str2mat.m b/scripts/deprecated/str2mat.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/str2mat.m
@@ -0,0 +1,45 @@
+## Copyright (C) 1996-2011 Kurt Hornik
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Function File} {} str2mat (@var{s_1}, @dots{}, @var{s_n})
+## Return a matrix containing the strings @var{s_1}, @dots{}, @var{s_n} as
+## its rows.  Each string is padded with blanks in order to form a valid
+## matrix.
+##
+## This function is modelled after @sc{matlab}.  In Octave, you can create
+## a matrix of strings by @code{[@var{s_1}; @dots{}; @var{s_n}]} even if
+## the strings are not all the same length.
+## @end deftypefn
+
+## Author: Kurt Hornik <Kurt.Hornik@wu-wien.ac.at>
+## Adapted-By: jwe
+
+## Deprecated in version 3.2
+
+function retval = str2mat (varargin)
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "str2mat is obsolete and will be removed from a future version of Octave; please use char instead");
+  endif
+
+  retval = char (varargin{:});
+
+endfunction
diff --git a/scripts/deprecated/unmark_command.m b/scripts/deprecated/unmark_command.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/unmark_command.m
@@ -0,0 +1,38 @@
+## Copyright (C) 2009-2011 John W. Eaton
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Built-in Function} {} unmark_command (@var{name})
+## This function is obsolete and will be removed from a future
+## version of Octave.
+## @end deftypefn
+
+## Author: jwe
+
+## Deprecated in version 3.2
+
+function unmark_command ()
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "unmark_command is obsolete and will be removed from a future version of Octave");
+  endif
+
+endfunction
diff --git a/scripts/deprecated/unmark_rawcommand.m b/scripts/deprecated/unmark_rawcommand.m
new file mode 100644
--- /dev/null
+++ b/scripts/deprecated/unmark_rawcommand.m
@@ -0,0 +1,38 @@
+## Copyright (C) 2009-2011 John W. Eaton
+##
+## This file is part of Octave.
+##
+## Octave is free software; you can redistribute it and/or modify it
+## under the terms of the GNU General Public License as published by
+## the Free Software Foundation; either version 3 of the License, or (at
+## your option) any later version.
+##
+## Octave is distributed in the hope that it will be useful, but
+## WITHOUT ANY WARRANTY; without even the implied warranty of
+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+## General Public License for more details.
+##
+## You should have received a copy of the GNU General Public License
+## along with Octave; see the file COPYING.  If not, see
+## <http://www.gnu.org/licenses/>.
+
+## -*- texinfo -*-
+## @deftypefn {Built-in Function} {} unmark_rawcommand (@var{name})
+## This function is obsolete and will be removed from a future
+## version of Octave.
+## @end deftypefn
+
+## Author: jwe
+
+## Deprecated in version 3.2
+
+function unmark_rawcommand ()
+
+  persistent warned = false;
+  if (! warned)
+    warned = true;
+    warning ("Octave:deprecated-function",
+             "unmark_rawcommand is obsolete and will be removed from a future version of Octave");
+  endif
+
+endfunction
diff --git a/src/DLD-FUNCTIONS/chol.cc b/src/DLD-FUNCTIONS/chol.cc
--- a/src/DLD-FUNCTIONS/chol.cc
+++ b/src/DLD-FUNCTIONS/chol.cc
@@ -488,16 +488,19 @@ symmetric positive definite matrix @var{
 %! Ainv1 = cholinv(A);
 %! assert (norm(Ainv-Ainv1),0,1e-10)
 %!testif HAVE_CHOLMOD
 %! Ainv2 = inv(sparse(A));
 %! assert (norm(Ainv-Ainv2),0,1e-10)
 %!testif HAVE_CHOLMOD
 %! Ainv3 = cholinv(sparse(A));
 %! assert (norm(Ainv-Ainv3),0,1e-10)
+%!testif HAVE_CHOLMOD
+%! Ainv4 = spcholinv(sparse(A));
+%! assert (norm(Ainv-Ainv4),0,1e-10)
 
 */
 
 DEFUN_DLD (chol2inv, args, ,
   "-*- texinfo -*-\n\
 @deftypefn {Loadable Function} {} chol2inv (@var{U})\n\
 Invert a symmetric, positive definite square matrix from its Cholesky\n\
 decomposition, @var{U}.  Note that @var{U} should be an upper-triangular\n\
