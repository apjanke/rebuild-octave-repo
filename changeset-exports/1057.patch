# HG changeset patch
# User jwe
# Date 790641148 0
#      Fri Jan 20 22:32:28 1995 +0000
# Node ID d94193f2620c3a1e24700375de9be5bc2eaf7c03
# Parent  de34f868e388e65028a5cc7614d2c750dbcdd91e
[project @ 1995-01-20 22:32:28 by jwe]

diff --git a/config.guess b/config.guess
--- a/config.guess
+++ b/config.guess
@@ -1,25 +1,30 @@
 #!/bin/sh
-# This script attempts to guess a canonical system name.
-#   Copyright (C) 1992, 1993, 1994 Free Software Foundation, Inc.
+# Attempt to guess a canonical system name.
+#   Copyright (C) 1992, 1993, 1994, 1995 Free Software Foundation, Inc.
 #
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2 of the License, or
 # (at your option) any later version.
 #
 # This program is distributed in the hope that it will be useful, but
 # WITHOUT ANY WARRANTY; without even the implied warranty of
 # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 # General Public License for more details.
 #
 # You should have received a copy of the GNU General Public License
 # along with this program; if not, write to the Free Software
-# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.  */
+# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+#
+# As a special exception to the GNU General Public License, if you
+# distribute this file as part of a program that contains a
+# configuration script generated by Autoconf, you may include it under
+# the same distribution terms that you use for the rest of that program.
 
 # Written by Per Bothner <bothner@cygnus.com>.
 # The master version of this file is at the FSF in /home/gd/gnu/lib.
 #
 # This script attempts to guess a canonical system name similar to
 # config.sub.  If it succeeds, it prints the system name on stdout, and
 # exits with 0.  Otherwise, it exits with 1.
 #
@@ -69,16 +74,21 @@ case "${UNAME_MACHINE}:${UNAME_SYSTEM}:$
 	exit 0 ;;
     sun4*:SunOS:6*:*)
 	# According to config.sub, this is the proper way to canonicalize
 	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
 	# it's likely to be more like Solaris than SunOS4.
 	echo sparc-sun-solaris3`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
 	exit 0 ;;
     sun4*:SunOS:*:*)
+	case "`/usr/bin/arch -k`" in
+	    Series*|S4*)
+		UNAME_RELEASE=`uname -v`
+		;;
+	esac
 	# Japanese Language versions have a version number like `4.1.3-JL'.
 	echo sparc-sun-sunos`echo ${UNAME_RELEASE}|sed -e 's/-/_/'`
 	exit 0 ;;
     sun3*:SunOS:*:*)
 	echo m68k-sun-sunos${UNAME_RELEASE}
 	exit 0 ;;
     RISC*:ULTRIX:*:*)
 	echo mips-dec-ultrix${UNAME_RELEASE}
@@ -117,16 +127,19 @@ case "${UNAME_MACHINE}:${UNAME_SYSTEM}:$
 	echo m88k-tektronix-sysv3
 	exit 0 ;;
     Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
 	echo m68k-tektronix-bsd
 	exit 0 ;;
     *:IRIX:*:*)
 	echo mips-sgi-irix${UNAME_RELEASE}
 	exit 0 ;;
+   ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
+	echo romp-ibm-aix      # uname -m gives an 8 hex-code CPU id
+	exit 0 ;;              # Note that: echo "'`uname -s`'" gives 'AIX '
     i[34]86:AIX:*:*)
 	echo i386-ibm-aix
 	exit 0 ;;
     *:AIX:2:3)
 	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
 		sed 's/^		//' << EOF >dummy.c
 		#include <sys/systemcfg.h>
 
@@ -142,26 +155,40 @@ EOF
 		rm -f dummy.c dummy
 		echo rs6000-ibm-aix3.2.5
 	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
 		echo rs6000-ibm-aix3.2.4
 	else
 		echo rs6000-ibm-aix3.2
 	fi
 	exit 0 ;;
-    *:AIX:1:4)
+    *:AIX:*:4)
 	if /usr/sbin/lsattr -EHl proc0 | grep POWER >/dev/null 2>&1; then
-		echo rs6000-ibm-aix4.1
+		IBM_ARCH=rs6000
 	else
-		echo powerpc-ibm-aix4.1
+		IBM_ARCH=powerpc
 	fi
+	if grep bos410 /usr/include/stdio.h >/dev/null 2>&1; then
+		IBM_REV=4.1
+	elif grep bos411 /usr/include/stdio.h >/dev/null 2>&1; then
+		IBM_REV=4.1.1
+	else
+		IBM_REV=4.${UNAME_RELEASE}
+	fi
+	echo ${IBM_ARCH}-ibm-aix${IBM_REV}
 	exit 0 ;;
     *:AIX:*:*)
 	echo rs6000-ibm-aix
 	exit 0 ;;
+    ibmrt:4.4BSD:*|romp-ibm:BSD:*)
+	echo romp-ibm-bsd4.4
+	exit 0 ;;
+    ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC NetBSD and
+	echo romp-ibm-bsd${UNAME_RELEASE}   # 4.3 with uname added to 
+	exit 0 ;;                           # report: romp-ibm BSD 4.3
     *:BOSX:*:*)
 	echo rs6000-bull-bosx
 	exit 0 ;;
     DPX/2?00:B.O.S.:*:*)
 	echo m68k-bull-sysv3
 	exit 0 ;;
     9000/[34]??:4.3bsd:1.*:*)
 	echo m68k-hp-bsd
@@ -246,21 +273,21 @@ EOF
 	echo ymp-cray-unicos
         exit 0 ;;
     CRAY-2:UNICOS:*:*)
 	echo cray2-cray-unicos
         exit 0 ;;
     hp3[0-9][05]:NetBSD:*:*)
 	echo m68k-hp-netbsd${UNAME_RELEASE}
 	exit 0 ;;
-    i[34]86:BSD/386:*:*)
+    i[34]86:BSD/386:*:* | *:BSD/OS:*:*)
 	echo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}
 	exit 0 ;;
     *:FreeBSD:*:*)
-	echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/(.*//'`
+	echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`
 	exit 0 ;;
     *:NetBSD:*:*)
 	echo ${UNAME_MACHINE}-unknown-netbsd`echo ${UNAME_RELEASE}|sed -e 's/[-_].*/\./'`
 	exit 0 ;;
     *:GNU:*:*)
 	echo `echo ${UNAME_MACHINE}|sed -e 's,/.*$,,'`-unknown-gnu`echo ${UNAME_RELEASE}|sed -e 's,/.*$,,'`
 	exit 0 ;;
     *:Linux:*:*)
@@ -288,35 +315,38 @@ EOF
 		echo ${UNAME_MACHINE}-unknown-isc$UNAME_REL
 	else
 		echo ${UNAME_MACHINE}-unknown-sysv32
 	fi
 	exit 0 ;;
     Intel:Mach:3*:*)
 	echo i386-unknown-mach3
 	exit 0 ;;
+    paragon:*:*:*)
+	echo i860-intel-osf1
+	exit 0 ;;
     i860:*:4.*:*) # i860-SVR4
 	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
 	  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4
 	else # Add other i860-SVR4 vendors below as they are discovered.
 	  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4
 	fi
 	exit 0 ;;
     mini*:CTIX:SYS*5:*)
 	# "miniframe"
 	echo m68010-convergent-sysv
 	exit 0 ;;
     M680[234]0:*:R3V[567]*:*)
 	test -r /sysV68 && echo 'm68k-motorola-sysv' && exit 0 ;;
-    3[34]??:*:4.0:*)
-	uname -p 2>/dev/null | grep 86 >/dev/null \
-	  && echo i486-ncr-sysv4 && exit 0 ;;
-    33[56]0,3???:*:4.0:*)
-	uname -p 2>/dev/null | grep 86 >/dev/null \
-	  && echo i486-ncr-sysv4.3 && exit 0 ;;
+    3[34]??:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0)
+        uname -p 2>/dev/null | grep 86 >/dev/null \
+          && echo i486-ncr-sysv4.3 && exit 0 ;;
+    3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)
+        uname -p 2>/dev/null | grep 86 >/dev/null \
+          && echo i486-ncr-sysv4 && exit 0 ;;
     m680[234]0:LynxOS:2.2*:*)
 	echo m68k-lynx-lynxos${UNAME_RELEASE}
 	exit 0 ;;
     mc68030:UNIX_System_V:4.*:*)
 	echo m68k-atari-sysv4
 	exit 0 ;;
     i[34]86:LynxOS:2.2*:*)
 	echo i386-lynx-lynxos${UNAME_RELEASE}
@@ -347,17 +377,24 @@ cat >dummy.c <<EOF
 main ()
 {
 #if defined (sony)
 #if defined (MIPSEB)
   /* BFD wants "bsd" instead of "newsos".  Perhaps BFD should be changed,
      I don't know....  */
   printf ("mips-sony-bsd\n"); exit (0);
 #else
-  printf ("m68k-sony-newsos\n"); exit (0);
+#include <sys/param.h>
+  printf ("m68k-sony-newsos%s\n",
+#ifdef NEWSOS4
+          "4"
+#else
+	  ""
+#endif
+         ); exit (0);
 #endif
 #endif
 
 #if defined (__arm) && defined (__acorn) && defined (__unix)
   printf ("arm-acorn-riscix"); exit (0);
 #endif
 
 #if defined (hp300) && !defined (hpux)
diff --git a/config.sub b/config.sub
--- a/config.sub
+++ b/config.sub
@@ -1,29 +1,33 @@
 #!/bin/sh
 # Configuration validation subroutine script, version 1.1.
-#   Copyright (C) 1991, 1992, 1993 Free Software Foundation, Inc.
+#   Copyright (C) 1991, 1992, 1993, 1994 Free Software Foundation, Inc.
 # This file is (in principle) common to ALL GNU software.
 # The presence of a machine in this file suggests that SOME GNU software
 # can handle that machine.  It does not imply ALL GNU software can. 
-
-#This file is free software; you can redistribute it and/or modify
-#it under the terms of the GNU General Public License as published by
-#the Free Software Foundation; either version 2 of the License, or
-#(at your option) any later version.
+#
+# This file is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
 
-#This program is distributed in the hope that it will be useful,
-#but WITHOUT ANY WARRANTY; without even the implied warranty of
-#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#GNU General Public License for more details.
-
-#You should have received a copy of the GNU General Public License
-#along with this program; if not, write to the Free Software
-#Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-
+# As a special exception to the GNU General Public License, if you
+# distribute this file as part of a program that contains a
+# configuration script generated by Autoconf, you may include it under
+# the same distribution terms that you use for the rest of that program.
 
 # Configuration subroutine to validate and canonicalize a configuration type.
 # Supply the specified configuration type as an argument.
 # If it is invalid, we print an error message on stderr and exit with code 1.
 # Otherwise, we print the canonical config type on stdout and succeed.
 
 # This file is supposed to be the same for all GNU packages
 # and recognize all the CPU types, system types and aliases
@@ -68,36 +72,25 @@ else os=; fi
 ### recognize some manufacturers as not being operating systems, so we
 ### can provide default operating systems below.
 case $os in
 	-sun*os*)
 		# Prevent following clause from handling this invalid input.
 		;;
 	-dec* | -mips* | -sequent* | -encore* | -pc532* | -sgi* | -sony* | \
 	-att* | -7300* | -3300* | -delta* | -motorola* | -sun[234]* | \
-	-unicom* | -ibm* | -next* | -hp | -isi* | -apollo | -altos* | \
+	-unicom* | -ibm* | -next | -hp | -isi* | -apollo | -altos* | \
 	-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\
 	-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \
-	-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \
-	-sim)						# CYGNUS LOCAL
+	-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp )
 		os=
 		basic_machine=$1
 		;;
-	-scout)						# CYGNUS LOCAL
-		;;
-	-wrs)						# CYGNUS LOCAL
-		os=vxworks
-		basic_machine=$1
-		;;
-	-unixware)					# CYGNUS LOCAL
-		os=-sysv4
-		basic_machine=`echo $1 | sed -e 's/86-.*/86-unknown/'`
-		;;
 	-hiux*)
-		os==-hiuxwe2
+		os=-hiuxwe2
 		;;
 	-sco4)
 		os=-sco3.2v4
 		basic_machine=`echo $1 | sed -e 's/86-.*/86-unknown/'`
 		;;
 	-sco3.2.[4-9]*)
 		os=`echo $os | sed -e 's/sco3.2./sco3.2v/'`
 		basic_machine=`echo $1 | sed -e 's/86-.*/86-unknown/'`
@@ -118,131 +111,92 @@ case $os in
 		basic_machine=clipper-intergraph
 		;;
 	-isc*)
 		basic_machine=`echo $1 | sed -e 's/86-.*/86-unknown/'`
 		;;
 	-lynx)
 		os=-lynxos
 		;;
+	-ptx*)
+		basic_machine=`echo $1 | sed -e 's/86-.*/86-sequent/'`
+		;;
+	-windowsnt*)
+		os=`echo $os | sed -e 's/windowsnt/winnt/'`
+		;;
 esac
 
 # Decode aliases for certain CPU-COMPANY combinations.
 case $basic_machine in
 	# Recognize the basic CPU types without company name.
 	# Some are omitted here because they have special meanings below.
-	tahoe | i[34]86 | i860 | m68k | m68000 | m88k | ns32k | arm | pyramid \
-		| tron | a29k | 580 | i960 | hppa1.0 | hppa1.1 \
-		| alpha | we32k | ns16k | clipper | sparclite | i370 \
-		| powerpc \
-		| h8300 | h8300h | sh \
-		| m88110 | sparc | m680[01234]0 | m683?2 | z8k | v70 \
-		| h8500 | mips64 | mipsel | mips64el) # CYGNUS LOCAL
+	tahoe | i[345]86 | i860 | m68k | m68000 | m88k | ns32k | arm | pyramid \
+		| tron | a29k | 580 | i960 | h8300 | hppa1.0 | hppa1.1 \
+		| alpha | we32k | ns16k | clipper | sparclite | i370 | sh \
+		| powerpc | sparc64 | 1750a | dsp16xx | mips64 | mipsel \
+		| pdp11 | mips64el | mips64orion | mips64orionel \
+		| sparc)
 		basic_machine=$basic_machine-unknown
 		;;
 	# Object if more than one company name word.
 	*-*-*)
 		echo Invalid configuration \`$1\': machine \`$basic_machine\' not recognized 1>&2
 		exit 1
 		;;
 	# Recognize the basic CPU types with company name.
-	vax-* | tahoe-* | i[34]86-* | i860-* | m68k-* | m68000-* | m88k-* \
+	vax-* | tahoe-* | i[345]86-* | i860-* | m68k-* | m68000-* | m88k-* \
 	      | sparc-* | ns32k-* | fx80-* | arm-* | c[123]* \
 	      | mips-* | pyramid-* | tron-* | a29k-* | romp-* | rs6000-* \
-	      | none-* | 580-* | cray2-* | i960-* | xmp-* | ymp-* \
+	      | none-* | 580-* | cray2-* | h8300-* | i960-* | xmp-* | ymp-* \
 	      | hppa1.0-* | hppa1.1-* | alpha-* | we32k-* | cydra-* | ns16k-* \
 	      | pn-* | np1-* | xps100-* | clipper-* | orion-* | sparclite-* \
-	      | powerpc \
-	      | h8300-* | h8300h-* | sh-* \
-	      | m88110-* | m680[01234]0-* | m683?2-* | z8k-* | h8500-* \
-	      | mips64-* | mipsel-* | mips64el-*) # CYGNUS LOCAL
+	      | pdp11-* | sh-* | powerpc-* | sparc64-* | mips64-* | mipsel-* \
+	      | mips64el-* | mips64orion-* | mips64orionel-*)
 		;;
 	# Recognize the various machine names and aliases which stand
 	# for a CPU type and a company and sometimes even an OS.
-
-	mips3-*)					# CYGNUS LOCAL
-		basic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`
-		;;
-	mips3)						# CYGNUS LOCAL
-		basic_machine=mips64-unknown
-		;;
-	dpx20 | dpx20-*)				# CYGNUS LOCAL
-		basic_machine=rs6000-bull
-		os=-bosx
-		;;
-	unixware)					# CYGNUS LOCAL
-		os=-sysv4
-		basic_machine=i386-unknown
-		;;
-	vaxv)
-		basic_machine=vax-dec
-		os=-sysv
-		;;
-	vms)
-		basic_machine=vax-dec
-		os=-vms
-		;;
-	i370-ibm* | ibm*)
-		basic_machine=i370-ibm
-		os=-mvs
-		;;
-	i386mach)					# CYGNUS LOCAL
-		basic_machine=i386-mach
-		os=-mach
-		;;
-	i[34]86v32)
-		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
-		os=-sysv32
-		;;
-	i[34]86v4*)
-		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
-		os=-sysv4
+	3b1 | 7300 | 7300-att | att-7300 | pc7300 | safari | unixpc)
+		basic_machine=m68000-att
 		;;
-	i[34]86v)
-		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
-		os=-sysv
-		;;
-	i[34]86sol2)
-		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
-		os=-solaris2
-		;;
-	go32 | i386-go32)				# CYGNUS LOCAL
-		basic_machine=i386-unknown
-		os=-go32
-		;;
-	i386-linux* | linux)				# CYGNUS LOCAL
-		basic_machine=i386-unknown
-		os=-linux
-		;;
-	i386-linux*coff | linuxcoff)			# CYGNUS LOCAL
-		basic_machine=i386-unknown
-		os=-linuxcoff
-		;;
-	i386-linux*elf | linuxelf)			# CYGNUS LOCAL
-		basic_machine=i386-unknown
-		os=-linuxelf
-		;;
-	386bsd)						# CYGNUS LOCAL
-		basic_machine=i386-unknown
-		os=-bsd
-		;;
-	netbsd386)
-		basic_machine=i386-unknown		# CYGNUS LOCAL
-		os=-netbsd
-		;;
-	spur)
-		basic_machine=spur-unknown
-		;;
-	paragon)
-		basic_machine=i860-intel
-		os=-osf
+	3b*)
+		basic_machine=we32k-att
 		;;
 	alliant | fx80)
 		basic_machine=fx80-alliant
 		;;
+	altos | altos3068)
+		basic_machine=m68k-altos
+		;;
+	am29k)
+		basic_machine=a29k-none
+		os=-bsd
+		;;
+	amdahl)
+		basic_machine=580-amdahl
+		os=-sysv
+		;;
+	amiga | amiga-*)
+		basic_machine=m68k-cbm
+		;;
+	amigados)
+		basic_machine=m68k-cbm
+		os=-amigados
+		;;
+	amigaunix | amix)
+		basic_machine=m68k-cbm
+		os=-sysv4
+		;;
+	apollo68)
+		basic_machine=m68k-apollo
+		os=-sysv
+		;;
+	balance)
+		basic_machine=ns32k-sequent
+		os=-dynix
+		;;
 	convex-c1)
 		basic_machine=c1-convex
 		os=-bsd
 		;;
 	convex-c2)
 		basic_machine=c2-convex
 		os=-bsd
 		;;
@@ -253,71 +207,248 @@ case $basic_machine in
 	convex-c34)
 		basic_machine=c34-convex
 		os=-bsd
 		;;
 	convex-c38)
 		basic_machine=c38-convex
 		os=-bsd
 		;;
-	m88k-omron*)
-		basic_machine=m88k-omron
+	cray | ymp)
+		basic_machine=ymp-cray
+		os=-unicos
 		;;
-	merlin)
-		basic_machine=ns32k-utek
-		os=-sysv
+	cray2)
+		basic_machine=cray2-cray
+		os=-unicos
 		;;
 	crds | unos)
 		basic_machine=m68k-crds
 		;;
+	da30 | da30-*)
+		basic_machine=m68k-da30
+		;;
+	decstation | decstation-3100 | pmax | pmax-* | pmin | dec3100 | decstatn)
+		basic_machine=mips-dec
+		;;
+	delta | 3300 | motorola-3300 | motorola-delta \
+	      | 3300-motorola | delta-motorola)
+		basic_machine=m68k-motorola
+		;;
+	delta88)
+		basic_machine=m88k-motorola
+		os=-sysv3
+		;;
+	dpx20 | dpx20-*)
+		basic_machine=rs6000-bull
+		os=-bosx
+		;;
+	dpx2* | dpx2*-bull)
+		basic_machine=m68k-bull
+		os=-sysv3
+		;;
+	ebmon29k)
+		basic_machine=a29k-amd
+		os=-ebmon
+		;;
 	elxsi)
 		basic_machine=elxsi-elxsi
 		os=-bsd
 		;;
 	encore | umax | mmax)
 		basic_machine=ns32k-encore
 		;;
+	fx2800)
+		basic_machine=i860-alliant
+		;;
 	genix)
 		basic_machine=ns32k-ns
 		;;
-	iris | iris4d | \
-	iris3 | iris4)					# CYGNUS LOCAL
+	gmicro)
+		basic_machine=tron-gmicro
+		os=-sysv
+		;;
+	h3050r* | hiux*)
+		basic_machine=hppa1.1-hitachi
+		os=-hiuxwe2
+		;;
+	h8300hms)
+		basic_machine=h8300-hitachi
+		os=-hms
+		;;
+	harris)
+		basic_machine=m88k-harris
+		os=-sysv3
+		;;
+	hp300-*)
+		basic_machine=m68k-hp
+		;;
+	hp300bsd)
+		basic_machine=m68k-hp
+		os=-bsd
+		;;
+	hp300hpux)
+		basic_machine=m68k-hp
+		os=-hpux
+		;;
+	hp9k2[0-9][0-9] | hp9k31[0-9])
+		basic_machine=m68000-hp
+		;;
+	hp9k3[2-9][0-9])
+		basic_machine=m68k-hp
+		;;
+	hp9k7[0-9][0-9] | hp7[0-9][0-9] | hp9k8[0-9]7 | hp8[0-9]7)
+		basic_machine=hppa1.1-hp
+		;;
+	hp9k8[0-9][0-9] | hp8[0-9][0-9])
+		basic_machine=hppa1.0-hp
+		;;
+	i370-ibm* | ibm*)
+		basic_machine=i370-ibm
+		os=-mvs
+		;;
+# I'm not sure what "Sysv32" means.  Should this be sysv3.2?
+	i[345]86v32)
+		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
+		os=-sysv32
+		;;
+	i[345]86v4*)
+		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
+		os=-sysv4
+		;;
+	i[345]86v)
+		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
+		os=-sysv
+		;;
+	i[345]86sol2)
+		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
+		os=-solaris2
+		;;
+	iris | iris4d)
 		basic_machine=mips-sgi
 		case $os in
 		    -irix*)
 			;;
 		    *)
 			os=-irix4
 			;;
 		esac
 		;;
+	isi68 | isi)
+		basic_machine=m68k-isi
+		os=-sysv
+		;;
+	m88k-omron*)
+		basic_machine=m88k-omron
+		;;
+	magnum | m3230)
+		basic_machine=mips-mips
+		os=-sysv
+		;;
+	merlin)
+		basic_machine=ns32k-utek
+		os=-sysv
+		;;
+	miniframe)
+		basic_machine=m68000-convergent
+		;;
+	mips3*-*)
+		basic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`
+		;;
+	mips3*)
+		basic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`-unknown
+		;;
+	ncr3000)
+		basic_machine=i486-ncr
+		os=-sysv4
+		;;
 	news | news700 | news800 | news900)
 		basic_machine=m68k-sony
 		os=-newsos
 		;;
-	3b1 | 7300 | 7300-att | att-7300 | pc7300 | safari | unixpc)
-		basic_machine=m68000-att
+	news1000)
+		basic_machine=m68030-sony
+		os=-newsos
+		;;
+	news-3600 | risc-news)
+		basic_machine=mips-sony
+		os=-newsos
 		;;
-	3b*)
-		basic_machine=we32k-att
+	next | m*-next )
+		basic_machine=m68k-next
+		case $os in
+		    -nextstep* )
+			;;
+		    -ns2*)
+		      os=-nextstep2
+			;;
+		    *)
+		      os=-nextstep3
+			;;
+		esac
+		;;
+	nh3000)
+		basic_machine=m68k-harris
+		os=-cxux
 		;;
-	delta | 3300 | motorola-3300 | motorola-delta \
-	      | 3300-motorola | delta-motorola)
-		basic_machine=m68k-motorola
+	nh[45]000)
+		basic_machine=m88k-harris
+		os=-cxux
+		;;
+	nindy960)
+		basic_machine=i960-intel
+		os=-nindy
+		;;
+	np1)
+		basic_machine=np1-gould
 		;;
-	balance)
-		basic_machine=ns32k-sequent
-		os=-dynix
+	pa-hitachi)
+		basic_machine=hppa1.1-hitachi
+		os=-hiuxwe2
+		;;
+	paragon)
+		basic_machine=i860-intel
+		os=-osf
 		;;
-        pc532)
+	pbd)
+		basic_machine=sparc-tti
+		;;
+	pbb)
+		basic_machine=m68k-tti
+		;;
+        pc532 | pc532-*)
 		basic_machine=ns32k-pc532
 		;;
-	symmetry)
+	pentium-*)
+		# We will change tis to say i586 once there has been
+		# time for various packages to start to recognize that.
+		basic_machine=i486-`echo $basic_machine | sed 's/^[^-]*-//'`
+		;;
+	pn)
+		basic_machine=pn-gould
+		;;
+	ps2)
+		basic_machine=i386-ibm
+		;;
+	rtpc | rtpc-*)
+		basic_machine=romp-ibm
+		;;
+	sequent)
 		basic_machine=i386-sequent
-		os=-dynix
+		;;
+	sh)
+		basic_machine=sh-hitachi
+		os=-hms
+		;;
+	sps7)
+		basic_machine=m68k-bull
+		os=-sysv2
+		;;
+	spur)
+		basic_machine=spur-unknown
 		;;
 	sun2)
 		basic_machine=m68000-sun
 		;;
 	sun2os3)
 		basic_machine=m68000-sun
 		os=-sunos3
 		;;
@@ -336,292 +467,60 @@ case $basic_machine in
 	sun4os3)
 		basic_machine=sparc-sun
 		os=-sunos3
 		;;
 	sun4os4)
 		basic_machine=sparc-sun
 		os=-sunos4
 		;;
-	sun4sol2)					# CYGNUS LOCAL
-		basic_machine=sparc-sun
-		os=-solaris2
-		;;
-	z8ksim)						# CYGNUS LOCAL
-		basic_machine=z8k-zilog
-		os=-sim
-		;;
-	z8k)						# CYGNUS LOCAL
-		basic_machine=z8k-zilog
-		;;
-	sun3)
+	sun3 | sun3-*)
 		basic_machine=m68k-sun
 		;;
 	sun4)
 		basic_machine=sparc-sun
 		;;
-	msdos)						# CYGNUS LOCAL
-		basic_machine=i386-unknown	
-		os=-msdos
-		;;
-	pbd)
-		basic_machine=sparc-tti
-		;;
-	pbb)
-		basic_machine=m68k-tti
-		;;
 	sun386 | sun386i | roadrunner)
 		basic_machine=i386-sun
 		;;
-	ps2)
-		basic_machine=i386-ibm
-		;;
-	fx2800)
-		basic_machine=i860-alliant
-		;;
-	next)
-		basic_machine=m68k-next
-		os=-bsd
-		;;
-	amiga)
-		basic_machine=m68k-cbm
-		;;
-	amigados)
-		basic_machine=m68k-cbm
-		os=-amigados
-		;;
-	amigaunix | amix)
-		basic_machine=m68k-cbm
-		os=-sysv4
-		;;
-	hp9k3[2-9][0-9])
-		basic_machine=m68k-hp
-		;;
-	hp9k31[0-9] | hp9k2[0-9][0-9])
-		basic_machine=m68000-hp
-		;;
-	hp9k7[0-9][0-9] | hp7[0-9][0-9] | hp9k8[0-9]7 | hp8[0-9]7)
-		basic_machine=hppa1.1-hp
-		;;
-	hp9k8[0-9][0-9] | hp8[0-9][0-9])
-		basic_machine=hppa1.0-hp
-		;;
-	h3050r* | hppahitachi)
-		basic_machine=hppa1.1-hitachi
-		;;
-	isi68 | isi)
-		basic_machine=m68k-isi
-		os=-sysv
-		;;
-	apollo68)
-		basic_machine=m68k-apollo
-		os=-sysv
-		;;
-	apollo68bsd)					# CYGNUS LOCAL
-		basic_machine=m68k-apollo
-		os=-bsd
-		;;
-	altos | altos3068)
-		basic_machine=m68k-altos
-		;;
-	miniframe)
-		basic_machine=m68010-convergent
+	symmetry)
+		basic_machine=i386-sequent
+		os=-dynix
 		;;
 	tower | tower-32)
 		basic_machine=m68k-ncr
 		;;
-	news-3600 | risc-news)
-		basic_machine=mips-sony
-		os=-newsos
-		;;
-	st2000)						# CYGNUS LOCAL
-		basic_machine=m68k-tandem
-		;;
-        m6*bug)                                           # CYGNUS LOCAL
-                basic_machine=m68k-bug
-		os=-coff
-                ;;
-        rom68k)                                         # CYGNUS LOCAL
-                basic_machine=m68k-rom68k
-		os=-coff
-                ;;
-        monitor)                                         # CYGNUS LOCAL
-                basic_machine=m68k-rom68k
-		os=-coff
-                ;;
-	decstation | decstation-3100 | pmax | pmin | dec3100 | decstatn)
-		basic_machine=mips-dec
-		;;
-	magnum | m3230)
-		basic_machine=mips-mips
-		os=-sysv
-		;;
-	gmicro)
-		basic_machine=tron-gmicro
-		os=-sysv
-		;;
-	rtpc | rtpc-*)
-		basic_machine=romp-ibm
-		;;
-	am29k)
-		basic_machine=a29k-none
-		os=-bsd
-		;;
-	amdahl)
-		basic_machine=580-amdahl
-		os=-sysv
-		;;
-	stratus)					# CYGNUS LOCAL
-		basic_machine=i860-stratus
-		os=-sysv4
-		;;
-	cray | ymp)
-		basic_machine=ymp-cray
-		os=-unicos
-		;;
-	cray2)
-		basic_machine=cray2-cray
-		os=-unicos
-		;;
-	xmp)
-		basic_machine=xmp-cray
-		os=-unicos
-		;;
-	delta88)
-		basic_machine=m88k-motorola
-		os=-sysv3
-		;;
-	dpx2* | dpx2*-bull)
-		basic_machine=m68k-bull
-		os=-sysv3
-		;;
-	ebmon29k)
-		basic_machine=a29k-amd
-		os=-ebmon
-		;;
-	h8300hms)					# CYGNUS LOCAL
-		basic_machine=h8300-hitachi
-		os=-hms
-		;;
-	sh)						# CYGNUS LOCAL
-		basic_machine=sh-hitachi
-		os=-hms
-		;;
-
-	h8500hms)					# CYGNUS LOCAL
-		basic_machine=h8500-hitachi
-		os=-hms
-		;;
-	h8300xray)					# CYGNUS LOCAL
-		basic_machine=h8300-hitachi
-		os=-xray
-		;;
-	h8300hds)
-		basic_machine=h8300-hitachi
-		os=-hds
-		;;
-	udi29k)						# CYGNUS LOCAL
+	udi29k)
 		basic_machine=a29k-amd
 		os=-udi
 		;;
-	a29khif)					# CYGNUS LOCAL
-		basic_machine=a29k-amd
-		os=-udi
-		;;
-	sa29200)					# CYGNUS LOCAL
-		basic_machine=a29k-amd
-		os=-udi
-		;;
-	harris)
-		basic_machine=m88k-harris
-		os=-sysv3
-		;;
-	hp300bsd)
-		basic_machine=m68k-hp
-		os=-bsd
-		;;
-	hp300hpux)
-		basic_machine=m68k-hp
-		os=-hpux
-		;;
-	hppaosf)
-		basic_machine=hppa1.1-hp
-		os=-osf
-		;;
-	ncr3000)
-		basic_machine=i486-ncr
-		os=-sysv4
-		;;
-	necv70)						# CYGNUS LOCAL
-		basic_machine=v70-nec
-		os=-sysv
-		;;
-	news1000)
-		basic_machine=m68030-sony
-		os=-newsos
-		;;
-	nindy960)
-		basic_machine=i960-intel
-		os=-nindy
-		;;
-	pn)
-		basic_machine=pn-gould
-		;;
-	np1)
-		basic_machine=np1-gould
-		;;
 	ultra3)
 		basic_machine=a29k-nyu
 		os=-sym1
 		;;
+	vaxv)
+		basic_machine=vax-dec
+		os=-sysv
+		;;
+	vms)
+		basic_machine=vax-dec
+		os=-vms
+		;;
 	vxworks960)
 		basic_machine=i960-wrs
 		os=-vxworks
 		;;
 	vxworks68)
 		basic_machine=m68k-wrs
 		os=-vxworks
 		;;
-	es1800 | OSE68k | ose68k | ose | OSE)		# CYGNUS LOCAL
-		basic_machine=m68k-ericsson
-		os=-ose
-		;;
-	OSE68000 | ose68000)				# CYGNUS LOCAL
-		basic_machine=m68000-ericsson
-		os=-ose
-		;;
-	os68k)						# CYGNUS LOCAL
-		basic_machine=m68k-none
-		os=-os68k
-		;;
-	sparclite-wrs)					# CYGNUS LOCAL
-		basic_machine=sparclite-wrs
-		os=-vxworks
+	xmp)
+		basic_machine=xmp-cray
+		os=-unicos
 		;;
-	sparcfrw)					# CYGNUS LOCAL
-		basic_machine=sparcfrw-sun
-		os=-sunos4
-		;;
-	sparcfrwcompat)					# CYGNUS LOCAL
-		basic_machine=sparcfrwcompat-sun
-		os=-sunos4
-		;;
-	sparclitefrw)					# CYGNUS LOCAL
-		basic_machine=sparclitefrw-fujitsu
-		os=-none
-		;;
-	sparclitefrwcompat)				# CYGNUS LOCAL
-		basic_machine=sparclitefrwcompat-fujitsu
-		os=-none
-		;;
-	adobe68k)					# CYGNUS LOCAL
-		basic_machine=m68010-adobe
-		os=-scout
-		;;
-
         xps | xps100)
 		basic_machine=xps100-honeywell
 		;;
 	none)
 		basic_machine=none-none
 		os=-none
 		;;
 
@@ -634,16 +533,19 @@ case $basic_machine in
 		basic_machine=romp-ibm
 		;;
 	rs6000)
 		basic_machine=rs6000-ibm
 		;;
 	vax)
 		basic_machine=vax-dec
 		;;
+	pdp11)
+		basic_machine=pdp11-dec
+		;;
 	we32k)
 		basic_machine=we32k-att
 		;;
 	sparc)
 		basic_machine=sparc-sun
 		;;
         cydra)
 		basic_machine=cydra-cydrome
@@ -679,32 +581,33 @@ then
 case $os in
 	# -solaris* is a basic system type, with this one exception.
 	-solaris1 | -solaris1.*)
 		os=`echo $os | sed -e 's|solaris1|sunos4|'`
 		;;
 	-solaris)
 		os=-solaris2
 		;;
+	-gnu/linux*)
+		os=`echo $os | sed -e 's|gnu/linux|linux|'`
+		;;
 	# First accept the basic system types.
 	# The portable systems comes first.
 	# Each alternative must end in a *, to match a version number.
 	# -sysv* is not here because it comes later, after sysvr4.
 	-gnu* | -bsd* | -mach* | -minix* | -genix* | -ultrix* | -irix* \
-	      | -vms* | -sco* | -esix* | -isc* | -aix* | -sunos | -sunos[34]* | -hpux* \
-	      | -unos* | -osf* | -luna* | -dgux* | -solaris* | -sym* \
+	      | -vms* | -sco* | -esix* | -isc* | -aix* | -sunos | -sunos[345]* \
+	      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -solaris* | -sym* \
 	      | -amigados* | -msdos* | -newsos* | -unicos* | -aos* \
 	      | -nindy* | -vxworks* | -ebmon* | -hms* | -mvs* | -clix* \
 	      | -riscos* | -linux* | -uniplus* | -iris* | -rtu* | -xenix* \
-	      | -hiux* | -386bsd* | -netbsd* | -riscix* | -lynxos* \
-	      | -go32 | -sim | -es1800* | -udi | -hms* | -xray | -hds* \
-	      | -os68k* | -none* | -v88r* | -aout* | -coff | -elf* | -bosx* \
-	      | -abug | -ecoff* | -netware* )
-				# The last three lines above are CYGNUS LOCAL
-	;;
+	      | -hiux* | -386bsd* | -netbsd* | -freebsd* | -riscix* \
+	      | -lynxos* | -bosx* | -nextstep* | -cxux* | -aout* | -elf* \
+	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta | -udi)
+		;;
 	-sunos5*)
 		os=`echo $os | sed -e 's|sunos5|solaris2|'`
 		;;
 	-sunos6*)
 		os=`echo $os | sed -e 's|sunos6|solaris3|'`
 		;;
 	-osfrose*)
 		os=-osfrose
@@ -716,57 +619,45 @@ case $os in
 		os=-bsd
 		;;
 	-dynix*)
 		os=-bsd
 		;;
 	-acis*)
 		os=-aos
 		;;
-	-386bsd)					# CYGNUS LOCAL
-		os=-bsd
-		;;
 	-ctix* | -uts*)
 		os=-sysv
 		;;
 	-triton*)
 		os=-sysv3
 		;;
 	-oss*)
 		os=-sysv3
 		;;
 	-svr4)
 		os=-sysv4
 		;;
-	-unixware)
-		os=-sysv4
-		;;
 	-svr3)
 		os=-sysv3
 		;;
 	-sysvr4)
 		os=-sysv4
 		;;
 	# This must come after -sysvr4.
 	-sysv*)
 		;;
-	-ose*)						# CYGNUS LOCAL
-		os=-ose
-		;;
-	-es1800*)					# CYGNUS LOCAL
-		os=-ose
-		;;
 	-xenix)
 		os=-xenix
 		;;
 	-none)
 		;;
 	*)
 		# Get rid of the `-' at the beginning of $os.
-		os=`echo $1 | sed 's/[^-]*-//'`
+		os=`echo $os | sed 's/[^-]*-//'`
 		echo Invalid configuration \`$1\': system \`$os\' not recognized 1>&2
 		exit 1
 		;;
 esac
 else
 
 # Here we handle the default operating systems that come with various machines.
 # The value should be what the vendor currently ships out the door with their
@@ -777,19 +668,25 @@ else
 # that MANUFACTURER isn't an operating system.  Otherwise, code above
 # will signal an error saying that MANUFACTURER isn't an operating
 # system, and we'll never get to this point.
 
 case $basic_machine in
 	*-acorn)
 		os=-riscix1.2
 		;;
+        pdp11-*)
+		os=-none
+		;;
 	*-dec | vax-*)
 		os=-ultrix4.2
 		;;
+	m68*-apollo)
+		os=-domain
+		;;
 	i386-sun)
 		os=-sunos4.0.2
 		;;
 	m68000-sun)
 		os=-sunos3
 		# This also exists in the configure program, but was not the
 		# default.
 		# os=-sunos4
@@ -816,58 +713,52 @@ case $basic_machine in
 		os=-amigados
 		;;
 	*-dg)
 		os=-dgux
 		;;
 	*-dolphin)
 		os=-sysv3
 		;;
+	m68k-ccur)
+		os=-rtu
+		;;
 	m88k-omron*)
 		os=-luna
 		;;
 	*-sequent)
-		os=-bsd
+		os=-ptx
 		;;
 	*-crds)
 		os=-unos
 		;;
 	*-ns)
 		os=-genix
 		;;
 	i370-*)
 		os=-mvs
 		;;
 	*-next)
-		os=-bsd
-		;;
-	i[34]86-*)
-		os=-sco3.2v2
+		os=-nextstep3
 		;;
         *-gould)
 		os=-sysv
 		;;
         *-highlevel)
 		os=-bsd
 		;;
 	*-encore)
 		os=-bsd
 		;;
         *-sgi)
 		os=-irix
 		;;
 	*-masscomp)
 		os=-rtu
 		;;
-	*-rom68k)					# CYGNUS LOCAL
-		os=-coff
-		;;
-	*-*bug)						# CYGNUS LOCAL
-		os=-coff
-		;;
 	*)
 		os=-none
 		;;
 esac
 fi
 
 # Here we handle the case where we know the os, and the CPU type, but not the
 # manufacturer.  We pick the logical manufacturer.
@@ -876,19 +767,16 @@ case $basic_machine in
 	*-unknown)
 		case $os in
 			-riscix*)
 				vendor=acorn
 				;;
 			-sunos*)
 				vendor=sun
 				;;
-			-bosx*)			# CYGNUS LOCAL
-				vendor=bull
-				;;
 			-lynxos*)
 				vendor=lynx
 				;;
 			-aix*)
 				vendor=ibm
 				;;
 			-hpux*)
 				vendor=hp
@@ -906,20 +794,20 @@ case $basic_machine in
 				vendor=omron
 				;;
 			-genix*)
 				vendor=ns
 				;;
 			-mvs*)
 				vendor=ibm
 				;;
-			-vxworks*)
-				vendor=wrs		# CYGNUS LOCAL
+			-ptx*)
+				vendor=sequent
 				;;
-			-hms*)				# CYGNUS LOCAL
-				vendor=hitachi
+			-vxworks*)
+				vendor=wrs
 				;;
 		esac
 		basic_machine=`echo $basic_machine | sed "s/unknown/$vendor/"`
 		;;
 esac
 
 echo $basic_machine$os
