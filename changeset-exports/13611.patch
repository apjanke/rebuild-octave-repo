# HG changeset patch
# User Jacob Dawid <jacob.dawid@googlemail.com>
# Date 1313542164 -7200
#      Wed Aug 17 02:49:24 2011 +0200
# Node ID 7f6f339761f942b7a3ab2be2322757567d095227
# Parent  506e24d12b63d31b14eb1d899f1ea17040f9af89
Chat Window changes logo on new messages.

diff --git a/gui/media/icons_license b/gui/media/icons_license
--- a/gui/media/icons_license
+++ b/gui/media/icons_license
@@ -1,12 +1,13 @@
 Icons license for:
 chat.png
 help_index.png
 terminal.png
+jabber_protocol.png
 
 by http://www.everaldo.com/ on 17.07.2011:
 
 The Crystal Project are released under LGPL.
 GNU General Public License.
 
 This License Agreement applies to any software library or other program which contains a notice placed by the copyright holder or other authorized party saying it may be distributed under the terms of this Lesser General Public License (also called "this License"). Each licensee is addressed as "you".
 
diff --git a/gui/media/jabber_protocol.png b/gui/media/jabber_protocol.png
new file mode 100755
index e69de29bb2d1d6434b8b29ae775ad8c2e48c5391..e9fc4a5d7c42135d794836c183ac877465c485d7
GIT binary patch
literal 11050
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

diff --git a/gui/src/IRCWidget.cpp b/gui/src/IRCWidget.cpp
--- a/gui/src/IRCWidget.cpp
+++ b/gui/src/IRCWidget.cpp
@@ -163,18 +163,17 @@ QWidget (parent)
   bottomLayout->addWidget (new QLabel (":", this));
   bottomLayout->addWidget (m_chatMessageTextEdit);
   bottomLayout->setMargin (0);
   bottomWidget->setLayout (bottomLayout);
 
   m_nickButton->setEnabled (false);
   m_chatMessageTextEdit->setEnabled (false);
 
-  //m_chatWindow->setFocusProxy (m_inputLine);
-  this->setFocusProxy (m_chatMessageTextEdit);
+  //setFocusProxy (m_chatMessageTextEdit);
   m_nickButton->setFocusProxy (m_chatMessageTextEdit);
 
   QFont font;
   font.setFamily ("Courier");
   font.setPointSize (11);
   m_chatWindow->setFont (font);
   m_ircClientInterface = new IRCClientImpl (this);
   m_octaveChannel = m_ircClientInterface->ircChannelProxy ("#octave");
@@ -252,16 +251,24 @@ IRCWidget::joinOctaveChannel (const QStr
   showStatusMessage (QString ("Joining channel #octave."));
   m_octaveChannel->sendJoinRequest ();
 }
 
 void
 IRCWidget::showMessage (const QString& channel, const QString& sender, const QString& message)
 {
   Q_UNUSED (channel);
+  if (!hasFocus()
+      && !m_chatMessageTextEdit->hasFocus ()
+      && !m_nickButton->hasFocus ()
+      && !m_chatWindow->hasFocus ())
+    {
+      emit unreadMessages (true);
+    }
+
   QString output;
   if (message.contains (m_ircClientInterface->nickname ()))
     {
       output =
         QString ("<font color=\"#990000\"><b>%1:</b> %2</font>").arg (sender).
         arg (message);
 
       QApplication::alert (this);
@@ -338,16 +345,26 @@ IRCWidget::sendMessage (QString message)
       message.replace ("<", "&lt;");
       message.replace (">", "&gt;");
       m_chatWindow->append (QString ("<b>%1:</b> %2").
                             arg (m_ircClientInterface->nickname ()).arg (message));
     }
 }
 
 void
+IRCWidget::focusInEvent (QFocusEvent *focusEvent)
+{
+  Q_UNUSED (focusEvent);
+  emit unreadMessages (false);
+  QWidget::focusInEvent (focusEvent);
+
+  m_chatMessageTextEdit->setFocus ();
+}
+
+void
 IRCWidget::handleLoggedIn (const QString &nick)
 {
   m_chatWindow->
     append (QString
             ("<i><font color=\"#00AA00\"><b>Successfully logged in as %1.</b></font></i>").
             arg (nick));
   m_nickButton->setEnabled (true);
   m_chatMessageTextEdit->setEnabled (true);
diff --git a/gui/src/IRCWidget.h b/gui/src/IRCWidget.h
--- a/gui/src/IRCWidget.h
+++ b/gui/src/IRCWidget.h
@@ -72,16 +72,22 @@ public slots:
   void handleNickChange (const QString& oldNick, const QString& newNick);
   void handleUserJoined (const QString& nick, const QString& channel);
   void handleUserQuit (const QString& nick, const QString& reason);
   void handleUserNicknameChanged (const QString& nick);
 
   void showChangeUserNickPopup ();
   void sendMessage (QString);
 
+signals:
+  void unreadMessages (bool yes);
+
+protected:
+  void focusInEvent (QFocusEvent *focusEvent);
+
 private:
   IRCClientInterface *m_ircClientInterface;
   IRCChannelProxyInterface *m_octaveChannel;
   QTextEdit *m_chatWindow;
   QPushButton *m_nickButton;
   ChatMessageTextEdit *m_chatMessageTextEdit;
 
   QString m_initialNick;
diff --git a/gui/src/MainWindow.cpp b/gui/src/MainWindow.cpp
--- a/gui/src/MainWindow.cpp
+++ b/gui/src/MainWindow.cpp
@@ -146,16 +146,29 @@ MainWindow::handleClearWorkspaceRequest 
 void
 MainWindow::handleCommandDoubleClicked (QString command)
 {
   m_octaveTerminal->sendText (command);
   m_octaveTerminal->setFocus ();
 }
 
 void
+MainWindow::handleUnreadMessages (bool yes)
+{
+  if (yes)
+    {
+      m_ircWidgetSubWindow->setWindowIcon (QIcon ("../media/jabber_protocol.png"));
+    }
+  else
+    {
+      m_ircWidgetSubWindow->setWindowIcon (QIcon ("../media/chat.png"));
+    }
+}
+
+void
 MainWindow::alignMdiWindows ()
 {
   m_centralMdiArea->tileSubWindows ();
 }
 
 void
 MainWindow::openBugTrackerPage ()
 {
@@ -276,38 +289,42 @@ MainWindow::construct ()
   // Octave Terminal subwindow.
   m_octaveTerminalSubWindow =
     m_centralMdiArea->addSubWindow (m_octaveTerminal,
 				    Qt::WindowTitleHint | Qt::
 				    WindowMinMaxButtonsHint);
   m_octaveTerminalSubWindow->setObjectName ("OctaveTerminalSubWindow");
   m_octaveTerminalSubWindow->setWindowTitle (tr ("Terminal"));
   m_octaveTerminalSubWindow->setWindowIcon (QIcon ("../media/terminal.png"));
+  m_octaveTerminalSubWindow->setFocusProxy (m_octaveTerminal);
   m_octaveTerminalSubWindow->setStatusTip (tr ("Enter your commands into the Octave terminal."));
 
   // Documentation subwindow.
   m_documentationWidgetSubWindow =
     m_centralMdiArea->addSubWindow (m_documentationWidget,
                                     Qt::WindowTitleHint | Qt::
                                     WindowMinMaxButtonsHint);
   m_documentationWidgetSubWindow->setObjectName ("DocumentationWidgetSubWindow");
   m_documentationWidgetSubWindow->setWindowTitle (tr ("Documentation"));
   m_documentationWidgetSubWindow->setWindowIcon (QIcon ("../media/help_index.png"));
+  m_documentationWidgetSubWindow->setFocusProxy (m_documentationWidget);
   m_documentationWidgetSubWindow->setStatusTip (tr ("Browse the Octave documentation for help."));
 
   // Chat subwindow.
   m_ircWidgetSubWindow = m_centralMdiArea->addSubWindow (m_ircWidget,
                                                          Qt::
                                                          WindowTitleHint |
                                                          Qt::
                                                          WindowMinMaxButtonsHint);
   m_ircWidgetSubWindow->setObjectName ("ChatWidgetSubWindow");
   m_ircWidgetSubWindow->setWindowTitle (tr ("Chat"));
   m_ircWidgetSubWindow->setWindowIcon (QIcon ("../media/chat.png"));
   m_ircWidgetSubWindow->setStatusTip(tr ("Instantly chat with other Octave users for help."));
+  m_ircWidgetSubWindow->setFocusProxy (m_ircWidget);
+  connect (m_ircWidget, SIGNAL (unreadMessages (bool)), this, SLOT (handleUnreadMessages (bool)));
 
   m_lexer = NULL;  // initialise the empty lexer for the edtiors
 
   QMenu *controlMenu = menuBar ()->addMenu (tr ("Octave"));
   QAction *settingsAction = controlMenu->addAction (tr ("Settings"));
   controlMenu->addSeparator ();
   QAction *exitAction = controlMenu->addAction (tr ("Exit"));
 
diff --git a/gui/src/MainWindow.h b/gui/src/MainWindow.h
--- a/gui/src/MainWindow.h
+++ b/gui/src/MainWindow.h
@@ -70,16 +70,17 @@ signals:
 public slots:
   void handleOpenFileRequest (QString fileName);
   void reportStatusMessage (QString statusMessage);
   void openWebPage (QString url);
   void handleSaveWorkspaceRequest ();
   void handleLoadWorkspaceRequest ();
   void handleClearWorkspaceRequest ();
   void handleCommandDoubleClicked (QString command);
+  void handleUnreadMessages (bool yes);
   void alignMdiWindows ();
   void openEditor ();
   void openEditorFile (QString fileName);
   void openBugTrackerPage ();
   void openAgoraPage ();
   void openOctaveForgePage ();
   void processSettingsDialogRequest ();
   void showAboutOctave ();
