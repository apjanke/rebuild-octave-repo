# HG changeset patch
# User jwe
# Date 858207983 0
#      Wed Mar 12 23:06:23 1997 +0000
# Node ID 1dd37f97364a1d34f538b727410b8c6c02a05c2e
# Parent  502d33f2c1139dec0c5ee4b36585c2129ad2d1bc
[project @ 1997-03-12 23:06:13 by jwe]

diff --git a/ChangeLog b/ChangeLog
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,8 +1,16 @@
+Wed Mar 12 16:56:56 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* Makefile.in (install-strip): Don't try to set INSTALL_PROGRAM here.
+
+	* emacs/Makefile.in (install-strip): New target.
+	* dlfcn/Makefile.in: Ditto.
+	* examples/Makefile.in: Ditto.
+
 Sun Mar  9 03:44:33 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* config.h.bot (STATIC_CAST): Delete definition.
 
 Thu Mar  6 03:26:41 1997  Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
 
 	* emacs/octave-hlp.el: Provide octave-hlp.
 	* emacs/octave-inf.el: Provide octave-inf.
diff --git a/Makefile.in b/Makefile.in
--- a/Makefile.in
+++ b/Makefile.in
@@ -3,32 +3,30 @@
 #
 # John W. Eaton
 # jwe@bevo.che.wisc.edu
 # University of Wisconsin-Madison
 # Department of Chemical Engineering
 
 TARGETS = octave-bug mkoctfile libcruft liboctave kpathsea info dlfcn \
 	src scripts doc check octave.info INSTALL.OCTAVE BUGS \
-	install uninstall tags TAGS dist conf-dist snapshot snapshot-version
+	install install-strip uninstall tags TAGS dist conf-dist \
+	snapshot snapshot-version
 
 NO_DEP_TARGETS = clean mostlyclean distclean maintainer-clean
 
 all: header-msg config-check
 	$(MAKE) -f octMakefile all
 
 $(TARGETS): FORCE
 	$(MAKE) -f octMakefile $@
 
 $(NO_DEP_TARGETS): FORCE
 	$(MAKE) -f octMakefile omit_deps=true $@
 
-install-strip:
-	$(MAKE) -f octMakefile INSTALL_PROGRAM='${INSTALL} -s' install
-
 binary-dist: FORCE
 	@if test -f configure && test -f octMakefile.in ; then \
 	  ./configure --disable-shared --disable-dl --disable-shl ; \
 	else \
 	  echo "" ; \
 	  echo "*** You must run make binary-dist in the source directory." ; \
 	  echo "" ; \
 	  exit 1 ; \
diff --git a/PROJECTS b/PROJECTS
--- a/PROJECTS
+++ b/PROJECTS
@@ -500,17 +500,18 @@ Configuration and Installation:
   * Handle USE_READLINE so that --enable-readline will work.
 
   * Make Octave as independent of the particular readline version as
     possible.
 
   * Add an --enable-pathsearch option to configure to make it possible
     to configure and run without kpathsea. 
 
-  * Make configure take more defaults from the environment.
+  * Make configure take more defaults from the environment.  It should
+    definitely pay attention to CFLAGS, CXXFLAGS, FFLAGS, etc.
 
   * Should --enable-lite-kernel imply --enable-shared?
 
   * Make it possible to configure without readline.
 
   * Makefile changes:
       -- eliminate for loops
       -- define shell commands or eliminate them
diff --git a/dlfcn/Makefile.in b/dlfcn/Makefile.in
--- a/dlfcn/Makefile.in
+++ b/dlfcn/Makefile.in
@@ -34,18 +34,18 @@ all: libdlfcn.a
 
 libdlfcn.a: $(OBJECTS)
 	$(AR) $(ARFLAGS) $@ $(OBJECTS)
 	$(RANLIB) $@
 
 check: all
 .PHONY: check
 
-install: all
-.PHONY: install
+install install-strip: all
+.PHONY: install install-strip
 
 uninstall:
 .PHONY: uninstall
 
 tags: $(SOURCES)
 	ctags $(SOURCES)
 
 TAGS: $(SOURCES)
diff --git a/doc/ChangeLog b/doc/ChangeLog
--- a/doc/ChangeLog
+++ b/doc/ChangeLog
@@ -1,8 +1,16 @@
+Wed Mar 12 17:01:02 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* Makefile.in (install-strip): New target.
+	* faq/Makefile.in: Ditto.
+	* interpreter/Makefile.in: Ditto.
+	* liboctave/Makefile.in: Ditto.
+	* refcard/Makefile.in: Ditto.
+
 Sat Mar  1 15:23:14 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* Version 2.0.5 released.
 
 Fri Feb 28 20:53:40 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* texinfo.tex: Update to latest version from Karl Berry, and apply
 	previous patch too.
diff --git a/doc/Makefile.in b/doc/Makefile.in
--- a/doc/Makefile.in
+++ b/doc/Makefile.in
@@ -39,19 +39,20 @@ all: $(SUBDIRS)
 	cd interpreter ; $(MAKE) ../../BUGS
 .PHONY: ../BUGS
 
 $(SUBDIRS):
 	echo making all in $@
 	cd $@ ; $(MAKE) all
 .PHONY: $(SUBDIRS)
 
-install uninstall clean mostlyclean distclean maintainer-clean::
+install install-strip uninstall clean mostlyclean distclean maintainer-clean::
 	@$(subdir-for-command)
-.PHONY: install uninstall clean mostlyclean distclean maintainer-clean
+.PHONY: install install-strip uninstall
+.PHONY: clean mostlyclean distclean maintainer-clean
 
 tags TAGS:: $(SOURCES)
 	$(SUBDIR_FOR_COMMAND)
 
 tags::
 	ctags $(SOURCES)
 
 TAGS:: $(SOURCES)
diff --git a/doc/faq/Makefile.in b/doc/faq/Makefile.in
--- a/doc/faq/Makefile.in
+++ b/doc/faq/Makefile.in
@@ -44,18 +44,18 @@ FAQ.info: FAQ.texi
 FAQ.dvi: FAQ.texi
 	-TEXINPUTS="$(srcdir):$(srcdir)/..:$(TEXINPUTS):" ; \
 	  export TEXINPUTS ; \
 	  $(TEXI2DVI) $(srcdir)/FAQ.texi
 
 FAQ.ps: FAQ.dvi
 	-dvips -o FAQ.ps FAQ.dvi
 
-check install uninstall:
-.PHONY: check install uninstall
+check install install-strip uninstall:
+.PHONY: check install install-strip uninstall
 
 tags: $(SOURCES)
 	ctags $(SOURCES)
 
 TAGS: $(SOURCES)
 	etags $(SOURCES)
 
 spell: $(SPELL)
diff --git a/doc/interpreter/Makefile.in b/doc/interpreter/Makefile.in
--- a/doc/interpreter/Makefile.in
+++ b/doc/interpreter/Makefile.in
@@ -75,17 +75,17 @@ octave.ps: octave.dvi
 ../../BUGS: bugs.texi
 	-makeinfo -D BUGSONLY --no-headers --no-split --output BUGS \
 	  -I$(srcdir) -I$(srcdir)/.. $(srcdir)/bugs.texi
 	mv BUGS ../../BUGS
 
 check: all
 .PHONY: check
 
-install: all
+install install-strip: all
 	$(top_srcdir)/mkinstalldirs $(man1dir) $(infodir)
 	@if test -d $(man1dir) ; then \
 	  rm -f $(man1dir)/octave$(man1ext) ; \
 	  echo "installing $(srcdir)/octave.1 in $(man1dir)" ; \
 	  $(INSTALL_DATA) $(srcdir)/octave.1 $(man1dir)/octave$(man1ext) ; \
 	fi
 	@if test -d $(infodir) ; then \
 	  rm -f $(infodir)/octave.info* ; \
@@ -112,17 +112,17 @@ install: all
 	      echo "to $(infodir)/dir." ; \
 	      echo "" ; \
 	    fi ; \
 	  else \
 	    echo "installing $(srcdir)/dir in $(infodir)" ; \
 	    $(INSTALL_DATA) $(srcdir)/dir $(infodir)/dir ; \
 	  fi ; \
 	fi
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	rm -f $(infodir)/octave.info* $(man1dir)/octave$(man1ext)
 .PHONY: uninstall
 
 tags: $(SOURCES)
 	ctags $(SOURCES)
 
diff --git a/doc/liboctave/Makefile.in b/doc/liboctave/Makefile.in
--- a/doc/liboctave/Makefile.in
+++ b/doc/liboctave/Makefile.in
@@ -50,18 +50,18 @@ liboctave.dvi: $(TEXINFO) ../conf.texi
 	  $(TEXI2DVI) $(srcdir)/liboctave.texi
 
 liboctave.ps: liboctave.dvi
 	-dvips -o liboctave.ps liboctave.dvi
 
 check:
 .PHONY: check
 
-install: all
-.PHONY: install
+install install-strip: all
+.PHONY: install install-strip
 
 uninstall:
 	rm -f $(infodir)/liboctave.info*
 .PHONY: uninstall
 
 tags: $(SOURCES)
 	ctags $(SOURCES)
 
diff --git a/doc/refcard/Makefile.in b/doc/refcard/Makefile.in
--- a/doc/refcard/Makefile.in
+++ b/doc/refcard/Makefile.in
@@ -46,18 +46,18 @@ refcard-legal.ps: refcard-legal.dvi
 
 refcard-letter.dvi: refcard-letter.tex refcard.tex
 	-TEXINPUTS="$(srcdir):$(TEXINPUTS):" ; export TEXINPUTS ; \
 	  tex $(srcdir)/refcard-letter.tex
 
 refcard-letter.ps: refcard-letter.dvi
 	-dvips -T 11in,8.5in -o refcard-letter.ps refcard-letter.dvi
 
-check install uninstall:
-.PHONY: check install uninstall
+check install install-strip uninstall:
+.PHONY: check install install-strip uninstall
 
 tags: $(SOURCES)
 	ctags $(SOURCES)
 
 TAGS: $(SOURCES)
 	etags $(SOURCES)
 
 mostlyclean clean:
diff --git a/emacs/Makefile.in b/emacs/Makefile.in
--- a/emacs/Makefile.in
+++ b/emacs/Makefile.in
@@ -26,18 +26,18 @@ SOURCES = $(EL_FILES)
 
 DISTFILES = Makefile.in $(EL_FILES) $(ELC_FILES) NEWS TODO
 
 BINDISTFILES = $(addprefix $(srcdir)/, $(EL_FILES) $(ELC_FILES) NEWS TODO)
 
 all:
 .PHONY: all
 
-install:
-.PHONY: install
+install install-strip:
+.PHONY: install install-strip
 
 tags:
 	ctags $(SOURCES)
 
 TAGS: $(SOURCES)
 	etags $(SOURCES)
 
 clean mostlyclean:
diff --git a/examples/Makefile.in b/examples/Makefile.in
--- a/examples/Makefile.in
+++ b/examples/Makefile.in
@@ -29,21 +29,21 @@ BINDISTFILES = $(addprefix $(srcdir)/, $
 
 SUBDIRS = 
 
 DISTSUBDIRS = 
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	for f in $(SCRIPTS); do \
 	  $(INSTALL_SCRIPT) $(srcdir)/$$f $(archlibdir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 tags:
 	ctags $(SOURCES)
 
 TAGS: $(SOURCES)
 	etags $(SOURCES)
 
 clean mostlyclean:
diff --git a/glob/ChangeLog b/glob/ChangeLog
--- a/glob/ChangeLog
+++ b/glob/ChangeLog
@@ -1,3 +1,7 @@
+Wed Mar 12 17:00:54 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* Makefile.in (install-strip): New target.
+
 Sat Oct 12 00:17:06 1996  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* glob/Makefile.in (clean targets): Don't depend on clean.
diff --git a/glob/Makefile.in b/glob/Makefile.in
--- a/glob/Makefile.in
+++ b/glob/Makefile.in
@@ -66,9 +66,9 @@ maintainer-clean::
 	-rm -f TAGS tags Makefile config.status config.h config.log configure
 
 realclean: distclean
 
 # For inside the C library.
 glob.tar glob.tar.Z:
 	$(MAKE) -C .. $@
 
-install:
+install install-strip:
diff --git a/info/ChangeLog b/info/ChangeLog
--- a/info/ChangeLog
+++ b/info/ChangeLog
@@ -1,8 +1,12 @@
+Wed Mar 12 17:00:24 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* Makefile.in (install-strip): New target.
+
 Wed Feb 26 12:30:51 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* Makefile.in (maintainer-clean): New target.
 
 Sat Jan 25 22:33:43 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* Makefile.in (bin-dist): New target.
 
diff --git a/info/Makefile.in b/info/Makefile.in
--- a/info/Makefile.in
+++ b/info/Makefile.in
@@ -1,10 +1,10 @@
 # Makefile for texinfo/info.	-*- Indented-Text -*-
-# $Id: Makefile.in,v 1.41 1997-02-26 18:49:10 jwe Exp $
+# $Id: Makefile.in,v 1.42 1997-03-12 23:06:16 jwe Exp $
 # 
 # Copyright (C) 1993,96 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
 # the Free Software Foundation; either version 2, or (at your option)
 # any later version.
 
@@ -114,16 +114,19 @@ BINDISTFILES = info
 
 all: info $(infofiles)
 sub-all: all
 
 install:
 	$(top_srcdir)/mkinstalldirs $(archlibdir)
 	$(INSTALL_PROGRAM) info$(EXE) $(archlibdir)/info$(EXE)
 
+install-strip:
+	$(MAKE) INSTALL_PROGRAM="$(INSTALL_PROGRAM) -s" install
+
 uninstall:
 	rm -f $(archlibdir)/info
 
 info: $(OBJS)
 	$(CC) $(LDFLAGS) -o info $(OBJS) $(LOADLIBES)
 
 all-info: info.info info-stnd.info
 
diff --git a/kpathsea/ChangeLog b/kpathsea/ChangeLog
--- a/kpathsea/ChangeLog
+++ b/kpathsea/ChangeLog
@@ -1,8 +1,12 @@
+Wed Mar 12 17:00:16 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* Makefile.in (install-strip): New target.
+
 Thu Feb 20 02:41:36 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* configure.in (SH_LDFLAGS): Add -fPIC for HP-UX.
 	(SH_LDFLAGS): Add -shared for alpha OSF/1.
 
 Tue Feb 18 17:36:03 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* Makefile.in (pic/tex-file.o): Delete extra pic/ in commands.
diff --git a/kpathsea/Makefile.in b/kpathsea/Makefile.in
--- a/kpathsea/Makefile.in
+++ b/kpathsea/Makefile.in
@@ -160,16 +160,19 @@ check:
 install:
 	for f in $(LIBS_TO_INSTALL); do \
 	  if [ -f $$f ]; then $(INSTALL_DATA) $$f $(libdir)/$$f; fi; \
 	done
 	for f in $(SH_LIBS_TO_INSTALL); do \
 	  if [ -f $$f ]; then $(INSTALL_PROGRAM) $$f $(libdir)/$$f; fi; \
 	done
 
+install-strip:
+	$(MAKE) INSTALL_PROGRAM="$(INSTALL_PROGRAM) -s" install
+
 uninstall:
 
 # Installation of kpathsea itself is complicated by the fact that we
 # want to install texmf.cnf, kpathsea.info, and MakeTeXPK by default,
 # but not the headers or the .a file itself.  So we have a separate
 # target `install-library' to install the latter stuff.
 #install: install-exec install-data
 #uninstall: uninstall-exec uninstall-data
diff --git a/libcruft/ChangeLog b/libcruft/ChangeLog
--- a/libcruft/ChangeLog
+++ b/libcruft/ChangeLog
@@ -1,8 +1,14 @@
+Wed Mar 12 16:59:59 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* misc/Makefile.in (install-strip): New target.
+
+	* Makefile.in (install-strip): New target.
+
 Mon Mar  3 15:38:39 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* ranlib/Makefile.in (EXTERNAL_DISTFILES): Add Basegen.doc.
 
 	* fftpack/Makefile.in (EXTERNAL_DISTFILES): Add fftpack.doc.
 
 	* Makefile.in (DISTFILES): Add configure.in.
 
diff --git a/libcruft/Makefile.in b/libcruft/Makefile.in
--- a/libcruft/Makefile.in
+++ b/libcruft/Makefile.in
@@ -76,29 +76,32 @@ stamp-shared: $(CRUFT_PICOBJ)
 	fi
 	touch stamp-shared
 
 $(CRUFT_OBJ):
 
 check: all
 .PHONY: check
 
-install uninstall clean mostlyclean distclean maintainer-clean::
+install install-strip uninstall clean mostlyclean distclean maintainer-clean::
 	@$(subdir-for-command)
 
 install::
 	$(top_srcdir)/mkinstalldirs $(libdir)
 	rm -f $(libdir)/libcruft.a
 	$(INSTALL_DATA) libcruft.a $(libdir)/libcruft.a
 	$(RANLIB) $(libdir)/libcruft.a
 	if $(SHARED_LIBS); then \
 	  rm -f $(libdir)/libcruft.$(SHLEXT); \
 	  $(INSTALL_PROGRAM) libcruft.$(SHLEXT) $(libdir)/libcruft.$(SHLEXT); \
 	fi
 
+install-strip::
+	$(MAKE) INSTALL_PROGRAM="$(INSTALL_PROGRAM) -s" install
+
 uninstall::
 	rm -f $(libdir)/libcruft.a
 
 tags TAGS:: $(SOURCES)
 	$(SUBDIR_FOR_COMMAND)
 
 tags::
 	ctags $(SOURCES)
diff --git a/libcruft/misc/Makefile.in b/libcruft/misc/Makefile.in
--- a/libcruft/misc/Makefile.in
+++ b/libcruft/misc/Makefile.in
@@ -32,17 +32,17 @@ ifeq ($(SHARED_LIBS), true)
   ifdef CXXPICFLAG
     CXXPICDEP := pic/f77-extern.o pic/lo-error.o
   endif
   SPECIAL_PICDEPEND := $(CPICDEP) $(CXXPICDEP)
 endif
 
 include ../Makerules
 
-install::
+install install-strip::
 	$(top_srcdir)/mkinstalldirs $(octincludedir)
 	$(INSTALL_DATA) $(srcdir)/f77-fcn.h $(octincludedir)/f77-fcn.h
 	$(INSTALL_DATA) $(srcdir)/lo-error.h $(octincludedir)/lo-error.h
 
 uninstall::
 	rm -f $(octincludedir)/f77-fcn.h
 
 # Don't optimize.
diff --git a/liboctave/ChangeLog b/liboctave/ChangeLog
--- a/liboctave/ChangeLog
+++ b/liboctave/ChangeLog
@@ -1,8 +1,12 @@
+Wed Mar 12 16:59:49 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* Makefile.in (install-strip): New target.
+
 Mon Mar 10 22:34:22 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* CmplxCHOL.cc, CmplxHESS.cc, CmplxLU.cc, CmplxQR.cc,
 	CmplxQRP.cc, CmplxSCHUR.cc, CmplxSVD.cc, EIG.cc, dbleCHOL.cc,
 	dbleHESS.cc, dbleLU.cc, dbleQR.cc, dbleQRP.cc, dbleSCHUR.cc,
 	dbleSVD.cc: Don't include mx-inlines.cc.
 
 	* mx-inlines.cc: Abuse the preprocessor to eliminate lots of
diff --git a/liboctave/Makefile.in b/liboctave/Makefile.in
--- a/liboctave/Makefile.in
+++ b/liboctave/Makefile.in
@@ -158,16 +158,20 @@ safe-stat.o: safe-stat.h
 safe-lstat.o: safe-lstat.h safe-stat.h
 
 check: all
 .PHONY: check
 
 install: install-lib install-inc
 .PHONY: install
 
+install-strip:
+	$(MAKE) INSTALL_PROGRAM="$(INSTALL_PROGRAM) -s" install
+.PHONY: install-strip
+
 install-lib:
 	$(top_srcdir)/mkinstalldirs $(libdir)
 	rm -f $(libdir)/liboctave.a
 	$(INSTALL_DATA) liboctave.a $(libdir)/liboctave.a
 	$(RANLIB) $(libdir)/liboctave.a
 	if $(SHARED_LIBS); then \
 	  rm -f $(libdir)/liboctave.$(SHLEXT); \
 	  $(INSTALL_PROGRAM) liboctave.$(SHLEXT) \
diff --git a/liboctave/mx-inlines.cc b/liboctave/mx-inlines.cc
--- a/liboctave/mx-inlines.cc
+++ b/liboctave/mx-inlines.cc
@@ -22,79 +22,118 @@ Software Foundation, 59 Temple Place - S
 
 #if !defined (octave_mx_ops_h)
 #define octave_mx_ops 1
 
 #include <cstddef>
 
 #include "oct-cmplx.h"
 
-// Before you suggest it:  I tried templates but they didn't work with
-// gcc 2.7.2.
+#define VS_OP_FCN(F, OP) \
+  template <class R, class V, class S> \
+  static inline void \
+  F ## _vs (R *r, const V *v, size_t n, S s) \
+  { \
+    for (size_t i = 0; i < n; i++) \
+      r[i] = v[i] OP s; \
+  }
+
+VS_OP_FCN(add, +)
+VS_OP_FCN(subtract, -)
+VS_OP_FCN(multiply, *)
+VS_OP_FCN(divide, /)
 
 #define VS_OP(F, OP, R, V, S) \
+  extern template void F ## _vs (R *, const V *, size_t, S); \
   static inline R * \
   F (const V *v, size_t n, S s) \
   { \
     R *r = 0; \
     if (n > 0) \
       { \
 	r = new R [n]; \
-	for (size_t i = 0; i < n; i++) \
-	  r[i] = v[i] OP s; \
+	F ## _vs (r, v, n, s); \
       } \
     return r; \
   }
 
 #define VS_OPS(R, V, S) \
   VS_OP (add, +, R, S, V) \
   VS_OP (subtract, -, R, S, V) \
   VS_OP (multiply, *, R, S, V) \
   VS_OP (divide, /, R, S, V)
 
 VS_OPS (double,  double,  double)
 VS_OPS (Complex, double,  Complex)
 VS_OPS (Complex, Complex, double)
 VS_OPS (Complex, Complex, Complex)
 
+#define SV_OP_FCN(F, OP) \
+  template <class R, class S, class V> \
+  static inline void \
+  F ## _sv (R *r, S s, const V *v, size_t n) \
+  { \
+    for (size_t i = 0; i < n; i++) \
+      r[i] = s OP v[i]; \
+  } \
+
+SV_OP_FCN(add, +)
+SV_OP_FCN(subtract, -)
+SV_OP_FCN(multiply, *)
+SV_OP_FCN(divide, /)
+
 #define SV_OP(F, OP, R, S, V) \
+  extern template void F ## _sv (R *, S, const V *, size_t); \
   static inline R * \
   F (S s, const V *v, size_t n) \
   { \
     R *r = 0; \
     if (n > 0) \
       { \
 	r = new R [n]; \
-	for (size_t i = 0; i < n; i++) \
-	  r[i] = s OP v[i]; \
+        F ## _sv (r, s, v, n); \
       } \
     return r; \
   }
 
 #define SV_OPS(R, S, V) \
   SV_OP (add,      +, R, V, S) \
   SV_OP (subtract, -, R, V, S) \
   SV_OP (multiply, *, R, V, S) \
   SV_OP (divide,   /, R, V, S)
 
 SV_OPS (double,  double,  double)
 SV_OPS (Complex, double,  Complex)
 SV_OPS (Complex, Complex, double)
 SV_OPS (Complex, Complex, Complex)
 
+#define VV_OP_FCN(F, OP) \
+  template <class R, class T1, class T2> \
+  static inline void \
+  F ## _vv (R *r, const T1 *v1, const T2 *v2, size_t n) \
+  { \
+    for (size_t i = 0; i < n; i++) \
+      r[i] = v1[i] OP v2[i]; \
+  } \
+
+VV_OP_FCN(add, +)
+VV_OP_FCN(subtract, -)
+VV_OP_FCN(multiply, *)
+VV_OP_FCN(divide, /)
+
 #define VV_OP(F, OP, R, T1, T2) \
+  extern template void F ## _vv (R *, const T1 *, const T2 *, size_t); \
   static inline R * \
   F (const T1 *v1, const T2 *v2, size_t n) \
   { \
     R *r = 0; \
     if (n > 0) \
       { \
 	r = new R [n]; \
-	for (size_t i = 0; i < n; i++) \
-	  r[i] = v1[i] OP v2[i]; \
+	F ## _vv (r, v1, v2, n); \
       } \
     return r; \
   }
 
 #define VV_OPS(R, T1, T2) \
   VV_OP (add,      +, R, T1, T2) \
   VV_OP (subtract, -, R, T1, T2) \
   VV_OP (multiply, *, R, T1, T2) \
diff --git a/octMakefile.in b/octMakefile.in
--- a/octMakefile.in
+++ b/octMakefile.in
@@ -95,35 +95,35 @@ octave.info:
 INSTALL.OCTAVE:
 	cd doc ; $(MAKE) ../INSTALL.OCTAVE
 .PHONY: INSTALL.OCTAVE
 
 BUGS:
 	cd doc ; $(MAKE) ../BUGS
 .PHONY: BUGS
 
-install::
+install install-strip ::
 	$(top_srcdir)/mkinstalldirs $(DIRS_TO_MAKE)
 	$(INSTALL_SCRIPT) octave-bug $(bindir)/octave-bug
 	$(INSTALL_SCRIPT) mkoctfile $(bindir)/mkoctfile
 	$(INSTALL_DATA) config.h $(octincludedir)/config.h
 
 maintainer-clean::
 	@echo ""
 	@echo "************************************************************"
 	@echo "*                                                          *"
 	@echo "* This command is intended for maintainers to use; it      *"
 	@echo "* deletes files that may require special tools to rebuild. *"
 	@echo "*                                                          *"
 	@echo "************************************************************"
 	@echo ""
 
-install uninstall tags TAGS::
+install install-strip uninstall tags TAGS::
 	@$(subdir-for-command)
-.PHONY: install uninstall tags
+.PHONY: install install-strip uninstall tags
 
 clean mostlyclean distclean maintainer-clean::
 	$(foreach d, $(CLEANSUBDIRS), $(do-subdir-for-command))
 .PHONY: clean mostlyclean distclean maintainer-clean
 
 maintainer-clean distclean::
 	rm -f configure config.h.in octMakefile octave-bug Makefile \
 	Makeconf config.cache config.h config.log config.status \
diff --git a/readline/ChangeLog b/readline/ChangeLog
--- a/readline/ChangeLog
+++ b/readline/ChangeLog
@@ -1,8 +1,12 @@
+Wed Mar 12 16:59:01 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* Makefile.in (install-strip): New target.
+
 Mon Mar  3 15:40:54 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* Makefile.in (DISTFILES): Add config.guess, config.sub, and
 	ChangeLog.
 
 Wed Feb 26 12:41:03 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* Makefile.in (maintainer-clean): Also remove configure, config.h
diff --git a/readline/Makefile.in b/readline/Makefile.in
--- a/readline/Makefile.in
+++ b/readline/Makefile.in
@@ -186,16 +186,19 @@ force:
 install:
 	for f in $(LIBS_TO_INSTALL); do \
 	  if [ -f $$f ]; then $(INSTALL_DATA) $$f $(libdir)/$$f; fi; \
 	done
 	for f in $(SH_LIBS_TO_INSTALL); do \
 	  if [ -f $$f ]; then $(INSTALL_PROGRAM) $$f $(libdir)/$$f; fi; \
 	done
 
+install-strip:
+	$(MAKE) INSTALL_PROGRAM="$(INSTALL_PROGRAM) -s" install
+
 uninstall:
 
 # The rule for 'includes' is written funny so that the if statement
 # always returns TRUE unless there really was an error installing the
 # include files.
 #install: installdirs libreadline.a
 #	${INSTALL_DATA} readline.h keymaps.h chardefs.h history.h \
 #		$(incdir)/readline
diff --git a/scripts/ChangeLog b/scripts/ChangeLog
--- a/scripts/ChangeLog
+++ b/scripts/ChangeLog
@@ -1,8 +1,29 @@
+Wed Mar 12 16:57:45 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* Makefile.in (install-strip): New target.
+	* audio/Makefile.in: Ditto.
+	* control/Makefile.in: Ditto.
+	* elfun/Makefile.in: Ditto.
+	* general/Makefile.in: Ditto.
+	* image/Makefile.in: Ditto.
+	* io/Makefile.in: Ditto.
+	* linear-algebra/Makefile.in: Ditto.
+	* miscellaneous/Makefile.in: Ditto.
+	* plot/Makefile.in: Ditto.
+	* polynomial/Makefile.in: Ditto.
+	* set/Makefile.in: Ditto.
+	* signal/Makefile.in: Ditto.
+	* specfun/Makefile.in: Ditto.
+	* special-matrix/Makefile.in: Ditto.
+	* startup/Makefile.in: Ditto.
+	* statistics/Makefile.in: Ditto.
+	* strings/Makefile.in: Ditto.
+
 Tue Mar 11 10:14:26 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* elfun/coth.m: Write as cosh(x) ./ sinh(x) instead of 1 ./ tanh(x).
 
 Fri Mar  7 23:06:48 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* statistics/corrcoef.m: Make it actually work.
 
diff --git a/scripts/Makefile.in b/scripts/Makefile.in
--- a/scripts/Makefile.in
+++ b/scripts/Makefile.in
@@ -39,21 +39,22 @@ FCN_FILES_NO_DIR = # $(notdir $(FCN_FILE
 all: $(SUBDIRS)
 .PHONY: all
 
 $(SUBDIRS):
 	echo making all in $@
 	cd $@ ; $(MAKE) all
 .PHONY: $(SUBDIRS)
 
-install uninstall clean mostlyclean distclean maintainer-clean::
+install install-strip uninstall clean mostlyclean distclean maintainer-clean::
 	@$(subdir-for-command)
-.PHONY: install uninstall clean mostlyclean distclean maintainer-clean
+.PHONY: install install-strip uninstall
+.PHONY: clean mostlyclean distclean maintainer-clean
 
-install::
+install install-strip::
 	ls -LR $(datadir)/octave $(libexecdir)/octave > $(datadir)/octave/ls-R
 
 uninstall::
 	rm -f $(datadir)/octave/ls-R
 
 tags TAGS:: $(SOURCES)
 	$(SUBDIR_FOR_COMMAND)
 
diff --git a/scripts/audio/Makefile.in b/scripts/audio/Makefile.in
--- a/scripts/audio/Makefile.in
+++ b/scripts/audio/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/control/Makefile.in b/scripts/control/Makefile.in
--- a/scripts/control/Makefile.in
+++ b/scripts/control/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/elfun/Makefile.in b/scripts/elfun/Makefile.in
--- a/scripts/elfun/Makefile.in
+++ b/scripts/elfun/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/general/Makefile.in b/scripts/general/Makefile.in
--- a/scripts/general/Makefile.in
+++ b/scripts/general/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/image/Makefile.in b/scripts/image/Makefile.in
--- a/scripts/image/Makefile.in
+++ b/scripts/image/Makefile.in
@@ -31,29 +31,29 @@ FCN_FILES_NO_DIR = $(notdir $(FCN_FILES)
 IMAGE_FILES = $(wildcard $(srcdir)/*.img)
 IMAGE_FILES_NO_DIR = $(notdir $(IMAGE_FILES))
 
 BINDISTFILES = $(FCN_FILES) $(IMAGE_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 	$(top_srcdir)/mkinstalldirs $(imagedir)
 	for f in $(IMAGE_FILES_NO_DIR) ; do \
 	  rm -f $(imagedir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(imagedir)/$$f ; \
 	done
 	$(top_srcdir)/mkinstalldirs $(archlibdir)
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 	for f in $(IMAGE_FILES_NO_DIR) ; \
 	  do rm -f $(imagedir)/$$f ; \
 	done
diff --git a/scripts/io/Makefile.in b/scripts/io/Makefile.in
--- a/scripts/io/Makefile.in
+++ b/scripts/io/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/linear-algebra/Makefile.in b/scripts/linear-algebra/Makefile.in
--- a/scripts/linear-algebra/Makefile.in
+++ b/scripts/linear-algebra/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/miscellaneous/Makefile.in b/scripts/miscellaneous/Makefile.in
--- a/scripts/miscellaneous/Makefile.in
+++ b/scripts/miscellaneous/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/plot/Makefile.in b/scripts/plot/Makefile.in
--- a/scripts/plot/Makefile.in
+++ b/scripts/plot/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/polynomial/Makefile.in b/scripts/polynomial/Makefile.in
--- a/scripts/polynomial/Makefile.in
+++ b/scripts/polynomial/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/set/Makefile.in b/scripts/set/Makefile.in
--- a/scripts/set/Makefile.in
+++ b/scripts/set/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/signal/Makefile.in b/scripts/signal/Makefile.in
--- a/scripts/signal/Makefile.in
+++ b/scripts/signal/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/specfun/Makefile.in b/scripts/specfun/Makefile.in
--- a/scripts/specfun/Makefile.in
+++ b/scripts/specfun/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/special-matrix/Makefile.in b/scripts/special-matrix/Makefile.in
--- a/scripts/special-matrix/Makefile.in
+++ b/scripts/special-matrix/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/startup/Makefile.in b/scripts/startup/Makefile.in
--- a/scripts/startup/Makefile.in
+++ b/scripts/startup/Makefile.in
@@ -27,17 +27,17 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = # $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = # $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(srcdir)/octaverc
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	if test -f $(fcnfiledir)/$(script_sub_dir)/octaverc ; then true ; \
 	else \
 	  $(INSTALL_DATA) $(srcdir)/octaverc \
 	    $(fcnfiledir)/$(script_sub_dir)/octaverc ; \
 	fi
 	$(top_srcdir)/mkinstalldirs $(localfcnfiledir)/$(script_sub_dir)
 	if test -f $(localfcnfiledir)/$(script_sub_dir)/octaverc ; \
@@ -45,17 +45,17 @@ install:
 	else \
 	  $(INSTALL_DATA) $(srcdir)/octaverc \
 	    $(localfcnfiledir)/$(script_sub_dir)/octaverc ; \
 	fi
 #	for f in $(FCN_FILES_NO_DIR) ; do \
 #	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 #	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 #	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 #	for f in $(FCN_FILES_NO_DIR) ; \
 #	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 #	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/statistics/Makefile.in b/scripts/statistics/Makefile.in
--- a/scripts/statistics/Makefile.in
+++ b/scripts/statistics/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/strings/Makefile.in b/scripts/strings/Makefile.in
--- a/scripts/strings/Makefile.in
+++ b/scripts/strings/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/scripts/time/Makefile.in b/scripts/time/Makefile.in
--- a/scripts/time/Makefile.in
+++ b/scripts/time/Makefile.in
@@ -27,23 +27,23 @@ DISTFILES = Makefile.in $(SOURCES)
 FCN_FILES = $(wildcard $(srcdir)/*.m)
 FCN_FILES_NO_DIR = $(notdir $(FCN_FILES))
 
 BINDISTFILES = $(FCN_FILES)
 
 all:
 .PHONY: all
 
-install:
+install install-strip:
 	$(top_srcdir)/mkinstalldirs $(fcnfiledir)/$(script_sub_dir)
 	for f in $(FCN_FILES_NO_DIR) ; do \
 	  rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	  $(INSTALL_DATA) $(srcdir)/$$f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
-.PHONY: install
+.PHONY: install install-strip
 
 uninstall:
 	for f in $(FCN_FILES_NO_DIR) ; \
 	  do rm -f $(fcnfiledir)/$(script_sub_dir)/$$f ; \
 	done
 .PHONY: uninstall
 
 clean:
diff --git a/src/ChangeLog b/src/ChangeLog
--- a/src/ChangeLog
+++ b/src/ChangeLog
@@ -1,8 +1,12 @@
+Wed Mar 12 16:57:28 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* Makefile.in (install-strip): New target.
+
 Mon Mar 10 22:38:16 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* Makefile.in (clean): Delete .oct files too.
 
 	* toplev.cc (Vdefault_eval_print_flag): New static variable.
 	(eval_string): New arg, print.
 	(Feval): Pass Vdefault_eval_print_flag to eval_string.
 	(default_eval_print_flag): New function.
diff --git a/src/Makefile.in b/src/Makefile.in
--- a/src/Makefile.in
+++ b/src/Makefile.in
@@ -243,16 +243,20 @@ builtins.cc: $(DEF_FILES) mkbuiltins
 @bsd_gcc_kluge_targets_frag@
 
 check: all
 .PHONY: check
 
 install: install-bin install-oct install-lib install-inc
 .PHONY: install
 
+install-strip:
+	$(MAKE) INSTALL_PROGRAM="$(INSTALL_PROGRAM) -s" install
+.PHONY: install-strip
+
 install-bin:
 	$(top_srcdir)/mkinstalldirs $(bindir)
 	rm -f $(bindir)/octave$(EXE)
 	$(INSTALL_PROGRAM) octave$(EXE) $(bindir)/octave-$(version)$(EXE)
 	cd $(bindir) ; $(LN_S) octave-$(version)$(EXE) octave$(EXE)
 .PHONY: install-bin
 
 install-oct:
diff --git a/test/ChangeLog b/test/ChangeLog
--- a/test/ChangeLog
+++ b/test/ChangeLog
@@ -1,8 +1,12 @@
+Wed Mar 12 16:56:41 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
+
+	* Makefile.in (install-strip): New target.
+
 Sat Mar  1 15:23:14 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* Version 2.0.5 released.
 
 Thu Feb 20 02:58:05 1997  John W. Eaton  <jwe@bevo.che.wisc.edu>
 
 	* Version 2.0.4 released.
 
diff --git a/test/Makefile.in b/test/Makefile.in
--- a/test/Makefile.in
+++ b/test/Makefile.in
@@ -39,18 +39,18 @@ check:
 	else \
 	  echo "***" ; \
 	  echo "*** Sorry, I can't run tests without DejaGnu" ; \
 	  echo "***" ; \
 	fi
 
 .PHONY: check
 
-install: all
-.PHONY: install
+install install-strip: all
+.PHONY: install install-strip
 
 uninstall:
 .PHONY: uninstall
 
 tags: $(SOURCES)
 	ctags $(SOURCES)
 
 TAGS: $(SOURCES)
diff --git a/test/octave.test/eval/eval-1.m b/test/octave.test/eval/eval-1.m
--- a/test/octave.test/eval/eval-1.m
+++ b/test/octave.test/eval/eval-1.m
@@ -1,1 +1,2 @@
+default_eval_print_flag = 1;
 eval ("x = 1");
