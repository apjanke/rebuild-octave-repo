# HG changeset patch
# User Rik <rik@octave.org>
# Date 1347990959 25200
#      Tue Sep 18 10:55:59 2012 -0700
# Node ID 9128fa93fb21e63717668ea4ebf348bef9aeb882
# Parent  598aa97253e2ad62c8e39b6491b50cc7c2257da0
configure.ac: Eliminate unnecessary unistd.h replacement for MSVC targets.

* configure.ac: Eliminate unnecessary unistd.h replacement for MSVC targets.

diff --git a/configure.ac b/configure.ac
--- a/configure.ac
+++ b/configure.ac
@@ -1793,32 +1793,16 @@ esac
 ## Find a termlib to use.
 OCTAVE_CHECK_LIB_TERMLIB
 
 ### Checks for header files.
 
 AC_HEADER_DIRENT
 AC_HEADER_SYS_WAIT
 
-dnl FIXME: We should probably only generate this file if it is missing.
-### Produce unistd.h for MSVC target, this simplifies changes in
-### Octave source tree and avoid problems with lex-generated code.
-case $canonical_host_type in
-  *-*-msdosmsvc)
-    AC_MSG_NOTICE([Generating replacement for <unistd.h> for MSVC])
-    cat << \EOF > unistd.h
-/* File generated by configure script. */
-#include <direct.h>
-#include <io.h>
-#include <process.h>
-EOF
-    CPPFLAGS="-I. $CPPFLAGS"
-    ;;
-esac
-
 ## C headers
 
 dnl Use multiple AC_CHECKs to avoid line continuations '\' in list
 AC_CHECK_HEADERS([curses.h direct.h dlfcn.h floatingpoint.h grp.h])
 AC_CHECK_HEADERS([ieeefp.h inttypes.h locale.h memory.h ncurses.h])
 AC_CHECK_HEADERS([poll.h pthread.h pwd.h sunmath.h sys/ioctl.h])
 AC_CHECK_HEADERS([sys/param.h sys/poll.h sys/resource.h ])
 AC_CHECK_HEADERS([sys/select.h sys/utsname.h termcap.h])
