# HG changeset patch
# User Rik <rik@octave.org>
# Date 1346468420 25200
#      Fri Aug 31 20:00:20 2012 -0700
# Node ID 648dabbb4c6b0a02aef79b530362ca0afe7f622e
# Parent  6615a46d90ec381c95b3c2c4ed836122ca470022
build: Refactor liboctave into multiple subdirectories.  Move libcruft into liboctave.

* array/Array-C.cc, array/Array-b.cc, array/Array-ch.cc, array/Array-d.cc,
array/Array-f.cc, array/Array-fC.cc, array/Array-i.cc, array/Array-idx-vec.cc,
array/Array-s.cc, array/Array-str.cc, array/Array-util.cc, array/Array-util.h,
array/Array-voidp.cc, array/Array.cc, array/Array.h, array/Array2.h,
array/Array3.h, array/ArrayN.h, array/CColVector.cc, array/CColVector.h,
array/CDiagMatrix.cc, array/CDiagMatrix.h, array/CMatrix.cc, array/CMatrix.h,
array/CNDArray.cc, array/CNDArray.h, array/CRowVector.cc, array/CRowVector.h,
array/CSparse.cc, array/CSparse.h, array/DiagArray2.cc, array/DiagArray2.h,
array/MArray-C.cc, array/MArray-d.cc, array/MArray-decl.h, array/MArray-defs.h,
array/MArray-f.cc, array/MArray-fC.cc, array/MArray-i.cc, array/MArray-s.cc,
array/MArray.cc, array/MArray.h, array/MArray2.h, array/MArrayN.h,
array/MDiagArray2.cc, array/MDiagArray2.h, array/MSparse-C.cc,
array/MSparse-d.cc, array/MSparse-defs.h, array/MSparse.cc, array/MSparse.h,
array/Matrix.h, array/MatrixType.cc, array/MatrixType.h, array/PermMatrix.cc,
array/PermMatrix.h, array/Range.cc, array/Range.h, array/Sparse-C.cc,
array/Sparse-b.cc, array/Sparse-d.cc, array/Sparse.cc, array/Sparse.h,
array/boolMatrix.cc, array/boolMatrix.h, array/boolNDArray.cc,
array/boolNDArray.h, array/boolSparse.cc, array/boolSparse.h,
array/chMatrix.cc, array/chMatrix.h, array/chNDArray.cc, array/chNDArray.h,
array/dColVector.cc, array/dColVector.h, array/dDiagMatrix.cc,
array/dDiagMatrix.h, array/dMatrix.cc, array/dMatrix.h, array/dNDArray.cc,
array/dNDArray.h, array/dRowVector.cc, array/dRowVector.h, array/dSparse.cc,
array/dSparse.h, array/dim-vector.cc, array/dim-vector.h, array/fCColVector.cc,
array/fCColVector.h, array/fCDiagMatrix.cc, array/fCDiagMatrix.h,
array/fCMatrix.cc, array/fCMatrix.h, array/fCNDArray.cc, array/fCNDArray.h,
array/fCRowVector.cc, array/fCRowVector.h, array/fColVector.cc,
array/fColVector.h, array/fDiagMatrix.cc, array/fDiagMatrix.h,
array/fMatrix.cc, array/fMatrix.h, array/fNDArray.cc, array/fNDArray.h,
array/fRowVector.cc, array/fRowVector.h, array/idx-vector.cc,
array/idx-vector.h, array/int16NDArray.cc, array/int16NDArray.h,
array/int32NDArray.cc, array/int32NDArray.h, array/int64NDArray.cc,
array/int64NDArray.h, array/int8NDArray.cc, array/int8NDArray.h,
array/intNDArray.cc, array/intNDArray.h, array/module.mk,
array/uint16NDArray.cc, array/uint16NDArray.h, array/uint32NDArray.cc,
array/uint32NDArray.h, array/uint64NDArray.cc, array/uint64NDArray.h,
array/uint8NDArray.cc, array/uint8NDArray.h:
Moved from liboctave dir to array subdirectory.

* cruft/Makefile.am, cruft/amos/README, cruft/amos/cacai.f, cruft/amos/cacon.f,
cruft/amos/cairy.f, cruft/amos/casyi.f, cruft/amos/cbesh.f, cruft/amos/cbesi.f,
cruft/amos/cbesj.f, cruft/amos/cbesk.f, cruft/amos/cbesy.f, cruft/amos/cbinu.f,
cruft/amos/cbiry.f, cruft/amos/cbknu.f, cruft/amos/cbuni.f, cruft/amos/cbunk.f,
cruft/amos/ckscl.f, cruft/amos/cmlri.f, cruft/amos/crati.f, cruft/amos/cs1s2.f,
cruft/amos/cseri.f, cruft/amos/cshch.f, cruft/amos/cuchk.f, cruft/amos/cunhj.f,
cruft/amos/cuni1.f, cruft/amos/cuni2.f, cruft/amos/cunik.f, cruft/amos/cunk1.f,
cruft/amos/cunk2.f, cruft/amos/cuoik.f, cruft/amos/cwrsk.f,
cruft/amos/dgamln.f, cruft/amos/gamln.f, cruft/amos/module.mk,
cruft/amos/xzabs.f, cruft/amos/xzexp.f, cruft/amos/xzlog.f,
cruft/amos/xzsqrt.f, cruft/amos/zacai.f, cruft/amos/zacon.f,
cruft/amos/zairy.f, cruft/amos/zasyi.f, cruft/amos/zbesh.f, cruft/amos/zbesi.f,
cruft/amos/zbesj.f, cruft/amos/zbesk.f, cruft/amos/zbesy.f, cruft/amos/zbinu.f,
cruft/amos/zbiry.f, cruft/amos/zbknu.f, cruft/amos/zbuni.f, cruft/amos/zbunk.f,
cruft/amos/zdiv.f, cruft/amos/zkscl.f, cruft/amos/zmlri.f, cruft/amos/zmlt.f,
cruft/amos/zrati.f, cruft/amos/zs1s2.f, cruft/amos/zseri.f, cruft/amos/zshch.f,
cruft/amos/zuchk.f, cruft/amos/zunhj.f, cruft/amos/zuni1.f, cruft/amos/zuni2.f,
cruft/amos/zunik.f, cruft/amos/zunk1.f, cruft/amos/zunk2.f, cruft/amos/zuoik.f,
cruft/amos/zwrsk.f, cruft/blas-xtra/cconv2.f, cruft/blas-xtra/cdotc3.f,
cruft/blas-xtra/cmatm3.f, cruft/blas-xtra/csconv2.f, cruft/blas-xtra/dconv2.f,
cruft/blas-xtra/ddot3.f, cruft/blas-xtra/dmatm3.f, cruft/blas-xtra/module.mk,
cruft/blas-xtra/sconv2.f, cruft/blas-xtra/sdot3.f, cruft/blas-xtra/smatm3.f,
cruft/blas-xtra/xcdotc.f, cruft/blas-xtra/xcdotu.f, cruft/blas-xtra/xddot.f,
cruft/blas-xtra/xdnrm2.f, cruft/blas-xtra/xdznrm2.f, cruft/blas-xtra/xerbla.f,
cruft/blas-xtra/xscnrm2.f, cruft/blas-xtra/xsdot.f, cruft/blas-xtra/xsnrm2.f,
cruft/blas-xtra/xzdotc.f, cruft/blas-xtra/xzdotu.f, cruft/blas-xtra/zconv2.f,
cruft/blas-xtra/zdconv2.f, cruft/blas-xtra/zdotc3.f, cruft/blas-xtra/zmatm3.f,
cruft/daspk/datv.f, cruft/daspk/dcnst0.f, cruft/daspk/dcnstr.f,
cruft/daspk/ddasic.f, cruft/daspk/ddasid.f, cruft/daspk/ddasik.f,
cruft/daspk/ddaspk.f, cruft/daspk/ddstp.f, cruft/daspk/ddwnrm.f,
cruft/daspk/dfnrmd.f, cruft/daspk/dfnrmk.f, cruft/daspk/dhels.f,
cruft/daspk/dheqr.f, cruft/daspk/dinvwt.f, cruft/daspk/dlinsd.f,
cruft/daspk/dlinsk.f, cruft/daspk/dmatd.f, cruft/daspk/dnedd.f,
cruft/daspk/dnedk.f, cruft/daspk/dnsd.f, cruft/daspk/dnsid.f,
cruft/daspk/dnsik.f, cruft/daspk/dnsk.f, cruft/daspk/dorth.f,
cruft/daspk/dslvd.f, cruft/daspk/dslvk.f, cruft/daspk/dspigm.f,
cruft/daspk/dyypnw.f, cruft/daspk/module.mk, cruft/dasrt/ddasrt.f,
cruft/dasrt/drchek.f, cruft/dasrt/droots.f, cruft/dasrt/module.mk,
cruft/dassl/ddaini.f, cruft/dassl/ddajac.f, cruft/dassl/ddanrm.f,
cruft/dassl/ddaslv.f, cruft/dassl/ddassl.f, cruft/dassl/ddastp.f,
cruft/dassl/ddatrp.f, cruft/dassl/ddawts.f, cruft/dassl/module.mk,
cruft/fftpack/cfftb.f, cruft/fftpack/cfftb1.f, cruft/fftpack/cfftf.f,
cruft/fftpack/cfftf1.f, cruft/fftpack/cffti.f, cruft/fftpack/cffti1.f,
cruft/fftpack/fftpack.doc, cruft/fftpack/module.mk, cruft/fftpack/passb.f,
cruft/fftpack/passb2.f, cruft/fftpack/passb3.f, cruft/fftpack/passb4.f,
cruft/fftpack/passb5.f, cruft/fftpack/passf.f, cruft/fftpack/passf2.f,
cruft/fftpack/passf3.f, cruft/fftpack/passf4.f, cruft/fftpack/passf5.f,
cruft/fftpack/zfftb.f, cruft/fftpack/zfftb1.f, cruft/fftpack/zfftf.f,
cruft/fftpack/zfftf1.f, cruft/fftpack/zffti.f, cruft/fftpack/zffti1.f,
cruft/fftpack/zpassb.f, cruft/fftpack/zpassb2.f, cruft/fftpack/zpassb3.f,
cruft/fftpack/zpassb4.f, cruft/fftpack/zpassb5.f, cruft/fftpack/zpassf.f,
cruft/fftpack/zpassf2.f, cruft/fftpack/zpassf3.f, cruft/fftpack/zpassf4.f,
cruft/fftpack/zpassf5.f, cruft/lapack-xtra/crsf2csf.f,
cruft/lapack-xtra/module.mk, cruft/lapack-xtra/xclange.f,
cruft/lapack-xtra/xdlamch.f, cruft/lapack-xtra/xdlange.f,
cruft/lapack-xtra/xilaenv.f, cruft/lapack-xtra/xslamch.f,
cruft/lapack-xtra/xslange.f, cruft/lapack-xtra/xzlange.f,
cruft/lapack-xtra/zrsf2csf.f, cruft/link-deps.mk, cruft/misc/blaswrap.c,
cruft/misc/cquit.c, cruft/misc/d1mach-tst.for, cruft/misc/d1mach.f,
cruft/misc/f77-extern.cc, cruft/misc/f77-fcn.c, cruft/misc/f77-fcn.h,
cruft/misc/i1mach.f, cruft/misc/lo-error.c, cruft/misc/lo-error.h,
cruft/misc/module.mk, cruft/misc/quit.cc, cruft/misc/quit.h,
cruft/misc/r1mach.f, cruft/mkf77def.in, cruft/odepack/cfode.f,
cruft/odepack/dlsode.f, cruft/odepack/ewset.f, cruft/odepack/intdy.f,
cruft/odepack/module.mk, cruft/odepack/prepj.f, cruft/odepack/scfode.f,
cruft/odepack/sewset.f, cruft/odepack/sintdy.f, cruft/odepack/slsode.f,
cruft/odepack/solsy.f, cruft/odepack/sprepj.f, cruft/odepack/ssolsy.f,
cruft/odepack/sstode.f, cruft/odepack/stode.f, cruft/odepack/svnorm.f,
cruft/odepack/vnorm.f, cruft/ordered-qz/README, cruft/ordered-qz/dsubsp.f,
cruft/ordered-qz/exchqz.f, cruft/ordered-qz/module.mk,
cruft/ordered-qz/sexchqz.f, cruft/ordered-qz/ssubsp.f, cruft/quadpack/dqagi.f,
cruft/quadpack/dqagie.f, cruft/quadpack/dqagp.f, cruft/quadpack/dqagpe.f,
cruft/quadpack/dqelg.f, cruft/quadpack/dqk15i.f, cruft/quadpack/dqk21.f,
cruft/quadpack/dqpsrt.f, cruft/quadpack/module.mk, cruft/quadpack/qagi.f,
cruft/quadpack/qagie.f, cruft/quadpack/qagp.f, cruft/quadpack/qagpe.f,
cruft/quadpack/qelg.f, cruft/quadpack/qk15i.f, cruft/quadpack/qk21.f,
cruft/quadpack/qpsrt.f, cruft/quadpack/xerror.f, cruft/ranlib/Basegen.doc,
cruft/ranlib/HOWTOGET, cruft/ranlib/README, cruft/ranlib/advnst.f,
cruft/ranlib/genbet.f, cruft/ranlib/genchi.f, cruft/ranlib/genexp.f,
cruft/ranlib/genf.f, cruft/ranlib/gengam.f, cruft/ranlib/genmn.f,
cruft/ranlib/genmul.f, cruft/ranlib/gennch.f, cruft/ranlib/gennf.f,
cruft/ranlib/gennor.f, cruft/ranlib/genprm.f, cruft/ranlib/genunf.f,
cruft/ranlib/getcgn.f, cruft/ranlib/getsd.f, cruft/ranlib/ignbin.f,
cruft/ranlib/ignlgi.f, cruft/ranlib/ignnbn.f, cruft/ranlib/ignpoi.f,
cruft/ranlib/ignuin.f, cruft/ranlib/initgn.f, cruft/ranlib/inrgcm.f,
cruft/ranlib/lennob.f, cruft/ranlib/mltmod.f, cruft/ranlib/module.mk,
cruft/ranlib/phrtsd.f, cruft/ranlib/qrgnin.f, cruft/ranlib/randlib.chs,
cruft/ranlib/randlib.fdoc, cruft/ranlib/ranf.f, cruft/ranlib/setall.f,
cruft/ranlib/setant.f, cruft/ranlib/setgmn.f, cruft/ranlib/setsd.f,
cruft/ranlib/sexpo.f, cruft/ranlib/sgamma.f, cruft/ranlib/snorm.f,
cruft/ranlib/tstbot.for, cruft/ranlib/tstgmn.for, cruft/ranlib/tstmid.for,
cruft/ranlib/wrap.f, cruft/slatec-err/fdump.f, cruft/slatec-err/ixsav.f,
cruft/slatec-err/j4save.f, cruft/slatec-err/module.mk,
cruft/slatec-err/xerclr.f, cruft/slatec-err/xercnt.f,
cruft/slatec-err/xerhlt.f, cruft/slatec-err/xermsg.f,
cruft/slatec-err/xerprn.f, cruft/slatec-err/xerrwd.f,
cruft/slatec-err/xersve.f, cruft/slatec-err/xgetf.f, cruft/slatec-err/xgetua.f,
cruft/slatec-err/xsetf.f, cruft/slatec-err/xsetua.f, cruft/slatec-fn/acosh.f,
cruft/slatec-fn/albeta.f, cruft/slatec-fn/algams.f, cruft/slatec-fn/alngam.f,
cruft/slatec-fn/alnrel.f, cruft/slatec-fn/asinh.f, cruft/slatec-fn/atanh.f,
cruft/slatec-fn/betai.f, cruft/slatec-fn/csevl.f, cruft/slatec-fn/d9gmit.f,
cruft/slatec-fn/d9lgic.f, cruft/slatec-fn/d9lgit.f, cruft/slatec-fn/d9lgmc.f,
cruft/slatec-fn/dacosh.f, cruft/slatec-fn/dasinh.f, cruft/slatec-fn/datanh.f,
cruft/slatec-fn/dbetai.f, cruft/slatec-fn/dcsevl.f, cruft/slatec-fn/derf.f,
cruft/slatec-fn/derfc.in.f, cruft/slatec-fn/dgami.f, cruft/slatec-fn/dgamit.f,
cruft/slatec-fn/dgamlm.f, cruft/slatec-fn/dgamma.f, cruft/slatec-fn/dgamr.f,
cruft/slatec-fn/dlbeta.f, cruft/slatec-fn/dlgams.f, cruft/slatec-fn/dlngam.f,
cruft/slatec-fn/dlnrel.f, cruft/slatec-fn/dpchim.f, cruft/slatec-fn/dpchst.f,
cruft/slatec-fn/erf.f, cruft/slatec-fn/erfc.in.f, cruft/slatec-fn/gami.f,
cruft/slatec-fn/gamit.f, cruft/slatec-fn/gamlim.f, cruft/slatec-fn/gamma.f,
cruft/slatec-fn/gamr.f, cruft/slatec-fn/initds.f, cruft/slatec-fn/inits.f,
cruft/slatec-fn/module.mk, cruft/slatec-fn/pchim.f, cruft/slatec-fn/pchst.f,
cruft/slatec-fn/r9gmit.f, cruft/slatec-fn/r9lgic.f, cruft/slatec-fn/r9lgit.f,
cruft/slatec-fn/r9lgmc.f, cruft/slatec-fn/xacosh.f, cruft/slatec-fn/xasinh.f,
cruft/slatec-fn/xatanh.f, cruft/slatec-fn/xbetai.f, cruft/slatec-fn/xdacosh.f,
cruft/slatec-fn/xdasinh.f, cruft/slatec-fn/xdatanh.f,
cruft/slatec-fn/xdbetai.f, cruft/slatec-fn/xderf.f, cruft/slatec-fn/xderfc.f,
cruft/slatec-fn/xdgami.f, cruft/slatec-fn/xdgamit.f, cruft/slatec-fn/xdgamma.f,
cruft/slatec-fn/xerf.f, cruft/slatec-fn/xerfc.f, cruft/slatec-fn/xgamma.f,
cruft/slatec-fn/xgmainc.f, cruft/slatec-fn/xsgmainc.f:
Moved from top-level libcruft to cruft directory below liboctave.

* numeric/CmplxAEPBAL.cc, numeric/CmplxAEPBAL.h, numeric/CmplxCHOL.cc,
numeric/CmplxCHOL.h, numeric/CmplxGEPBAL.cc, numeric/CmplxGEPBAL.h,
numeric/CmplxHESS.cc, numeric/CmplxHESS.h, numeric/CmplxLU.cc,
numeric/CmplxLU.h, numeric/CmplxQR.cc, numeric/CmplxQR.h, numeric/CmplxQRP.cc,
numeric/CmplxQRP.h, numeric/CmplxSCHUR.cc, numeric/CmplxSCHUR.h,
numeric/CmplxSVD.cc, numeric/CmplxSVD.h, numeric/CollocWt.cc,
numeric/CollocWt.h, numeric/DAE.h, numeric/DAEFunc.h, numeric/DAERT.h,
numeric/DAERTFunc.h, numeric/DASPK-opts.in, numeric/DASPK.cc, numeric/DASPK.h,
numeric/DASRT-opts.in, numeric/DASRT.cc, numeric/DASRT.h,
numeric/DASSL-opts.in, numeric/DASSL.cc, numeric/DASSL.h, numeric/DET.h,
numeric/EIG.cc, numeric/EIG.h, numeric/LSODE-opts.in, numeric/LSODE.cc,
numeric/LSODE.h, numeric/ODE.h, numeric/ODEFunc.h, numeric/ODES.cc,
numeric/ODES.h, numeric/ODESFunc.h, numeric/Quad-opts.in, numeric/Quad.cc,
numeric/Quad.h, numeric/SparseCmplxCHOL.cc, numeric/SparseCmplxCHOL.h,
numeric/SparseCmplxLU.cc, numeric/SparseCmplxLU.h, numeric/SparseCmplxQR.cc,
numeric/SparseCmplxQR.h, numeric/SparseQR.cc, numeric/SparseQR.h,
numeric/SparsedbleCHOL.cc, numeric/SparsedbleCHOL.h, numeric/SparsedbleLU.cc,
numeric/SparsedbleLU.h, numeric/base-aepbal.h, numeric/base-dae.h,
numeric/base-de.h, numeric/base-lu.cc, numeric/base-lu.h, numeric/base-min.h,
numeric/base-qr.cc, numeric/base-qr.h, numeric/bsxfun-decl.h,
numeric/bsxfun-defs.cc, numeric/bsxfun.h, numeric/dbleAEPBAL.cc,
numeric/dbleAEPBAL.h, numeric/dbleCHOL.cc, numeric/dbleCHOL.h,
numeric/dbleGEPBAL.cc, numeric/dbleGEPBAL.h, numeric/dbleHESS.cc,
numeric/dbleHESS.h, numeric/dbleLU.cc, numeric/dbleLU.h, numeric/dbleQR.cc,
numeric/dbleQR.h, numeric/dbleQRP.cc, numeric/dbleQRP.h, numeric/dbleSCHUR.cc,
numeric/dbleSCHUR.h, numeric/dbleSVD.cc, numeric/dbleSVD.h,
numeric/eigs-base.cc, numeric/fCmplxAEPBAL.cc, numeric/fCmplxAEPBAL.h,
numeric/fCmplxCHOL.cc, numeric/fCmplxCHOL.h, numeric/fCmplxGEPBAL.cc,
numeric/fCmplxGEPBAL.h, numeric/fCmplxHESS.cc, numeric/fCmplxHESS.h,
numeric/fCmplxLU.cc, numeric/fCmplxLU.h, numeric/fCmplxQR.cc,
numeric/fCmplxQR.h, numeric/fCmplxQRP.cc, numeric/fCmplxQRP.h,
numeric/fCmplxSCHUR.cc, numeric/fCmplxSCHUR.h, numeric/fCmplxSVD.cc,
numeric/fCmplxSVD.h, numeric/fEIG.cc, numeric/fEIG.h, numeric/floatAEPBAL.cc,
numeric/floatAEPBAL.h, numeric/floatCHOL.cc, numeric/floatCHOL.h,
numeric/floatGEPBAL.cc, numeric/floatGEPBAL.h, numeric/floatHESS.cc,
numeric/floatHESS.h, numeric/floatLU.cc, numeric/floatLU.h, numeric/floatQR.cc,
numeric/floatQR.h, numeric/floatQRP.cc, numeric/floatQRP.h,
numeric/floatSCHUR.cc, numeric/floatSCHUR.h, numeric/floatSVD.cc,
numeric/floatSVD.h, numeric/lo-mappers.cc, numeric/lo-mappers.h,
numeric/lo-specfun.cc, numeric/lo-specfun.h, numeric/module.mk,
numeric/oct-convn.cc, numeric/oct-convn.h, numeric/oct-fftw.cc,
numeric/oct-fftw.h, numeric/oct-norm.cc, numeric/oct-norm.h,
numeric/oct-rand.cc, numeric/oct-rand.h, numeric/oct-spparms.cc,
numeric/oct-spparms.h, numeric/randgamma.c, numeric/randgamma.h,
numeric/randmtzig.c, numeric/randmtzig.h, numeric/randpoisson.c,
numeric/randpoisson.h, numeric/sparse-base-chol.cc, numeric/sparse-base-chol.h,
numeric/sparse-base-lu.cc, numeric/sparse-base-lu.h, numeric/sparse-dmsolve.cc:
Moved from liboctave dir to numeric subdirectory.

* operators/Sparse-diag-op-defs.h, operators/Sparse-op-defs.h,
operators/Sparse-perm-op-defs.h, operators/config-ops.sh, operators/mk-ops.awk,
operators/module.mk, operators/mx-base.h, operators/mx-defs.h,
operators/mx-ext.h, operators/mx-inlines.cc, operators/mx-op-decl.h,
operators/mx-op-defs.h, operators/mx-ops, operators/sparse-mk-ops.awk,
operators/sparse-mx-ops, operators/vx-ops:
Moved from liboctave dir to operators subdirectory.

* system/dir-ops.cc, system/dir-ops.h, system/file-ops.cc, system/file-ops.h,
system/file-stat.cc, system/file-stat.h, system/lo-sysdep.cc,
system/lo-sysdep.h, system/mach-info.cc, system/mach-info.h, system/module.mk,
system/oct-env.cc, system/oct-env.h, system/oct-group.cc, system/oct-group.h,
system/oct-openmp.h, system/oct-passwd.cc, system/oct-passwd.h,
system/oct-syscalls.cc, system/oct-syscalls.h, system/oct-time.cc,
system/oct-time.h, system/oct-uname.cc, system/oct-uname.h, system/pathlen.h,
system/sysdir.h, system/syswait.h, system/tempnam.c, system/tempname.c:
Moved from liboctave dir to system subdirectory.

* util/base-list.h, util/byte-swap.h, util/caseless-str.h, util/cmd-edit.cc,
util/cmd-edit.h, util/cmd-hist.cc, util/cmd-hist.h, util/data-conv.cc,
util/data-conv.h, util/f2c-main.c, util/functor.h, util/glob-match.cc,
util/glob-match.h, util/kpse.cc, util/lo-array-gripes.cc,
util/lo-array-gripes.h, util/lo-cieee.c, util/lo-cutils.c, util/lo-cutils.h,
util/lo-ieee.cc, util/lo-ieee.h, util/lo-macros.h, util/lo-math.h,
util/lo-traits.h, util/lo-utils.cc, util/lo-utils.h, util/module.mk,
util/oct-alloc.cc, util/oct-alloc.h, util/oct-base64.cc, util/oct-base64.h,
util/oct-binmap.h, util/oct-cmplx.h, util/oct-glob.cc, util/oct-glob.h,
util/oct-inttypes.cc, util/oct-inttypes.h, util/oct-locbuf.cc,
util/oct-locbuf.h, util/oct-md5.cc, util/oct-md5.h, util/oct-mem.h,
util/oct-mutex.cc, util/oct-mutex.h, util/oct-refcount.h, util/oct-rl-edit.c,
util/oct-rl-edit.h, util/oct-rl-hist.c, util/oct-rl-hist.h, util/oct-shlib.cc,
util/oct-shlib.h, util/oct-sort.cc, util/oct-sort.h, util/oct-sparse.h,
util/pathsearch.cc, util/pathsearch.h, util/regexp.cc, util/regexp.h,
util/singleton-cleanup.cc, util/singleton-cleanup.h, util/sparse-sort.cc,
util/sparse-sort.h, util/sparse-util.cc, util/sparse-util.h, util/statdefs.h,
util/str-vec.cc, util/str-vec.h, util/sun-utils.h:
Moved from liboctave dir to util subdirectory.

* Makefile.am: Eliminate reference to top-level liboctave directory.

* autogen.sh: cd to new liboctave/operators directory to run config-ops.sh.

* build-aux/common.mk: Eliminate LIBCRUFT references.

* configure.ac: Eliminate libcruft top-level references.  Switch test
programs to find files in liboctave/cruft subdirectory.

* OctaveFAQ.texi, install.txi, mkoctfile.1: Eliminate references to libcruft in
docs.

* libgui/src/Makefile.am, libinterp/Makefile.am, src/Makefile.am: Update
include file locations.  Stop linking against libcruft.

* libinterp/corefcn/module.mk: Update location of OPT_INC files which are
now in numeric/ subdirectory.

* libinterp/dldfcn/config-module.awk: Stop linking against libcruft.

* libinterp/interpfcn/toplev.cc: Remove reference to LIBCRUFT.

* libinterp/link-deps.mk, liboctave/link-deps.mk:
Add GNULIB_LINK_DEPS to link dependencies.

* libinterp/oct-conf.in.h: Remove reference to OCTAVE_CONF_LIBCRUFT.

* liboctave/Makefile.am: Overhaul to use convenience libraries in
subdirectories.

* scripts/miscellaneous/mkoctfile.m: Eliminate reference to LIBCRUFT.

* src/mkoctfile.in.cc, src/mkoctfile.in.sh: Stop linking againt libcruft.
Eliminate references to LIBCRUFT.

diff --git a/Makefile.am b/Makefile.am
--- a/Makefile.am
+++ b/Makefile.am
@@ -69,17 +69,17 @@ include m4/module.mk
 
 if AMCOND_BUILD_GUI
 GUIDIR = libgui
 else
 GUIDIR =
 endif
 
 # Subdirectories in which to run `make all'.
-SUBDIRS = libgnu libcruft liboctave libinterp $(GUIDIR) src scripts @DOCDIR@ examples test
+SUBDIRS = libgnu liboctave libinterp $(GUIDIR) src scripts @DOCDIR@ examples test
 
 if ! AMCOND_BUILD_DOCS
 dist-hook:
 	echo "Documentation disabled.  Cannot package distribution!" ; exit 1;
 endif
 
 BUILT_SOURCES = run-octave
 
diff --git a/autogen.sh b/autogen.sh
--- a/autogen.sh
+++ b/autogen.sh
@@ -17,19 +17,19 @@ export AUTOMAKE
 
 for f in NEWS README COPYING; do
   if ! test -f $f; then
     echo "required file $f is missing" 2>&1
     exit 1
   fi
 done
 
-echo "generating source lists for liboctave/Makefile..."
+echo "generating source lists for liboctave/operators/module.mk..."
 
-(cd liboctave; ./config-ops.sh)
+(cd liboctave/operators; ./config-ops.sh)
 
 echo "generating doc/interpreter/images.mk..."
 
 (cd doc/interpreter; ./config-images.sh)
 
 echo "generating libinterp/dldfcn/module.mk..."
 
 (cd libinterp/dldfcn; ./config-module.sh)
diff --git a/build-aux/common.mk b/build-aux/common.mk
--- a/build-aux/common.mk
+++ b/build-aux/common.mk
@@ -167,17 +167,16 @@ DL_LDFLAGS = @DL_LDFLAGS@
 SONAME_FLAGS = @SONAME_FLAGS@
 
 RDYNAMIC_FLAG = @RDYNAMIC_FLAG@
 
 FLIBS = @FLIBS@
 
 LIBOCTINTERP = @LIBOCTINTERP@
 LIBOCTAVE = @LIBOCTAVE@
-LIBCRUFT = @LIBCRUFT@
 
 FT2_CFLAGS = @FT2_CFLAGS@
 FT2_LIBS = @FT2_LIBS@
 
 HDF5_CPPFLAGS = @HDF5_CPPFLAGS@
 HDF5_LDFLAGS = @HDF5_LDFLAGS@
 HDF5_LIBS = @HDF5_LIBS@
 
@@ -324,17 +323,17 @@ datarootdir = @datarootdir@
 # and ${localfcnfiledir} are subdirectories of this.
 datadir = @datadir@
 
 libdir = @libdir@
 
 # Where to install and expect extra files like NEWS and doc-cache.
 octetcdir = @octetcdir@
 
-# Where to install and expect libraries like libcruft.a, liboctave.a,
+# Where to install and expect libraries like liboctave.a, liboctinterp.a,
 # and other architecture-dependent data.
 octlibdir = @octlibdir@
 
 # Where to install and expect executable programs to be run by Octave
 # rather than directly by users.
 libexecdir = @libexecdir@
 
 # The prefix for Octave's include file directory.  The default is
@@ -538,17 +537,16 @@ echo "making $@ from $<"
   -e "s|%OCTAVE_CONF_INCLUDEDIR%|\"${includedir}\"|" \
   -e "s|%OCTAVE_CONF_LAPACK_LIBS%|\"${LAPACK_LIBS}\"|" \
   -e "s|%OCTAVE_CONF_LD_CXX%|\"${LD_CXX}\"|" \
   -e "s|%OCTAVE_CONF_LDFLAGS%|\"${LDFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_LD_STATIC_FLAG%|\"${LD_STATIC_FLAG}\"|" \
   -e "s|%OCTAVE_CONF_LEX%|\"${LEX}\"|" \
   -e "s|%OCTAVE_CONF_LEXLIB%|\"${LEXLIB}\"|" \
   -e "s|%OCTAVE_CONF_LFLAGS%|\"${LFLAGS}\"|" \
-  -e "s|%OCTAVE_CONF_LIBCRUFT%|\"${LIBCRUFT}\"|" \
   -e "s|%OCTAVE_CONF_LIBDIR%|\"${libdir}\"|" \
   -e "s|%OCTAVE_CONF_LIBEXT%|\"${LIBEXT}\"|" \
   -e "s|%OCTAVE_CONF_LIBFLAGS%|\"${LIBFLAGS}\"|" \
   -e "s|%OCTAVE_CONF_LIBOCTAVE%|\"${LIBOCTAVE}\"|" \
   -e "s|%OCTAVE_CONF_LIBOCTINTERP%|\"${LIBOCTINTERP}\"|" \
   -e "s|%OCTAVE_CONF_LIBS%|\"${LIBS}\"|" \
   -e "s|%OCTAVE_CONF_LN_S%|\"${LN_S}\"|" \
   -e "s|%OCTAVE_CONF_MAGICK_CPPFLAGS%|\"${MAGICK_CPPFLAGS}\"|" \
@@ -660,17 +658,16 @@ define do_subst_script_vals
 echo "making $@ from $<"
 $(SED) < $< \
   -e "s|%AWK%|${AWK}|g" \
   -e "s|%FIND%|${FIND}|g" \
   -e "s|%SED%|${SED}|g" \
   -e "s|%library_path_var%|${library_path_var}|g" \
   -e "s|%liboctinterp%|${SHLPRE}octinterp.${SHLEXT}|g" \
   -e "s|%liboctave%|${SHLPRE}octave.${SHLEXT}|g" \
-  -e "s|%libcruft%|${SHLPRE}cruft.${SHLEXT}|g" \
   -e "s|%ldpreloadsep%|${ldpreloadsep}|g" \
   -e "s|%srcdir%|${srcdir}|" \
   -e "s|%top_srcdir%|${top_srcdir}|" \
   -e "s|%abs_top_srcdir%|${abs_top_srcdir}|" \
   -e "s|%builddir%|$(shell pwd)|" > $@-t
 $(simple_move_if_change_rule)
 endef
 
diff --git a/configure.ac b/configure.ac
--- a/configure.ac
+++ b/configure.ac
@@ -791,17 +791,17 @@ OCTAVE_CHECK_LIB(fftw3, FFTW3,
 
 OCTAVE_CHECK_LIB(fftw3f, FFTW3F,
   [FFTW3F library not found.  The slower FFTPACK library will be used instead.],
   [fftw3.h], [fftwf_plan_dft_1d])
 
 AM_CONDITIONAL([AMCOND_HAVE_FFTW],
   [test -n "$FFTW3_LIBS" && test -n "$FFTW3F_LIBS"])
 
-## Subdirectory of libcruft to build if FFTW is not found.
+## Subdirectory of liboctave/cruft to build if FFTW is not found.
 FFT_DIR="fftpack"
 AC_SUBST(FFT_DIR)
 
 ### Check for GLPK library and header.
 
 save_CPPFLAGS="$CPPFLAGS"
 CPPFLAGS="$Z_CPPFLAGS $CPPFLAGS"
 save_LIBS="$LIBS"
@@ -1129,41 +1129,41 @@ fi
 if test "x$ax_blas_f77_func_ok" = "xno"; then
   case "$canonical_host_type" in
     *-*-darwin*)
       ## test if wrapper functions help
       octave_blaswrap_save_CFLAGS="$CFLAGS"
       CFLAGS="$CFLAGS -DUSE_BLASWRAP"
       AC_LANG_PUSH(C)
       AC_COMPILE_IFELSE([AC_LANG_SOURCE([[
-          #include "libcruft/misc/blaswrap.c"
+          #include "liboctave/cruft/misc/blaswrap.c"
         ]])],
         [mv conftest.$ac_objext blaswrap.$ac_objext
          octave_blaswrap_save_BLAS_LIBS="$BLAS_LIBS"
          BLAS_LIBS="blaswrap.$ac_objext -framework vecLib"
 
          save_FFLAGS="$FFLAGS"
          FFLAGS="$FFLAGS $F77_INTEGER_8_FLAG"
 
          AX_BLAS_WITH_F77_FUNC([:], [:])
          AX_LAPACK([:], [:])
 
          ## Restore FFLAGS.
          FFLAGS="$save_FFLAGS"
 
          ## remove temp file
          rm -f blaswrap.$ac_objext],
-        [AC_MSG_FAILURE([cannot compile libcruft/misc/blaswrap.c])])
+        [AC_MSG_FAILURE([cannot compile liboctave/cruft/misc/blaswrap.c])])
       AC_LANG_POP(C)
       CFLAGS="$octave_blaswrap_save_CFLAGS"
 
       if test "x$ax_blas_f77_func_ok" = "xno"; then
         BLAS_LIBS="$octave_blaswrap_save_BLAS_LIBS"
       else
-        ## wrapper in libcruft, remove from BLAS_LIBS
+        ## wrapper in cruft, remove from BLAS_LIBS
         BLAS_LIBS="`echo $BLAS_LIBS | sed -e 's/blaswrap.[[^ ]]* //g'`"
         AC_DEFINE(USE_BLASWRAP, 1,
           [Define to 1 if BLAS functions need to be wrapped (potentially needed for 64-bit OSX only).])
       fi
     ;;
   esac
 fi
 
@@ -1707,29 +1707,26 @@ if $ENABLE_DYNAMIC_LINKING; then
 fi
 
 AM_CONDITIONAL([AMCOND_ENABLE_DYNAMIC_LINKING],
   [test x$ENABLE_DYNAMIC_LINKING = xtrue])
 
 if $SHARED_LIBS; then
   LIBOCTINTERP=-loctinterp$SHLLINKEXT
   LIBOCTAVE=-loctave$SHLLINKEXT
-  LIBCRUFT=-lcruft$SHLLINKEXT
 else
   LIBOCTINTERP='$(top_builddir)/libinterp/liboctinterp.$(LIBEXT)'
   LIBOCTAVE='$(top_builddir)/liboctave/liboctave.$(LIBEXT)'
-  LIBCRUFT='$(top_builddir)/libcruft/libcruft.$(LIBEXT)'
 fi
 
 AC_SUBST(LD_CXX)
 AC_SUBST(RDYNAMIC_FLAG)
 AC_SUBST(ENABLE_DYNAMIC_LINKING)
 AC_SUBST(LIBOCTINTERP)
 AC_SUBST(LIBOCTAVE)
-AC_SUBST(LIBCRUFT)
 
 ### Check for existence of various libraries
 
 ## OS-specific test for dirent, opendir.
 case "$canonical_host_type" in
   *-*-mingw*)
     if test "$have_msvc" = "yes"; then
       AC_CHECK_LIB(dirent, opendir)
@@ -1933,17 +1930,17 @@ double tgamma (double);
 AC_LANG_POP(C++)
 
 ## Look in <cmath> for the IEEE functions isnan, isinf, isfinite that we need.
 
 OCTAVE_CHECK_FUNC_CMATH(isnan)
 OCTAVE_CHECK_FUNC_CMATH(isinf)
 OCTAVE_CHECK_FUNC_CMATH(isfinite)
 
-dnl Would like to get rid of this cruft, and just have
+dnl Would like to get rid of this crap, and just have
 dnl
 dnl   AC_CHECK_FUNCS(finite isnan isinf)
 dnl
 dnl instead, but that used to fail on some systems...
 dnl
 dnl Also just using AC_CHECK_FUNCS doesn't seem to work to find isinf
 dnl and isnan on Linux systems, so we use AC_CHECK_FUNC, and if that
 dnl fails, we try again by including math.h and invoking the function
@@ -2402,23 +2399,23 @@ AC_CONFIG_FILES([
   Makefile 
   doc/Makefile
   doc/faq/Makefile
   doc/icons/Makefile
   doc/interpreter/Makefile
   doc/liboctave/Makefile
   doc/refcard/Makefile
   examples/Makefile
-  libcruft/Makefile
-  libcruft/mkf77def
   libgnu/Makefile
   libgui/Makefile
   libgui/src/Makefile
   libinterp/Makefile
   liboctave/Makefile
+  liboctave/cruft/Makefile
+  liboctave/cruft/mkf77def
   scripts/Makefile
   src/Makefile
   test/Makefile])
 
 AC_OUTPUT
 
 ### Print a summary so that important information isn't missed.
 
diff --git a/doc/faq/OctaveFAQ.texi b/doc/faq/OctaveFAQ.texi
--- a/doc/faq/OctaveFAQ.texi
+++ b/doc/faq/OctaveFAQ.texi
@@ -215,17 +215,17 @@ way that they effectively create a singl
 not distribute the MEX file and Octave together in a single package such
 that Octave automatically loads and runs the MEX file when it starts up.
 There are other possible ways that you might effectively create a single
 work; this is just one example.
 @end enumerate
 
 A program that embeds the Octave interpreter (e.g., by calling the
 "octave_main" function), or that calls functions from Octave's
-libraries (e.g., liboctinterp, liboctave, or libcruft) is
+libraries (e.g., liboctinterp or liboctave) is
 considered a derivative work of Octave and therefore must be
 released under terms that are compatible with the GPL.
 
 @node Licensing MEX Files
 @section Since the MEX interface allows plugins to be distributed under terms that are incompatible with the GPL, does this mean that you are encouraging people to to write non-free software for Octave?
 
 No.  The original reason for implementing the MEX interface for Octave
 was to allow Octave to run free software that uses MEX files (the
diff --git a/doc/interpreter/install.txi b/doc/interpreter/install.txi
--- a/doc/interpreter/install.txi
+++ b/doc/interpreter/install.txi
@@ -534,17 +534,17 @@ the following directories.  In the table
 of the interpreter, and @var{arch} is the type of computer on which
 Octave is installed (for example, @samp{i586-unknown-gnu}).
 
 @table @file
 @item @var{prefix}/bin
 Octave and other binaries that people will want to run directly.
 
 @item @var{prefix}/lib/octave-@var{version}
-Libraries like libcruft.a and liboctave.a.
+Libraries like liboctave.a and liboctinterp.a.
 
 @item @var{prefix}/octave-@var{version}/include/octave
 Include files distributed with Octave.
 
 @item @var{prefix}/share
 Architecture-independent data files.
 
 @item @var{prefix}/share/man/man1
@@ -791,22 +791,22 @@ Octave's 64-bit index support is activat
 ./configure \
   LD_LIBRARY_PATH="$prefix64/lib" \
   CPPFLAGS="-I$prefix64/include" LDFLAGS="-L$prefix64/lib" \
   --enable-64
 @end group
 @end example
 
 You must ensure that all Fortran sources except those in the
-@file{libcruft/ranlib} directory are compiled such that INTEGERS are
+@file{liboctave/cruft/ranlib} directory are compiled such that INTEGERS are
 8-bytes wide.  If you are using gfortan, the configure script should
 automatically set the Makefile variable @w{@env{F77_INTEGER_8_FLAG}} to 
 @option{-fdefault-integer-8}.  If you are using another compiler, you
 must set this variable yourself.  You should NOT set this flag in
-@env{FFLAGS}, otherwise the files in @file{libcruft/ranlib} will be
+@env{FFLAGS}, otherwise the files in @file{liboctave/cruft/ranlib} will be
 miscompiled.
 
 @item Other dependencies
 
 Probably nothing special needs to be done for the following
 dependencies.  If you discover that something does need to be done,
 please submit a bug report.
 
@@ -971,17 +971,17 @@ warning: unexpected parent of complex ex
 zgemm.f, line 327: warning: unexpected parent of complex
   expression subtree
 pcc_binval: missing IR_CONV in complex op
 make[2]: *** [zgemm.o] Error 1
 @end group
 @end example
 
 @noindent
-when compiling the Fortran subroutines in the @file{libcruft}
+when compiling the Fortran subroutines in the @file{liboctave/cruft}
 subdirectory, you should either upgrade your compiler or try compiling
 with optimization turned off.
 
 @item
 On NeXT systems, if you get errors like this:
 
 @example
 @group
diff --git a/doc/interpreter/mkoctfile.1 b/doc/interpreter/mkoctfile.1
--- a/doc/interpreter/mkoctfile.1
+++ b/doc/interpreter/mkoctfile.1
@@ -99,29 +99,29 @@ Print configuration variable \fIVAR\fP. 
     ALL_CXXFLAGS              FLIBS
     ALL_FFLAGS                FPICFLAG
     ALL_LDFLAGS               INCFLAGS
     BLAS_LIBS                 LAPACK_LIBS
     CC                        LDFLAGS
     CFLAGS                    LD_CXX
     CPICFLAG                  LD_STATIC_FLAG
     CPPFLAGS                  LFLAGS
-    CXX                       LIBCRUFT
-    CXXFLAGS                  LIBOCTAVE
-    CXXPICFLAG                LIBOCTINTERP
-    DEPEND_EXTRA_SED_PATTERN  LIBS
-    DEPEND_FLAGS              OCTAVE_LIBS
-    DL_LD                     OCTAVE_LINK_DEPS
-    DL_LDFLAGS                OCT_LINK_DEPS
-    EXEEXT                    RDYNAMIC_FLAG
-    F77                       READLINE_LIBS
-    F77_INTEGER_8_FLAG        SED
-    FFLAGS                    XTRA_CFLAGS
-    FFTW3_LDFLAGS             XTRA_CXXFLAGS
-    FFTW3_LIBS
+    CXX                       LIBOCTAVE
+    CXXFLAGS                  LIBOCTINTERP    
+    CXXPICFLAG                LIBS            
+    DEPEND_EXTRA_SED_PATTERN  OCTAVE_LIBS     
+    DEPEND_FLAGS              OCTAVE_LINK_DEPS
+    DL_LD                     OCT_LINK_DEPS   
+    DL_LDFLAGS                RDYNAMIC_FLAG   
+    EXEEXT                    READLINE_LIBS   
+    F77                       SED             
+    F77_INTEGER_8_FLAG        XTRA_CFLAGS     
+    FFLAGS                    XTRA_CXXFLAGS   
+    FFTW3_LDFLAGS                             
+    FFTW3_LIBS                                
     FFTW3F_LDFLAGS
 .Ve
 .RE
 .TP
 .B \-v\fR,\fB --verbose
 Echo commands as they are executed.
 .TP
 .B file
diff --git a/libgui/src/Makefile.am b/libgui/src/Makefile.am
--- a/libgui/src/Makefile.am
+++ b/libgui/src/Makefile.am
@@ -98,17 +98,17 @@ liboctgui_la_CPPFLAGS = \
   -I$(QT_INCDIR) \
   -I$(QT_INCDIR)/QtCore \
   -I$(QT_INCDIR)/QtGui \
   -I$(QT_INCDIR)/QtNetwork \
   -I$(srcdir)/../qterminal/libqterminal \
   -I$(srcdir)/m-editor \
   -I$(srcdir)/octave-adapter \
   -I$(srcdir)/qtinfo \
-  -I$(srcdir)/../../libcruft/misc \
+  -I$(srcdir)/../../liboctave/cruft/misc \
   -I../../liboctave \
   -I$(srcdir)/../../liboctave \
   -I../../libinterp \
   -I../../libinterp/interp-core \
   -I../../libinterp/interpfcn \
   -I../../libinterp/parse-tree \
   -I$(srcdir)/../../libinterp \
   -I$(srcdir)/../../libinterp/interp-core \
@@ -118,17 +118,16 @@ liboctgui_la_CPPFLAGS = \
   -I$(srcdir)/../../libinterp/parse-tree
 
 include link-deps.mk
 
 liboctgui_la_LIBADD = \
   libqterminal.la \
   ../../libinterp/liboctinterp.la \
   ../../liboctave/liboctave.la \
-  ../../libcruft/libcruft.la \
   $(LIBOCTGUI_LINK_DEPS)
 
 # Increment these as needed and according to the rules in the libtool manual:
 liboctgui_current = 0
 liboctgui_revision = 0
 liboctgui_age = 0
 
 liboctgui_version_info = $(liboctgui_current):$(liboctgui_revision):$(liboctgui_age)
diff --git a/libinterp/Makefile.am b/libinterp/Makefile.am
--- a/libinterp/Makefile.am
+++ b/libinterp/Makefile.am
@@ -19,17 +19,22 @@
 # <http://www.gnu.org/licenses/>.
 
 include $(top_srcdir)/build-aux/common.mk
 
 AUTOMAKE_OPTIONS = subdir-objects
 
 ## Search local directories before those specified by the user.
 AM_CPPFLAGS = \
-  -I$(top_srcdir)/libcruft/misc \
+  -I$(top_srcdir)/liboctave/cruft/misc \
+  -I../liboctave/array -I$(top_srcdir)/liboctave/array \
+  -I../liboctave/numeric -I$(top_srcdir)/liboctave/numeric \
+  -I../liboctave/operators -I$(top_srcdir)/liboctave/operators \
+  -I../liboctave/system -I$(top_srcdir)/liboctave/system \
+  -I../liboctave/util -I$(top_srcdir)/liboctave/util \
   -I../liboctave -I$(top_srcdir)/liboctave \
   -I$(srcdir)/octave-value \
   -I$(srcdir)/operators \
   -Iparse-tree -I$(srcdir)/parse-tree \
   -Iinterp-core -I$(srcdir)/interp-core \
   -Iinterpfcn -I$(srcdir)/interpfcn \
   -Icorefcn \
   -I$(top_builddir)/libgnu -I$(top_srcdir)/libgnu
@@ -161,17 +166,16 @@ include link-deps.mk
 
 liboctinterp_la_LIBADD = \
   octave-value/liboctave-value.la \
   parse-tree/libparse-tree.la \
   interp-core/libinterp-core.la \
   interpfcn/libinterpfcn.la \
   corefcn/libcorefcn.la \
   ../liboctave/liboctave.la \
-  ../libcruft/libcruft.la \
   $(LIBOCTINTERP_LINK_DEPS)
 
 # Increment these as needed and according to the rules in the libtool manual:
 liboctinterp_current = 1
 liboctinterp_revision = 1
 liboctinterp_age = 0
 
 liboctinterp_version_info = $(liboctinterp_current):$(liboctinterp_revision):$(liboctinterp_age)
diff --git a/libinterp/corefcn/module.mk b/libinterp/corefcn/module.mk
--- a/libinterp/corefcn/module.mk
+++ b/libinterp/corefcn/module.mk
@@ -6,28 +6,28 @@ EXTRA_DIST += \
 OPT_HANDLERS = \
   corefcn/DASPK-opts.cc \
   corefcn/DASRT-opts.cc \
   corefcn/DASSL-opts.cc \
   corefcn/LSODE-opts.cc \
   corefcn/Quad-opts.cc
 
 OPT_INC = \
-  $(top_builddir)/liboctave/DASPK-opts.h \
-  $(top_builddir)/liboctave/DASRT-opts.h \
-  $(top_builddir)/liboctave/DASSL-opts.h \
-  $(top_builddir)/liboctave/LSODE-opts.h \
-  $(top_builddir)/liboctave/Quad-opts.h
+  $(top_builddir)/liboctave/numeric/DASPK-opts.h \
+  $(top_builddir)/liboctave/numeric/DASRT-opts.h \
+  $(top_builddir)/liboctave/numeric/DASSL-opts.h \
+  $(top_builddir)/liboctave/numeric/LSODE-opts.h \
+  $(top_builddir)/liboctave/numeric/Quad-opts.h
 
-$(OPT_HANDLERS): corefcn/%.cc : $(top_builddir)/liboctave/%.in
+$(OPT_HANDLERS): corefcn/%.cc : $(top_builddir)/liboctave/numeric/%.in
 	$(PERL) $(top_srcdir)/build-aux/mk-opts.pl --opt-handler-fcns $< > $@-t
 	mv $@-t $@
 
 $(OPT_INC) : %.h : %.in
-	$(MAKE) -C $(top_builddir)/liboctave $(@F)
+	$(MAKE) -C $(top_builddir)/liboctave/numeric $(@F)
 
 COREFCN_SRC = \
   corefcn/__contourc__.cc \
   corefcn/__dispatch__.cc \
   corefcn/__lin_interpn__.cc \
   corefcn/__pchip_deriv__.cc \
   corefcn/__qp__.cc \
   corefcn/balance.cc \
diff --git a/libinterp/dldfcn/config-module.awk b/libinterp/dldfcn/config-module.awk
--- a/libinterp/dldfcn/config-module.awk
+++ b/libinterp/dldfcn/config-module.awk
@@ -66,12 +66,12 @@ BEGIN {
       {
         printf ("dldfcn/%s.df: CPPFLAGS += %s\n",
                 basename, cppflags[i]);
         printf ("dldfcn_%s_la_CPPFLAGS = $(AM_CPPFLAGS) %s\n",
                 basename, cppflags[i]);
       }
     printf ("dldfcn_%s_la_LDFLAGS = -avoid-version -module $(NO_UNDEFINED_LDFLAG) %s $(OCT_LINK_OPTS)\n",
             basename, ldflags[i]);
-    printf ("dldfcn_%s_la_LIBADD = $(DLD_LIBOCTINTERP_LIBADD) ../liboctave/liboctave.la ../libcruft/libcruft.la %s $(OCT_LINK_DEPS)\n",
+    printf ("dldfcn_%s_la_LIBADD = $(DLD_LIBOCTINTERP_LIBADD) ../liboctave/liboctave.la %s $(OCT_LINK_DEPS)\n",
             basename, libraries[i]);
   }
 }
diff --git a/libinterp/interpfcn/toplev.cc b/libinterp/interpfcn/toplev.cc
--- a/libinterp/interpfcn/toplev.cc
+++ b/libinterp/interpfcn/toplev.cc
@@ -1313,17 +1313,16 @@ specified option.\n\
       { false, "HDF5_LIBS", OCTAVE_CONF_HDF5_LIBS },
       { false, "LAPACK_LIBS", OCTAVE_CONF_LAPACK_LIBS },
       { false, "LDFLAGS", OCTAVE_CONF_LDFLAGS },
       { false, "LD_CXX", OCTAVE_CONF_LD_CXX },
       { false, "LD_STATIC_FLAG", OCTAVE_CONF_LD_STATIC_FLAG },
       { false, "LEX", OCTAVE_CONF_LEX },
       { false, "LEXLIB", OCTAVE_CONF_LEXLIB },
       { false, "LFLAGS", OCTAVE_CONF_LFLAGS },
-      { false, "LIBCRUFT", OCTAVE_CONF_LIBCRUFT },
       { false, "LIBEXT", OCTAVE_CONF_LIBEXT },
       { false, "LIBFLAGS", OCTAVE_CONF_LIBFLAGS },
       { false, "LIBOCTAVE", OCTAVE_CONF_LIBOCTAVE },
       { false, "LIBOCTINTERP", OCTAVE_CONF_LIBOCTINTERP },
       { false, "LIBS", OCTAVE_CONF_LIBS },
       { false, "LN_S", OCTAVE_CONF_LN_S },
       { false, "MAGICK_CPPFLAGS", OCTAVE_CONF_MAGICK_CPPFLAGS },
       { false, "MAGICK_LDFLAGS", OCTAVE_CONF_MAGICK_LDFLAGS },
diff --git a/libinterp/link-deps.mk b/libinterp/link-deps.mk
--- a/libinterp/link-deps.mk
+++ b/libinterp/link-deps.mk
@@ -2,16 +2,17 @@ include $(top_srcdir)/liboctave/link-dep
 
 if AMCOND_ENABLE_DYNAMIC_LINKING
   LIBOCTINTERP_LINK_DEPS =
 else
   LIBOCTINTERP_LINK_DEPS = $(DLDFCN_LIBS)
 endif
 
 LIBOCTINTERP_LINK_DEPS += \
+	$(GNULIB_LINK_DEPS) \
   $(GRAPHICS_LIBS) \
   $(FT2_LIBS) \
   $(HDF5_LIBS) \
   $(Z_LIBS) \
   $(FFTW_XLIBS) \
   $(REGEX_LIBS) \
   $(OPENGL_LIBS) \
   $(X11_LIBS) \
diff --git a/libinterp/oct-conf.in.h b/libinterp/oct-conf.in.h
--- a/libinterp/oct-conf.in.h
+++ b/libinterp/oct-conf.in.h
@@ -345,20 +345,16 @@ along with Octave; see the file COPYING.
 #ifndef OCTAVE_CONF_LEX
 #define OCTAVE_CONF_LEX %OCTAVE_CONF_LEX%
 #endif
 
 #ifndef OCTAVE_CONF_LFLAGS
 #define OCTAVE_CONF_LFLAGS %OCTAVE_CONF_LFLAGS%
 #endif
 
-#ifndef OCTAVE_CONF_LIBCRUFT
-#define OCTAVE_CONF_LIBCRUFT %OCTAVE_CONF_LIBCRUFT%
-#endif
-
 #ifndef OCTAVE_CONF_LIBEXT
 #define OCTAVE_CONF_LIBEXT %OCTAVE_CONF_LIBEXT%
 #endif
 
 #ifndef OCTAVE_CONF_LIBFLAGS
 #define OCTAVE_CONF_LIBFLAGS %OCTAVE_CONF_LIBFLAGS%
 #endif
 
diff --git a/liboctave/Makefile.am b/liboctave/Makefile.am
--- a/liboctave/Makefile.am
+++ b/liboctave/Makefile.am
@@ -15,552 +15,104 @@
 # for more details.
 #
 # You should have received a copy of the GNU General Public License
 # along with Octave; see the file COPYING.  If not, see
 # <http://www.gnu.org/licenses/>.
 
 include $(top_srcdir)/build-aux/common.mk
 
+AUTOMAKE_OPTIONS = subdir-objects
+
+## Run cruft dir with stand-alone Makefile.
+## Eventually this will use module.mk syntax.
+SUBDIRS = cruft
+
 ## Search local directories before those specified by the user.
 AM_CPPFLAGS = \
-  -I$(top_builddir)/libgnu -I$(top_srcdir)/libgnu \
-  -I$(top_srcdir)/libcruft/misc
-
-EXTRA_DIST = \
-  config-ops.sh \
-  mk-ops.awk \
-  mx-op-inc.mk \
-  mx-op-src.mk \
-  mx-ops \
-  smx-op-inc.mk \
-  smx-op-src.mk \
-  sparse-mk-ops.awk \
-  sparse-mx-ops \
-  vx-op-inc.mk \
-  vx-op-src.mk \
-  vx-ops \
-  $(OPT_IN)
+  -I$(srcdir)/cruft/misc \
+  -I$(srcdir)/array \
+  -Inumeric -I$(srcdir)/numeric \
+  -Ioperators -I$(srcdir)/operators \
+  -I$(srcdir)/system \
+  -I$(srcdir)/util \
+  -I$(top_builddir)/libgnu -I$(top_srcdir)/libgnu
 
-MATRIX_INC = \
-  Array-util.h \
-  Array.h \
-  Array2.h \
-  Array3.h \
-  ArrayN.h \
-  CColVector.h \
-  CDiagMatrix.h \
-  CMatrix.h \
-  CNDArray.h \
-  CRowVector.h \
-  CSparse.h \
-  CmplxAEPBAL.h \
-  CmplxCHOL.h \
-  CmplxGEPBAL.h \
-  CmplxHESS.h \
-  CmplxLU.h \
-  CmplxQR.h \
-  CmplxQRP.h \
-  CmplxSCHUR.h \
-  CmplxSVD.h \
-  DET.h \
-  DiagArray2.h \
-  EIG.h \
-  MArray-decl.h \
-  MArray-defs.h \
-  MArray.h \
-  MArray2.h \
-  MArrayN.h \
-  MDiagArray2.h \
-  MSparse-defs.h \
-  MSparse.h \
-  Matrix.h \
-  MatrixType.h \
-  PermMatrix.h \
-  Sparse-diag-op-defs.h \
-  Sparse-op-defs.h \
-  Sparse-perm-op-defs.h \
-  Sparse.h \
-  SparseCmplxCHOL.h \
-  SparseCmplxLU.h \
-  SparseCmplxQR.h \
-  SparseQR.h \
-  SparsedbleCHOL.h \
-  SparsedbleLU.h \
-  base-aepbal.h \
-  base-lu.h \
-  base-qr.h \
-  boolMatrix.h \
-  boolNDArray.h \
-  boolSparse.h \
-  bsxfun-decl.h \
-  chMatrix.h \
-  chNDArray.h \
-  dColVector.h \
-  dDiagMatrix.h \
-  dMatrix.h \
-  dNDArray.h \
-  dRowVector.h \
-  dSparse.h \
-  dbleAEPBAL.h \
-  dbleCHOL.h \
-  dbleGEPBAL.h \
-  dbleHESS.h \
-  dbleLU.h \
-  dbleQR.h \
-  dbleQRP.h \
-  dbleSCHUR.h \
-  dbleSVD.h \
-  dim-vector.h \
-  fCColVector.h \
-  fCDiagMatrix.h \
-  fCMatrix.h \
-  fCNDArray.h \
-  fCRowVector.h \
-  fCmplxAEPBAL.h \
-  fCmplxCHOL.h \
-  fCmplxGEPBAL.h \
-  fCmplxHESS.h \
-  fCmplxLU.h \
-  fCmplxQR.h \
-  fCmplxQRP.h \
-  fCmplxSCHUR.h \
-  fCmplxSVD.h \
-  fColVector.h \
-  fDiagMatrix.h \
-  fEIG.h \
-  fMatrix.h \
-  fNDArray.h \
-  fRowVector.h \
-  floatAEPBAL.h \
-  floatCHOL.h \
-  floatGEPBAL.h \
-  floatHESS.h \
-  floatLU.h \
-  floatQR.h \
-  floatQRP.h \
-  floatSCHUR.h \
-  floatSVD.h \
-  int16NDArray.h \
-  int32NDArray.h \
-  int64NDArray.h \
-  int8NDArray.h \
-  intNDArray.h \
-  mx-base.h \
-  mx-defs.h \
-  mx-ext.h \
-  mx-op-decl.h \
-  mx-op-defs.h \
-  sparse-base-chol.h \
-  sparse-base-lu.h \
-  uint16NDArray.h \
-  uint32NDArray.h \
-  uint64NDArray.h \
-  uint8NDArray.h
+octlib_LTLIBRARIES = liboctave.la
 
-OPT_IN = \
-  DASPK-opts.in \
-  DASRT-opts.in \
-  DASSL-opts.in \
-  LSODE-opts.in \
-  Quad-opts.in
-
-OPT_INC = \
-  DASPK-opts.h \
-  DASRT-opts.h \
-  DASSL-opts.h \
-  LSODE-opts.h \
-  Quad-opts.h
+EXTRA_DIST =
 
-INCS = \
-  CollocWt.h \
-  DAE.h \
-  DAEFunc.h \
-  DAERT.h \
-  DAERTFunc.h \
-  DASPK.h \
-  DASRT.h \
-  DASSL.h \
-  LSODE.h \
-  ODE.h \
-  ODEFunc.h \
-  ODES.h \
-  ODESFunc.h \
-  Quad.h \
-  Range.h \
-  base-dae.h \
-  base-de.h \
-  base-list.h \
-  base-min.h \
-  bsxfun.h \
-  byte-swap.h \
-  caseless-str.h \
-  cmd-edit.h \
-  cmd-hist.h \
-  data-conv.h \
-  dir-ops.h \
-  file-ops.h \
-  file-stat.h \
-  functor.h \
-  glob-match.h \
-  idx-vector.h \
-  lo-array-gripes.h \
-  lo-cutils.h \
-  lo-ieee.h \
-  lo-macros.h \
-  lo-mappers.h \
-  lo-math.h \
-  lo-specfun.h \
-  lo-sysdep.h \
-  lo-traits.h \
-  lo-utils.h \
-  mach-info.h \
-  oct-alloc.h \
-  oct-base64.h \
-  oct-binmap.h \
-  oct-cmplx.h \
-  oct-convn.h \
-  oct-env.h \
-  oct-fftw.h \
-  oct-glob.h \
-  oct-group.h \
-  oct-inttypes.h \
-  oct-locbuf.h \
-  oct-md5.h \
-  oct-mem.h \
-  oct-mutex.h \
-  oct-norm.h \
-  oct-openmp.h \
-  oct-passwd.h \
-  oct-rand.h \
-  oct-refcount.h \
-  oct-rl-edit.h \
-  oct-rl-hist.h \
-  oct-shlib.h \
-  oct-sort.h \
-  oct-sparse.h \
-  oct-spparms.h \
-  oct-syscalls.h \
-  oct-time.h \
-  oct-uname.h \
-  pathlen.h \
-  pathsearch.h \
-  randgamma.h \
-  randmtzig.h \
-  randpoisson.h \
-  regexp.h \
-  singleton-cleanup.h \
-  sparse-sort.h \
-  sparse-util.h \
-  statdefs.h \
-  str-vec.h \
-  sun-utils.h \
-  sysdir.h \
-  syswait.h \
-  $(MATRIX_INC)
-
-PRIVATE_INCS = \
-  oct-glob.h
-
-OTHER_INC = \
-  intNDArray.cc \
-  kpse.cc \
-  mx-inlines.cc
-
-include vx-op-inc.mk
-include mx-op-inc.mk
-include smx-op-inc.mk
-
-$(srcdir)/vx-op-inc.mk: $(srcdir)/config-ops.sh $(srcdir)/mk-ops.awk $(srcdir)/vx-ops
-	$(srcdir)/config-ops.sh $(top_srcdir) vx inc
-
-$(srcdir)/mx-op-inc.mk: $(srcdir)/config-ops.sh $(srcdir)/mk-ops.awk $(srcdir)/mx-ops
-	$(srcdir)/config-ops.sh $(top_srcdir) mx inc
-
-$(srcdir)/smx-op-inc.mk: $(srcdir)/config-ops.sh $(srcdir)/sparse-mk-ops.awk $(srcdir)/sparse-mx-ops
-	$(srcdir)/config-ops.sh $(top_srcdir) smx inc
+DISTCLEANFILES =
 
 BUILT_INCS = \
-  mx-ops.h \
+  operators/mx-ops.h \
   $(OPT_INC) \
   $(MX_OP_INC) \
   $(VX_OP_INC) \
   $(SMX_OP_INC)
 
 BUILT_SOURCES = $(BUILT_INCS)
 
-TEMPLATE_SRC = \
-  Array.cc \
-  DiagArray2.cc \
-  MArray.cc \
-  MDiagArray2.cc \
-  base-lu.cc \
-  base-qr.cc \
-  bsxfun-defs.cc \
-  eigs-base.cc \
-  oct-sort.cc \
-  sparse-base-chol.cc \
-  sparse-base-lu.cc \
-  sparse-dmsolve.cc
+octinclude_HEADERS = \
+  $(ARRAY_INC) \
+  $(NUMERIC_INC) \
+  $(OPERATORS_INC) \
+  $(SYSTEM_INC) \
+  $(UTIL_INC) \
+  $(OTHER_INC) \
+  $(TEMPLATE_SRC)
 
-TI_SRC = \
-  Array-C.cc \
-  Array-b.cc \
-  Array-ch.cc \
-  Array-d.cc \
-  Array-f.cc \
-  Array-fC.cc \
-  Array-i.cc \
-  Array-idx-vec.cc \
-  Array-s.cc \
-  Array-str.cc \
-  Array-voidp.cc \
-  MArray-C.cc \
-  MArray-d.cc \
-  MArray-f.cc \
-  MArray-fC.cc \
-  MArray-i.cc \
-  MArray-s.cc \
-  MSparse-C.cc \
-  MSparse-d.cc \
-  Sparse-C.cc \
-  Sparse-b.cc \
-  Sparse-d.cc \
-  oct-inttypes.cc
+nodist_octinclude_HEADERS = \
+  $(BUILT_INCS)
+
+noinst_LTLIBRARIES =
 
-MATRIX_SRC = \
-  Array-util.cc \
-  CColVector.cc \
-  CDiagMatrix.cc \
-  CMatrix.cc \
-  CNDArray.cc \
-  CRowVector.cc \
-  CSparse.cc \
-  CmplxAEPBAL.cc \
-  CmplxCHOL.cc \
-  CmplxGEPBAL.cc \
-  CmplxHESS.cc \
-  CmplxLU.cc \
-  CmplxQR.cc \
-  CmplxQRP.cc \
-  CmplxSCHUR.cc \
-  CmplxSVD.cc \
-  EIG.cc \
-  MSparse.cc \
-  MatrixType.cc \
-  PermMatrix.cc \
-  Sparse.cc \
-  SparseCmplxCHOL.cc \
-  SparseCmplxLU.cc \
-  SparseCmplxQR.cc \
-  SparseQR.cc \
-  SparsedbleCHOL.cc \
-  SparsedbleLU.cc \
-  boolMatrix.cc \
-  boolNDArray.cc \
-  boolSparse.cc \
-  chMatrix.cc \
-  chNDArray.cc \
-  dim-vector.cc \
-  dColVector.cc \
-  dDiagMatrix.cc \
-  dMatrix.cc \
-  dNDArray.cc \
-  dRowVector.cc \
-  dSparse.cc \
-  dbleAEPBAL.cc \
-  dbleCHOL.cc \
-  dbleGEPBAL.cc \
-  dbleHESS.cc \
-  dbleLU.cc \
-  dbleQR.cc \
-  dbleQRP.cc \
-  dbleSCHUR.cc \
-  dbleSVD.cc \
-  fCColVector.cc \
-  fCDiagMatrix.cc \
-  fCMatrix.cc \
-  fCNDArray.cc \
-  fCRowVector.cc \
-  fCmplxAEPBAL.cc \
-  fCmplxCHOL.cc \
-  fCmplxGEPBAL.cc \
-  fCmplxHESS.cc \
-  fCmplxLU.cc \
-  fCmplxQR.cc \
-  fCmplxQRP.cc \
-  fCmplxSCHUR.cc \
-  fCmplxSVD.cc \
-  fColVector.cc \
-  fDiagMatrix.cc \
-  fEIG.cc \
-  fMatrix.cc \
-  fNDArray.cc \
-  fRowVector.cc \
-  floatAEPBAL.cc \
-  floatCHOL.cc \
-  floatGEPBAL.cc \
-  floatHESS.cc \
-  floatLU.cc \
-  floatQR.cc \
-  floatQRP.cc \
-  floatSCHUR.cc \
-  floatSVD.cc \
-  int16NDArray.cc \
-  int32NDArray.cc \
-  int64NDArray.cc \
-  int8NDArray.cc \
-  uint16NDArray.cc \
-  uint32NDArray.cc \
-  uint64NDArray.cc \
-  uint8NDArray.cc
+## C++ files that are #included, not compiled
+OTHER_INC =
 
-octlib_LTLIBRARIES = liboctave.la
+## C++ files with templates that are #included, not compiled
+TEMPLATE_SRC =
 
-LIBOCTAVE_CXX_SOURCES = \
-  CollocWt.cc \
-  DASPK.cc \
-  DASRT.cc \
-  DASSL.cc \
-  LSODE.cc \
-  ODES.cc \
-  Quad.cc \
-  Range.cc \
-  data-conv.cc \
-  dir-ops.cc \
-  file-ops.cc \
-  file-stat.cc \
-  glob-match.cc \
-  idx-vector.cc \
-  lo-array-gripes.cc \
-  lo-ieee.cc \
-  lo-mappers.cc \
-  lo-specfun.cc \
-  lo-sysdep.cc \
-  lo-utils.cc \
-  mach-info.cc \
-  oct-alloc.cc \
-  oct-base64.cc \
-  oct-convn.cc \
-  oct-env.cc \
-  oct-fftw.cc \
-  oct-glob.cc \
-  oct-group.cc \
-  oct-locbuf.cc \
-  oct-md5.cc \
-  oct-mutex.cc \
-  oct-norm.cc \
-  oct-passwd.cc \
-  oct-rand.cc \
-  oct-shlib.cc \
-  oct-spparms.cc \
-  oct-syscalls.cc \
-  oct-time.cc \
-  oct-uname.cc \
-  pathsearch.cc \
-  regexp.cc \
-  singleton-cleanup.cc \
-  sparse-sort.cc \
-  sparse-util.cc \
-  str-vec.cc \
-  $(TI_SRC) \
-  $(MATRIX_SRC)
+include array/module.mk
+include numeric/module.mk
+include operators/module.mk
+include system/module.mk
+include util/module.mk
 
-include vx-op-src.mk
-include mx-op-src.mk
-include smx-op-src.mk
-
-$(srcdir)/vx-op-src.mk: $(srcdir)/config-ops.sh $(srcdir)/mk-ops.awk $(srcdir)/vx-ops
-	$(srcdir)/config-ops.sh $(top_srcdir) vx src
-
-$(srcdir)/mx-op-src.mk: $(srcdir)/config-ops.sh $(srcdir)/mk-ops.awk $(srcdir)/mx-ops
-	$(srcdir)/config-ops.sh $(top_srcdir) mx src
-
-$(srcdir)/smx-op-src.mk: $(srcdir)/config-ops.sh $(srcdir)/sparse-mk-ops.awk $(srcdir)/sparse-mx-ops
-	$(srcdir)/config-ops.sh $(top_srcdir) smx src
-
-BUILT_LIBOCTAVE_CXX_SOURCES = \
-  $(MX_OP_SRC) \
-  $(VX_OP_SRC) \
-  $(SMX_OP_SRC)
+## liboctave merely collects a bunch of compiled convenience libraries.
+## It has no source code itself.
+liboctave_la_SOURCES = 
 
-LIBOCTAVE_C_SOURCES = \
-  f2c-main.c \
-  lo-cieee.c \
-  lo-cutils.c \
-  randgamma.c \
-  randmtzig.c \
-  randpoisson.c \
-  tempnam.c \
-  tempname.c
-
-LIBOCT_READLINE_CXX_SOURCES = cmd-edit.cc cmd-hist.cc
-
-LIBOCT_READLINE_C_SOURCES = oct-rl-edit.c oct-rl-hist.c
-
-LIBOCT_READLINE_SOURCES = $(LIBOCT_READLINE_CXX_SOURCES) $(LIBOCT_READLINE_C_SOURCES)
-
-liboctave_la_SOURCES = \
-  $(LIBOCTAVE_CXX_SOURCES) \
-  $(LIBOCTAVE_C_SOURCES) \
-  $(LIBOCTAVE_SOURCES) \
-  $(LIBOCT_READLINE_SOURCES) \
-  $(LIBOCT_PATHSEARCH_SOURCES)
-
-nodist_liboctave_la_SOURCES = \
-  $(BUILT_LIBOCTAVE_CXX_SOURCES)
-
-include link-deps.mk
-
-liboctave_la_LIBADD = \
-  ../libcruft/libcruft.la \
-  $(LIBOCTAVE_LINK_DEPS)
-
+## FIXME: SPARSE, FFTW, and ARPACK flags should probably only be in the
+##        particular convenience library that needs them.  
 liboctave_la_CPPFLAGS = \
   @OCTAVE_DLL_DEFS@ \
   $(SPARSE_XCPPFLAGS) \
   $(FFTW_XCPPFLAGS) \
   $(ARPACK_CPPFLAGS) \
   $(AM_CPPFLAGS)
 
-# Increment these as needed and according to the rules in the libtool
-# manual:
+include link-deps.mk
+
+liboctave_la_LIBADD = \
+  array/libarray.la \
+	cruft/libcruft.la \
+	numeric/libnumeric.la \
+	operators/liboperators.la \
+	system/libsystem.la \
+	util/libutil.la \
+  $(LIBOCTAVE_LINK_DEPS)
+
+# Increment these as needed and according to the rules in the libtool manual:
 liboctave_current = 1
 liboctave_revision = 1
 liboctave_age = 0
 
 liboctave_version_info = $(liboctave_current):$(liboctave_revision):$(liboctave_age)
 
 liboctave_la_LDFLAGS = \
   -version-info $(liboctave_version_info) \
   $(NO_UNDEFINED_LDFLAG) \
   -bindir $(bindir) \
   $(LIBOCTAVE_LINK_OPTS)
 
-octinclude_HEADERS = \
-  $(INCS) \
-  $(OTHER_INC) \
-  $(TEMPLATE_SRC) \
-  $(EXTRA_HEADERS)
-
-nodist_octinclude_HEADERS = \
-  $(BUILT_INCS)
-
-$(OPT_INC) : %.h : %.in $(top_srcdir)/build-aux/mk-opts.pl
-	@echo making $@ from $<
-	@$(PERL) $(top_srcdir)/build-aux/mk-opts.pl --opt-class-header $< > $@-t
-	mv $@-t $@
+DISTCLEANFILES += $(BUILT_INCS)
 
-$(VX_OP_INC) $(VX_OP_SRC) : $(srcdir)/mk-ops.awk vx-ops
-	$(AWK) -f $(srcdir)/mk-ops.awk prefix=vx $(srcdir)/vx-ops
-
-$(MX_OP_INC) $(MX_OP_SRC) : $(srcdir)/mk-ops.awk mx-ops
-	$(AWK) -f $(srcdir)/mk-ops.awk prefix=mx $(srcdir)/mx-ops
-
-$(SMX_OP_INC) $(SMX_OP_SRC) : $(srcdir)/sparse-mk-ops.awk sparse-mx-ops
-	$(AWK) -f $(srcdir)/sparse-mk-ops.awk prefix=smx $(srcdir)/sparse-mx-ops
-
-mx-ops.h : $(srcdir)/mk-ops.awk mx-ops
-	$(AWK) -f $(srcdir)/mk-ops.awk prefix=mx make_inclusive_header=mx-ops.h $(srcdir)/mx-ops > $@-t
-	mv $@-t $@
-
-DISTCLEANFILES = $(BUILT_INCS) $(BUILT_LIBOCTAVE_CXX_SOURCES)
-
diff --git a/liboctave/Array-C.cc b/liboctave/array/Array-C.cc
rename from liboctave/Array-C.cc
rename to liboctave/array/Array-C.cc
diff --git a/liboctave/Array-b.cc b/liboctave/array/Array-b.cc
rename from liboctave/Array-b.cc
rename to liboctave/array/Array-b.cc
diff --git a/liboctave/Array-ch.cc b/liboctave/array/Array-ch.cc
rename from liboctave/Array-ch.cc
rename to liboctave/array/Array-ch.cc
diff --git a/liboctave/Array-d.cc b/liboctave/array/Array-d.cc
rename from liboctave/Array-d.cc
rename to liboctave/array/Array-d.cc
diff --git a/liboctave/Array-f.cc b/liboctave/array/Array-f.cc
rename from liboctave/Array-f.cc
rename to liboctave/array/Array-f.cc
diff --git a/liboctave/Array-fC.cc b/liboctave/array/Array-fC.cc
rename from liboctave/Array-fC.cc
rename to liboctave/array/Array-fC.cc
diff --git a/liboctave/Array-i.cc b/liboctave/array/Array-i.cc
rename from liboctave/Array-i.cc
rename to liboctave/array/Array-i.cc
diff --git a/liboctave/Array-idx-vec.cc b/liboctave/array/Array-idx-vec.cc
rename from liboctave/Array-idx-vec.cc
rename to liboctave/array/Array-idx-vec.cc
diff --git a/liboctave/Array-s.cc b/liboctave/array/Array-s.cc
rename from liboctave/Array-s.cc
rename to liboctave/array/Array-s.cc
diff --git a/liboctave/Array-str.cc b/liboctave/array/Array-str.cc
rename from liboctave/Array-str.cc
rename to liboctave/array/Array-str.cc
diff --git a/liboctave/Array-util.cc b/liboctave/array/Array-util.cc
rename from liboctave/Array-util.cc
rename to liboctave/array/Array-util.cc
diff --git a/liboctave/Array-util.h b/liboctave/array/Array-util.h
rename from liboctave/Array-util.h
rename to liboctave/array/Array-util.h
diff --git a/liboctave/Array-voidp.cc b/liboctave/array/Array-voidp.cc
rename from liboctave/Array-voidp.cc
rename to liboctave/array/Array-voidp.cc
diff --git a/liboctave/Array.cc b/liboctave/array/Array.cc
rename from liboctave/Array.cc
rename to liboctave/array/Array.cc
diff --git a/liboctave/Array.h b/liboctave/array/Array.h
rename from liboctave/Array.h
rename to liboctave/array/Array.h
diff --git a/liboctave/Array2.h b/liboctave/array/Array2.h
rename from liboctave/Array2.h
rename to liboctave/array/Array2.h
diff --git a/liboctave/Array3.h b/liboctave/array/Array3.h
rename from liboctave/Array3.h
rename to liboctave/array/Array3.h
diff --git a/liboctave/ArrayN.h b/liboctave/array/ArrayN.h
rename from liboctave/ArrayN.h
rename to liboctave/array/ArrayN.h
diff --git a/liboctave/CColVector.cc b/liboctave/array/CColVector.cc
rename from liboctave/CColVector.cc
rename to liboctave/array/CColVector.cc
diff --git a/liboctave/CColVector.h b/liboctave/array/CColVector.h
rename from liboctave/CColVector.h
rename to liboctave/array/CColVector.h
diff --git a/liboctave/CDiagMatrix.cc b/liboctave/array/CDiagMatrix.cc
rename from liboctave/CDiagMatrix.cc
rename to liboctave/array/CDiagMatrix.cc
diff --git a/liboctave/CDiagMatrix.h b/liboctave/array/CDiagMatrix.h
rename from liboctave/CDiagMatrix.h
rename to liboctave/array/CDiagMatrix.h
diff --git a/liboctave/CMatrix.cc b/liboctave/array/CMatrix.cc
rename from liboctave/CMatrix.cc
rename to liboctave/array/CMatrix.cc
diff --git a/liboctave/CMatrix.h b/liboctave/array/CMatrix.h
rename from liboctave/CMatrix.h
rename to liboctave/array/CMatrix.h
diff --git a/liboctave/CNDArray.cc b/liboctave/array/CNDArray.cc
rename from liboctave/CNDArray.cc
rename to liboctave/array/CNDArray.cc
diff --git a/liboctave/CNDArray.h b/liboctave/array/CNDArray.h
rename from liboctave/CNDArray.h
rename to liboctave/array/CNDArray.h
diff --git a/liboctave/CRowVector.cc b/liboctave/array/CRowVector.cc
rename from liboctave/CRowVector.cc
rename to liboctave/array/CRowVector.cc
diff --git a/liboctave/CRowVector.h b/liboctave/array/CRowVector.h
rename from liboctave/CRowVector.h
rename to liboctave/array/CRowVector.h
diff --git a/liboctave/CSparse.cc b/liboctave/array/CSparse.cc
rename from liboctave/CSparse.cc
rename to liboctave/array/CSparse.cc
diff --git a/liboctave/CSparse.h b/liboctave/array/CSparse.h
rename from liboctave/CSparse.h
rename to liboctave/array/CSparse.h
diff --git a/liboctave/DiagArray2.cc b/liboctave/array/DiagArray2.cc
rename from liboctave/DiagArray2.cc
rename to liboctave/array/DiagArray2.cc
diff --git a/liboctave/DiagArray2.h b/liboctave/array/DiagArray2.h
rename from liboctave/DiagArray2.h
rename to liboctave/array/DiagArray2.h
diff --git a/liboctave/MArray-C.cc b/liboctave/array/MArray-C.cc
rename from liboctave/MArray-C.cc
rename to liboctave/array/MArray-C.cc
diff --git a/liboctave/MArray-d.cc b/liboctave/array/MArray-d.cc
rename from liboctave/MArray-d.cc
rename to liboctave/array/MArray-d.cc
diff --git a/liboctave/MArray-decl.h b/liboctave/array/MArray-decl.h
rename from liboctave/MArray-decl.h
rename to liboctave/array/MArray-decl.h
diff --git a/liboctave/MArray-defs.h b/liboctave/array/MArray-defs.h
rename from liboctave/MArray-defs.h
rename to liboctave/array/MArray-defs.h
diff --git a/liboctave/MArray-f.cc b/liboctave/array/MArray-f.cc
rename from liboctave/MArray-f.cc
rename to liboctave/array/MArray-f.cc
diff --git a/liboctave/MArray-fC.cc b/liboctave/array/MArray-fC.cc
rename from liboctave/MArray-fC.cc
rename to liboctave/array/MArray-fC.cc
diff --git a/liboctave/MArray-i.cc b/liboctave/array/MArray-i.cc
rename from liboctave/MArray-i.cc
rename to liboctave/array/MArray-i.cc
diff --git a/liboctave/MArray-s.cc b/liboctave/array/MArray-s.cc
rename from liboctave/MArray-s.cc
rename to liboctave/array/MArray-s.cc
diff --git a/liboctave/MArray.cc b/liboctave/array/MArray.cc
rename from liboctave/MArray.cc
rename to liboctave/array/MArray.cc
diff --git a/liboctave/MArray.h b/liboctave/array/MArray.h
rename from liboctave/MArray.h
rename to liboctave/array/MArray.h
diff --git a/liboctave/MArray2.h b/liboctave/array/MArray2.h
rename from liboctave/MArray2.h
rename to liboctave/array/MArray2.h
diff --git a/liboctave/MArrayN.h b/liboctave/array/MArrayN.h
rename from liboctave/MArrayN.h
rename to liboctave/array/MArrayN.h
diff --git a/liboctave/MDiagArray2.cc b/liboctave/array/MDiagArray2.cc
rename from liboctave/MDiagArray2.cc
rename to liboctave/array/MDiagArray2.cc
diff --git a/liboctave/MDiagArray2.h b/liboctave/array/MDiagArray2.h
rename from liboctave/MDiagArray2.h
rename to liboctave/array/MDiagArray2.h
diff --git a/liboctave/MSparse-C.cc b/liboctave/array/MSparse-C.cc
rename from liboctave/MSparse-C.cc
rename to liboctave/array/MSparse-C.cc
diff --git a/liboctave/MSparse-d.cc b/liboctave/array/MSparse-d.cc
rename from liboctave/MSparse-d.cc
rename to liboctave/array/MSparse-d.cc
diff --git a/liboctave/MSparse-defs.h b/liboctave/array/MSparse-defs.h
rename from liboctave/MSparse-defs.h
rename to liboctave/array/MSparse-defs.h
diff --git a/liboctave/MSparse.cc b/liboctave/array/MSparse.cc
rename from liboctave/MSparse.cc
rename to liboctave/array/MSparse.cc
diff --git a/liboctave/MSparse.h b/liboctave/array/MSparse.h
rename from liboctave/MSparse.h
rename to liboctave/array/MSparse.h
diff --git a/liboctave/Matrix.h b/liboctave/array/Matrix.h
rename from liboctave/Matrix.h
rename to liboctave/array/Matrix.h
diff --git a/liboctave/MatrixType.cc b/liboctave/array/MatrixType.cc
rename from liboctave/MatrixType.cc
rename to liboctave/array/MatrixType.cc
diff --git a/liboctave/MatrixType.h b/liboctave/array/MatrixType.h
rename from liboctave/MatrixType.h
rename to liboctave/array/MatrixType.h
diff --git a/liboctave/PermMatrix.cc b/liboctave/array/PermMatrix.cc
rename from liboctave/PermMatrix.cc
rename to liboctave/array/PermMatrix.cc
diff --git a/liboctave/PermMatrix.h b/liboctave/array/PermMatrix.h
rename from liboctave/PermMatrix.h
rename to liboctave/array/PermMatrix.h
diff --git a/liboctave/Range.cc b/liboctave/array/Range.cc
rename from liboctave/Range.cc
rename to liboctave/array/Range.cc
diff --git a/liboctave/Range.h b/liboctave/array/Range.h
rename from liboctave/Range.h
rename to liboctave/array/Range.h
diff --git a/liboctave/Sparse-C.cc b/liboctave/array/Sparse-C.cc
rename from liboctave/Sparse-C.cc
rename to liboctave/array/Sparse-C.cc
diff --git a/liboctave/Sparse-b.cc b/liboctave/array/Sparse-b.cc
rename from liboctave/Sparse-b.cc
rename to liboctave/array/Sparse-b.cc
diff --git a/liboctave/Sparse-d.cc b/liboctave/array/Sparse-d.cc
rename from liboctave/Sparse-d.cc
rename to liboctave/array/Sparse-d.cc
diff --git a/liboctave/Sparse.cc b/liboctave/array/Sparse.cc
rename from liboctave/Sparse.cc
rename to liboctave/array/Sparse.cc
diff --git a/liboctave/Sparse.h b/liboctave/array/Sparse.h
rename from liboctave/Sparse.h
rename to liboctave/array/Sparse.h
diff --git a/liboctave/boolMatrix.cc b/liboctave/array/boolMatrix.cc
rename from liboctave/boolMatrix.cc
rename to liboctave/array/boolMatrix.cc
diff --git a/liboctave/boolMatrix.h b/liboctave/array/boolMatrix.h
rename from liboctave/boolMatrix.h
rename to liboctave/array/boolMatrix.h
diff --git a/liboctave/boolNDArray.cc b/liboctave/array/boolNDArray.cc
rename from liboctave/boolNDArray.cc
rename to liboctave/array/boolNDArray.cc
diff --git a/liboctave/boolNDArray.h b/liboctave/array/boolNDArray.h
rename from liboctave/boolNDArray.h
rename to liboctave/array/boolNDArray.h
diff --git a/liboctave/boolSparse.cc b/liboctave/array/boolSparse.cc
rename from liboctave/boolSparse.cc
rename to liboctave/array/boolSparse.cc
diff --git a/liboctave/boolSparse.h b/liboctave/array/boolSparse.h
rename from liboctave/boolSparse.h
rename to liboctave/array/boolSparse.h
diff --git a/liboctave/chMatrix.cc b/liboctave/array/chMatrix.cc
rename from liboctave/chMatrix.cc
rename to liboctave/array/chMatrix.cc
diff --git a/liboctave/chMatrix.h b/liboctave/array/chMatrix.h
rename from liboctave/chMatrix.h
rename to liboctave/array/chMatrix.h
diff --git a/liboctave/chNDArray.cc b/liboctave/array/chNDArray.cc
rename from liboctave/chNDArray.cc
rename to liboctave/array/chNDArray.cc
diff --git a/liboctave/chNDArray.h b/liboctave/array/chNDArray.h
rename from liboctave/chNDArray.h
rename to liboctave/array/chNDArray.h
diff --git a/liboctave/dColVector.cc b/liboctave/array/dColVector.cc
rename from liboctave/dColVector.cc
rename to liboctave/array/dColVector.cc
diff --git a/liboctave/dColVector.h b/liboctave/array/dColVector.h
rename from liboctave/dColVector.h
rename to liboctave/array/dColVector.h
diff --git a/liboctave/dDiagMatrix.cc b/liboctave/array/dDiagMatrix.cc
rename from liboctave/dDiagMatrix.cc
rename to liboctave/array/dDiagMatrix.cc
diff --git a/liboctave/dDiagMatrix.h b/liboctave/array/dDiagMatrix.h
rename from liboctave/dDiagMatrix.h
rename to liboctave/array/dDiagMatrix.h
diff --git a/liboctave/dMatrix.cc b/liboctave/array/dMatrix.cc
rename from liboctave/dMatrix.cc
rename to liboctave/array/dMatrix.cc
diff --git a/liboctave/dMatrix.h b/liboctave/array/dMatrix.h
rename from liboctave/dMatrix.h
rename to liboctave/array/dMatrix.h
diff --git a/liboctave/dNDArray.cc b/liboctave/array/dNDArray.cc
rename from liboctave/dNDArray.cc
rename to liboctave/array/dNDArray.cc
diff --git a/liboctave/dNDArray.h b/liboctave/array/dNDArray.h
rename from liboctave/dNDArray.h
rename to liboctave/array/dNDArray.h
diff --git a/liboctave/dRowVector.cc b/liboctave/array/dRowVector.cc
rename from liboctave/dRowVector.cc
rename to liboctave/array/dRowVector.cc
diff --git a/liboctave/dRowVector.h b/liboctave/array/dRowVector.h
rename from liboctave/dRowVector.h
rename to liboctave/array/dRowVector.h
diff --git a/liboctave/dSparse.cc b/liboctave/array/dSparse.cc
rename from liboctave/dSparse.cc
rename to liboctave/array/dSparse.cc
diff --git a/liboctave/dSparse.h b/liboctave/array/dSparse.h
rename from liboctave/dSparse.h
rename to liboctave/array/dSparse.h
diff --git a/liboctave/dim-vector.cc b/liboctave/array/dim-vector.cc
rename from liboctave/dim-vector.cc
rename to liboctave/array/dim-vector.cc
diff --git a/liboctave/dim-vector.h b/liboctave/array/dim-vector.h
rename from liboctave/dim-vector.h
rename to liboctave/array/dim-vector.h
diff --git a/liboctave/fCColVector.cc b/liboctave/array/fCColVector.cc
rename from liboctave/fCColVector.cc
rename to liboctave/array/fCColVector.cc
diff --git a/liboctave/fCColVector.h b/liboctave/array/fCColVector.h
rename from liboctave/fCColVector.h
rename to liboctave/array/fCColVector.h
diff --git a/liboctave/fCDiagMatrix.cc b/liboctave/array/fCDiagMatrix.cc
rename from liboctave/fCDiagMatrix.cc
rename to liboctave/array/fCDiagMatrix.cc
diff --git a/liboctave/fCDiagMatrix.h b/liboctave/array/fCDiagMatrix.h
rename from liboctave/fCDiagMatrix.h
rename to liboctave/array/fCDiagMatrix.h
diff --git a/liboctave/fCMatrix.cc b/liboctave/array/fCMatrix.cc
rename from liboctave/fCMatrix.cc
rename to liboctave/array/fCMatrix.cc
diff --git a/liboctave/fCMatrix.h b/liboctave/array/fCMatrix.h
rename from liboctave/fCMatrix.h
rename to liboctave/array/fCMatrix.h
diff --git a/liboctave/fCNDArray.cc b/liboctave/array/fCNDArray.cc
rename from liboctave/fCNDArray.cc
rename to liboctave/array/fCNDArray.cc
diff --git a/liboctave/fCNDArray.h b/liboctave/array/fCNDArray.h
rename from liboctave/fCNDArray.h
rename to liboctave/array/fCNDArray.h
diff --git a/liboctave/fCRowVector.cc b/liboctave/array/fCRowVector.cc
rename from liboctave/fCRowVector.cc
rename to liboctave/array/fCRowVector.cc
diff --git a/liboctave/fCRowVector.h b/liboctave/array/fCRowVector.h
rename from liboctave/fCRowVector.h
rename to liboctave/array/fCRowVector.h
diff --git a/liboctave/fColVector.cc b/liboctave/array/fColVector.cc
rename from liboctave/fColVector.cc
rename to liboctave/array/fColVector.cc
diff --git a/liboctave/fColVector.h b/liboctave/array/fColVector.h
rename from liboctave/fColVector.h
rename to liboctave/array/fColVector.h
diff --git a/liboctave/fDiagMatrix.cc b/liboctave/array/fDiagMatrix.cc
rename from liboctave/fDiagMatrix.cc
rename to liboctave/array/fDiagMatrix.cc
diff --git a/liboctave/fDiagMatrix.h b/liboctave/array/fDiagMatrix.h
rename from liboctave/fDiagMatrix.h
rename to liboctave/array/fDiagMatrix.h
diff --git a/liboctave/fMatrix.cc b/liboctave/array/fMatrix.cc
rename from liboctave/fMatrix.cc
rename to liboctave/array/fMatrix.cc
diff --git a/liboctave/fMatrix.h b/liboctave/array/fMatrix.h
rename from liboctave/fMatrix.h
rename to liboctave/array/fMatrix.h
diff --git a/liboctave/fNDArray.cc b/liboctave/array/fNDArray.cc
rename from liboctave/fNDArray.cc
rename to liboctave/array/fNDArray.cc
diff --git a/liboctave/fNDArray.h b/liboctave/array/fNDArray.h
rename from liboctave/fNDArray.h
rename to liboctave/array/fNDArray.h
diff --git a/liboctave/fRowVector.cc b/liboctave/array/fRowVector.cc
rename from liboctave/fRowVector.cc
rename to liboctave/array/fRowVector.cc
diff --git a/liboctave/fRowVector.h b/liboctave/array/fRowVector.h
rename from liboctave/fRowVector.h
rename to liboctave/array/fRowVector.h
diff --git a/liboctave/idx-vector.cc b/liboctave/array/idx-vector.cc
rename from liboctave/idx-vector.cc
rename to liboctave/array/idx-vector.cc
diff --git a/liboctave/idx-vector.h b/liboctave/array/idx-vector.h
rename from liboctave/idx-vector.h
rename to liboctave/array/idx-vector.h
diff --git a/liboctave/int16NDArray.cc b/liboctave/array/int16NDArray.cc
rename from liboctave/int16NDArray.cc
rename to liboctave/array/int16NDArray.cc
diff --git a/liboctave/int16NDArray.h b/liboctave/array/int16NDArray.h
rename from liboctave/int16NDArray.h
rename to liboctave/array/int16NDArray.h
diff --git a/liboctave/int32NDArray.cc b/liboctave/array/int32NDArray.cc
rename from liboctave/int32NDArray.cc
rename to liboctave/array/int32NDArray.cc
diff --git a/liboctave/int32NDArray.h b/liboctave/array/int32NDArray.h
rename from liboctave/int32NDArray.h
rename to liboctave/array/int32NDArray.h
diff --git a/liboctave/int64NDArray.cc b/liboctave/array/int64NDArray.cc
rename from liboctave/int64NDArray.cc
rename to liboctave/array/int64NDArray.cc
diff --git a/liboctave/int64NDArray.h b/liboctave/array/int64NDArray.h
rename from liboctave/int64NDArray.h
rename to liboctave/array/int64NDArray.h
diff --git a/liboctave/int8NDArray.cc b/liboctave/array/int8NDArray.cc
rename from liboctave/int8NDArray.cc
rename to liboctave/array/int8NDArray.cc
diff --git a/liboctave/int8NDArray.h b/liboctave/array/int8NDArray.h
rename from liboctave/int8NDArray.h
rename to liboctave/array/int8NDArray.h
diff --git a/liboctave/intNDArray.cc b/liboctave/array/intNDArray.cc
rename from liboctave/intNDArray.cc
rename to liboctave/array/intNDArray.cc
diff --git a/liboctave/intNDArray.h b/liboctave/array/intNDArray.h
rename from liboctave/intNDArray.h
rename to liboctave/array/intNDArray.h
diff --git a/liboctave/array/module.mk b/liboctave/array/module.mk
new file mode 100644
--- /dev/null
+++ b/liboctave/array/module.mk
@@ -0,0 +1,143 @@
+EXTRA_DIST += \
+  array/module.mk
+
+ARRAY_INC = \
+  array/Array2.h \
+  array/Array3.h \
+  array/Array.h \
+  array/ArrayN.h \
+  array/Array-util.h \
+  array/boolMatrix.h \
+  array/boolNDArray.h \
+  array/boolSparse.h \
+  array/CColVector.h \
+  array/CDiagMatrix.h \
+  array/chMatrix.h \
+  array/chNDArray.h \
+  array/CMatrix.h \
+  array/CNDArray.h \
+  array/CRowVector.h \
+  array/CSparse.h \
+  array/dColVector.h \
+  array/dDiagMatrix.h \
+  array/DiagArray2.h \
+  array/dim-vector.h \
+  array/dMatrix.h \
+  array/dNDArray.h \
+  array/dRowVector.h \
+  array/dSparse.h \
+  array/fCColVector.h \
+  array/fCDiagMatrix.h \
+  array/fCMatrix.h \
+  array/fCNDArray.h \
+  array/fColVector.h \
+  array/fCRowVector.h \
+  array/fDiagMatrix.h \
+  array/fMatrix.h \
+  array/fNDArray.h \
+  array/fRowVector.h \
+  array/idx-vector.h \
+  array/int16NDArray.h \
+  array/int32NDArray.h \
+  array/int64NDArray.h \
+  array/int8NDArray.h \
+  array/intNDArray.h \
+  array/MArray2.h \
+  array/MArray-decl.h \
+  array/MArray-defs.h \
+  array/MArray.h \
+  array/MArrayN.h \
+  array/Matrix.h \
+  array/MatrixType.h \
+  array/MDiagArray2.h \
+  array/MSparse-defs.h \
+  array/MSparse.h \
+  array/PermMatrix.h \
+  array/Range.h \
+  array/Sparse.h \
+  array/uint16NDArray.h \
+  array/uint32NDArray.h \
+  array/uint64NDArray.h \
+  array/uint8NDArray.h
+
+ARRAY_SRC = \
+  array/Array-b.cc \
+  array/Array-C.cc \
+  array/Array-ch.cc \
+  array/Array-d.cc \
+  array/Array-f.cc \
+  array/Array-fC.cc \
+  array/Array-i.cc \
+  array/Array-idx-vec.cc \
+  array/Array-s.cc \
+  array/Array-str.cc \
+  array/Array-util.cc \
+  array/Array-voidp.cc \
+  array/boolMatrix.cc \
+  array/boolNDArray.cc \
+  array/boolSparse.cc \
+  array/CColVector.cc \
+  array/CDiagMatrix.cc \
+  array/chMatrix.cc \
+  array/chNDArray.cc \
+  array/CMatrix.cc \
+  array/CNDArray.cc \
+  array/CRowVector.cc \
+  array/CSparse.cc \
+  array/dColVector.cc \
+  array/dDiagMatrix.cc \
+  array/dim-vector.cc \
+  array/dMatrix.cc \
+  array/dNDArray.cc \
+  array/dRowVector.cc \
+  array/dSparse.cc \
+  array/fCColVector.cc \
+  array/fCDiagMatrix.cc \
+  array/fCMatrix.cc \
+  array/fCNDArray.cc \
+  array/fColVector.cc \
+  array/fCRowVector.cc \
+  array/fDiagMatrix.cc \
+  array/fMatrix.cc \
+  array/fNDArray.cc \
+  array/fRowVector.cc \
+  array/idx-vector.cc \
+  array/int16NDArray.cc \
+  array/int32NDArray.cc \
+  array/int64NDArray.cc \
+  array/int8NDArray.cc \
+  array/MArray-C.cc \
+  array/MArray-d.cc \
+  array/MArray-f.cc \
+  array/MArray-fC.cc \
+  array/MArray-i.cc \
+  array/MArray-s.cc \
+  array/MatrixType.cc \
+  array/MSparse.cc \
+  array/MSparse-C.cc \
+  array/MSparse-d.cc \
+  array/PermMatrix.cc \
+  array/Range.cc \
+  array/Sparse-b.cc \
+  array/Sparse.cc \
+  array/Sparse-C.cc \
+  array/Sparse-d.cc \
+  array/uint16NDArray.cc \
+  array/uint32NDArray.cc \
+  array/uint64NDArray.cc \
+  array/uint8NDArray.cc 
+
+TEMPLATE_SRC += \
+  array/Array.cc \
+  array/DiagArray2.cc \
+  array/MArray.cc \
+  array/MDiagArray2.cc
+
+OTHER_INC += \
+  array/intNDArray.cc
+
+noinst_LTLIBRARIES += array/libarray.la
+
+array_libarray_la_SOURCES = $(ARRAY_SRC)
+array_libarray_la_CPPFLAGS = $(liboctave_la_CPPFLAGS)
+
diff --git a/liboctave/uint16NDArray.cc b/liboctave/array/uint16NDArray.cc
rename from liboctave/uint16NDArray.cc
rename to liboctave/array/uint16NDArray.cc
diff --git a/liboctave/uint16NDArray.h b/liboctave/array/uint16NDArray.h
rename from liboctave/uint16NDArray.h
rename to liboctave/array/uint16NDArray.h
diff --git a/liboctave/uint32NDArray.cc b/liboctave/array/uint32NDArray.cc
rename from liboctave/uint32NDArray.cc
rename to liboctave/array/uint32NDArray.cc
diff --git a/liboctave/uint32NDArray.h b/liboctave/array/uint32NDArray.h
rename from liboctave/uint32NDArray.h
rename to liboctave/array/uint32NDArray.h
diff --git a/liboctave/uint64NDArray.cc b/liboctave/array/uint64NDArray.cc
rename from liboctave/uint64NDArray.cc
rename to liboctave/array/uint64NDArray.cc
diff --git a/liboctave/uint64NDArray.h b/liboctave/array/uint64NDArray.h
rename from liboctave/uint64NDArray.h
rename to liboctave/array/uint64NDArray.h
diff --git a/liboctave/uint8NDArray.cc b/liboctave/array/uint8NDArray.cc
rename from liboctave/uint8NDArray.cc
rename to liboctave/array/uint8NDArray.cc
diff --git a/liboctave/uint8NDArray.h b/liboctave/array/uint8NDArray.h
rename from liboctave/uint8NDArray.h
rename to liboctave/array/uint8NDArray.h
diff --git a/libcruft/Makefile.am b/liboctave/cruft/Makefile.am
rename from libcruft/Makefile.am
rename to liboctave/cruft/Makefile.am
--- a/libcruft/Makefile.am
+++ b/liboctave/cruft/Makefile.am
@@ -1,9 +1,9 @@
-# Makefile for Octave's libcruft directory
+# Makefile for Octave's liboctave/cruft directory
 #
 # Copyright (C) 1993-2012 John W. Eaton
 #
 # This file is part of Octave.
 #
 # Octave is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by the
 # Free Software Foundation; either version 3 of the License, or (at
@@ -40,18 +40,17 @@ libcruft_la_CPPFLAGS = \
 
 include link-deps.mk
 
 libcruft_la_LIBADD = \
   libranlib.la \
   $(top_builddir)/libgnu/libgnu.la \
   $(LIBCRUFT_LINK_DEPS)
 
-# Increment these as needed and according to the rules in the libtool
-# manual:
+# Increment these as needed and according to the rules in the libtool manual:
 libcruft_current = 1
 libcruft_revision = 0
 libcruft_age = 0
 
 libcruft_version_info = $(libcruft_current):$(libcruft_revision):$(libcruft_age)
 
 libcruft_la_LDFLAGS = \
   -version-info $(libcruft_version_info) \
diff --git a/libcruft/amos/README b/liboctave/cruft/amos/README
rename from libcruft/amos/README
rename to liboctave/cruft/amos/README
diff --git a/libcruft/amos/cacai.f b/liboctave/cruft/amos/cacai.f
rename from libcruft/amos/cacai.f
rename to liboctave/cruft/amos/cacai.f
diff --git a/libcruft/amos/cacon.f b/liboctave/cruft/amos/cacon.f
rename from libcruft/amos/cacon.f
rename to liboctave/cruft/amos/cacon.f
diff --git a/libcruft/amos/cairy.f b/liboctave/cruft/amos/cairy.f
rename from libcruft/amos/cairy.f
rename to liboctave/cruft/amos/cairy.f
diff --git a/libcruft/amos/casyi.f b/liboctave/cruft/amos/casyi.f
rename from libcruft/amos/casyi.f
rename to liboctave/cruft/amos/casyi.f
diff --git a/libcruft/amos/cbesh.f b/liboctave/cruft/amos/cbesh.f
rename from libcruft/amos/cbesh.f
rename to liboctave/cruft/amos/cbesh.f
diff --git a/libcruft/amos/cbesi.f b/liboctave/cruft/amos/cbesi.f
rename from libcruft/amos/cbesi.f
rename to liboctave/cruft/amos/cbesi.f
diff --git a/libcruft/amos/cbesj.f b/liboctave/cruft/amos/cbesj.f
rename from libcruft/amos/cbesj.f
rename to liboctave/cruft/amos/cbesj.f
diff --git a/libcruft/amos/cbesk.f b/liboctave/cruft/amos/cbesk.f
rename from libcruft/amos/cbesk.f
rename to liboctave/cruft/amos/cbesk.f
diff --git a/libcruft/amos/cbesy.f b/liboctave/cruft/amos/cbesy.f
rename from libcruft/amos/cbesy.f
rename to liboctave/cruft/amos/cbesy.f
diff --git a/libcruft/amos/cbinu.f b/liboctave/cruft/amos/cbinu.f
rename from libcruft/amos/cbinu.f
rename to liboctave/cruft/amos/cbinu.f
diff --git a/libcruft/amos/cbiry.f b/liboctave/cruft/amos/cbiry.f
rename from libcruft/amos/cbiry.f
rename to liboctave/cruft/amos/cbiry.f
diff --git a/libcruft/amos/cbknu.f b/liboctave/cruft/amos/cbknu.f
rename from libcruft/amos/cbknu.f
rename to liboctave/cruft/amos/cbknu.f
diff --git a/libcruft/amos/cbuni.f b/liboctave/cruft/amos/cbuni.f
rename from libcruft/amos/cbuni.f
rename to liboctave/cruft/amos/cbuni.f
diff --git a/libcruft/amos/cbunk.f b/liboctave/cruft/amos/cbunk.f
rename from libcruft/amos/cbunk.f
rename to liboctave/cruft/amos/cbunk.f
diff --git a/libcruft/amos/ckscl.f b/liboctave/cruft/amos/ckscl.f
rename from libcruft/amos/ckscl.f
rename to liboctave/cruft/amos/ckscl.f
diff --git a/libcruft/amos/cmlri.f b/liboctave/cruft/amos/cmlri.f
rename from libcruft/amos/cmlri.f
rename to liboctave/cruft/amos/cmlri.f
diff --git a/libcruft/amos/crati.f b/liboctave/cruft/amos/crati.f
rename from libcruft/amos/crati.f
rename to liboctave/cruft/amos/crati.f
diff --git a/libcruft/amos/cs1s2.f b/liboctave/cruft/amos/cs1s2.f
rename from libcruft/amos/cs1s2.f
rename to liboctave/cruft/amos/cs1s2.f
diff --git a/libcruft/amos/cseri.f b/liboctave/cruft/amos/cseri.f
rename from libcruft/amos/cseri.f
rename to liboctave/cruft/amos/cseri.f
diff --git a/libcruft/amos/cshch.f b/liboctave/cruft/amos/cshch.f
rename from libcruft/amos/cshch.f
rename to liboctave/cruft/amos/cshch.f
diff --git a/libcruft/amos/cuchk.f b/liboctave/cruft/amos/cuchk.f
rename from libcruft/amos/cuchk.f
rename to liboctave/cruft/amos/cuchk.f
diff --git a/libcruft/amos/cunhj.f b/liboctave/cruft/amos/cunhj.f
rename from libcruft/amos/cunhj.f
rename to liboctave/cruft/amos/cunhj.f
diff --git a/libcruft/amos/cuni1.f b/liboctave/cruft/amos/cuni1.f
rename from libcruft/amos/cuni1.f
rename to liboctave/cruft/amos/cuni1.f
diff --git a/libcruft/amos/cuni2.f b/liboctave/cruft/amos/cuni2.f
rename from libcruft/amos/cuni2.f
rename to liboctave/cruft/amos/cuni2.f
diff --git a/libcruft/amos/cunik.f b/liboctave/cruft/amos/cunik.f
rename from libcruft/amos/cunik.f
rename to liboctave/cruft/amos/cunik.f
diff --git a/libcruft/amos/cunk1.f b/liboctave/cruft/amos/cunk1.f
rename from libcruft/amos/cunk1.f
rename to liboctave/cruft/amos/cunk1.f
diff --git a/libcruft/amos/cunk2.f b/liboctave/cruft/amos/cunk2.f
rename from libcruft/amos/cunk2.f
rename to liboctave/cruft/amos/cunk2.f
diff --git a/libcruft/amos/cuoik.f b/liboctave/cruft/amos/cuoik.f
rename from libcruft/amos/cuoik.f
rename to liboctave/cruft/amos/cuoik.f
diff --git a/libcruft/amos/cwrsk.f b/liboctave/cruft/amos/cwrsk.f
rename from libcruft/amos/cwrsk.f
rename to liboctave/cruft/amos/cwrsk.f
diff --git a/libcruft/amos/dgamln.f b/liboctave/cruft/amos/dgamln.f
rename from libcruft/amos/dgamln.f
rename to liboctave/cruft/amos/dgamln.f
diff --git a/libcruft/amos/gamln.f b/liboctave/cruft/amos/gamln.f
rename from libcruft/amos/gamln.f
rename to liboctave/cruft/amos/gamln.f
diff --git a/libcruft/amos/module.mk b/liboctave/cruft/amos/module.mk
rename from libcruft/amos/module.mk
rename to liboctave/cruft/amos/module.mk
diff --git a/libcruft/amos/xzabs.f b/liboctave/cruft/amos/xzabs.f
rename from libcruft/amos/xzabs.f
rename to liboctave/cruft/amos/xzabs.f
diff --git a/libcruft/amos/xzexp.f b/liboctave/cruft/amos/xzexp.f
rename from libcruft/amos/xzexp.f
rename to liboctave/cruft/amos/xzexp.f
diff --git a/libcruft/amos/xzlog.f b/liboctave/cruft/amos/xzlog.f
rename from libcruft/amos/xzlog.f
rename to liboctave/cruft/amos/xzlog.f
diff --git a/libcruft/amos/xzsqrt.f b/liboctave/cruft/amos/xzsqrt.f
rename from libcruft/amos/xzsqrt.f
rename to liboctave/cruft/amos/xzsqrt.f
diff --git a/libcruft/amos/zacai.f b/liboctave/cruft/amos/zacai.f
rename from libcruft/amos/zacai.f
rename to liboctave/cruft/amos/zacai.f
diff --git a/libcruft/amos/zacon.f b/liboctave/cruft/amos/zacon.f
rename from libcruft/amos/zacon.f
rename to liboctave/cruft/amos/zacon.f
diff --git a/libcruft/amos/zairy.f b/liboctave/cruft/amos/zairy.f
rename from libcruft/amos/zairy.f
rename to liboctave/cruft/amos/zairy.f
diff --git a/libcruft/amos/zasyi.f b/liboctave/cruft/amos/zasyi.f
rename from libcruft/amos/zasyi.f
rename to liboctave/cruft/amos/zasyi.f
diff --git a/libcruft/amos/zbesh.f b/liboctave/cruft/amos/zbesh.f
rename from libcruft/amos/zbesh.f
rename to liboctave/cruft/amos/zbesh.f
diff --git a/libcruft/amos/zbesi.f b/liboctave/cruft/amos/zbesi.f
rename from libcruft/amos/zbesi.f
rename to liboctave/cruft/amos/zbesi.f
diff --git a/libcruft/amos/zbesj.f b/liboctave/cruft/amos/zbesj.f
rename from libcruft/amos/zbesj.f
rename to liboctave/cruft/amos/zbesj.f
diff --git a/libcruft/amos/zbesk.f b/liboctave/cruft/amos/zbesk.f
rename from libcruft/amos/zbesk.f
rename to liboctave/cruft/amos/zbesk.f
diff --git a/libcruft/amos/zbesy.f b/liboctave/cruft/amos/zbesy.f
rename from libcruft/amos/zbesy.f
rename to liboctave/cruft/amos/zbesy.f
diff --git a/libcruft/amos/zbinu.f b/liboctave/cruft/amos/zbinu.f
rename from libcruft/amos/zbinu.f
rename to liboctave/cruft/amos/zbinu.f
diff --git a/libcruft/amos/zbiry.f b/liboctave/cruft/amos/zbiry.f
rename from libcruft/amos/zbiry.f
rename to liboctave/cruft/amos/zbiry.f
diff --git a/libcruft/amos/zbknu.f b/liboctave/cruft/amos/zbknu.f
rename from libcruft/amos/zbknu.f
rename to liboctave/cruft/amos/zbknu.f
diff --git a/libcruft/amos/zbuni.f b/liboctave/cruft/amos/zbuni.f
rename from libcruft/amos/zbuni.f
rename to liboctave/cruft/amos/zbuni.f
diff --git a/libcruft/amos/zbunk.f b/liboctave/cruft/amos/zbunk.f
rename from libcruft/amos/zbunk.f
rename to liboctave/cruft/amos/zbunk.f
diff --git a/libcruft/amos/zdiv.f b/liboctave/cruft/amos/zdiv.f
rename from libcruft/amos/zdiv.f
rename to liboctave/cruft/amos/zdiv.f
diff --git a/libcruft/amos/zkscl.f b/liboctave/cruft/amos/zkscl.f
rename from libcruft/amos/zkscl.f
rename to liboctave/cruft/amos/zkscl.f
diff --git a/libcruft/amos/zmlri.f b/liboctave/cruft/amos/zmlri.f
rename from libcruft/amos/zmlri.f
rename to liboctave/cruft/amos/zmlri.f
diff --git a/libcruft/amos/zmlt.f b/liboctave/cruft/amos/zmlt.f
rename from libcruft/amos/zmlt.f
rename to liboctave/cruft/amos/zmlt.f
diff --git a/libcruft/amos/zrati.f b/liboctave/cruft/amos/zrati.f
rename from libcruft/amos/zrati.f
rename to liboctave/cruft/amos/zrati.f
diff --git a/libcruft/amos/zs1s2.f b/liboctave/cruft/amos/zs1s2.f
rename from libcruft/amos/zs1s2.f
rename to liboctave/cruft/amos/zs1s2.f
diff --git a/libcruft/amos/zseri.f b/liboctave/cruft/amos/zseri.f
rename from libcruft/amos/zseri.f
rename to liboctave/cruft/amos/zseri.f
diff --git a/libcruft/amos/zshch.f b/liboctave/cruft/amos/zshch.f
rename from libcruft/amos/zshch.f
rename to liboctave/cruft/amos/zshch.f
diff --git a/libcruft/amos/zuchk.f b/liboctave/cruft/amos/zuchk.f
rename from libcruft/amos/zuchk.f
rename to liboctave/cruft/amos/zuchk.f
diff --git a/libcruft/amos/zunhj.f b/liboctave/cruft/amos/zunhj.f
rename from libcruft/amos/zunhj.f
rename to liboctave/cruft/amos/zunhj.f
diff --git a/libcruft/amos/zuni1.f b/liboctave/cruft/amos/zuni1.f
rename from libcruft/amos/zuni1.f
rename to liboctave/cruft/amos/zuni1.f
diff --git a/libcruft/amos/zuni2.f b/liboctave/cruft/amos/zuni2.f
rename from libcruft/amos/zuni2.f
rename to liboctave/cruft/amos/zuni2.f
diff --git a/libcruft/amos/zunik.f b/liboctave/cruft/amos/zunik.f
rename from libcruft/amos/zunik.f
rename to liboctave/cruft/amos/zunik.f
diff --git a/libcruft/amos/zunk1.f b/liboctave/cruft/amos/zunk1.f
rename from libcruft/amos/zunk1.f
rename to liboctave/cruft/amos/zunk1.f
diff --git a/libcruft/amos/zunk2.f b/liboctave/cruft/amos/zunk2.f
rename from libcruft/amos/zunk2.f
rename to liboctave/cruft/amos/zunk2.f
diff --git a/libcruft/amos/zuoik.f b/liboctave/cruft/amos/zuoik.f
rename from libcruft/amos/zuoik.f
rename to liboctave/cruft/amos/zuoik.f
diff --git a/libcruft/amos/zwrsk.f b/liboctave/cruft/amos/zwrsk.f
rename from libcruft/amos/zwrsk.f
rename to liboctave/cruft/amos/zwrsk.f
diff --git a/libcruft/blas-xtra/cconv2.f b/liboctave/cruft/blas-xtra/cconv2.f
rename from libcruft/blas-xtra/cconv2.f
rename to liboctave/cruft/blas-xtra/cconv2.f
diff --git a/libcruft/blas-xtra/cdotc3.f b/liboctave/cruft/blas-xtra/cdotc3.f
rename from libcruft/blas-xtra/cdotc3.f
rename to liboctave/cruft/blas-xtra/cdotc3.f
diff --git a/libcruft/blas-xtra/cmatm3.f b/liboctave/cruft/blas-xtra/cmatm3.f
rename from libcruft/blas-xtra/cmatm3.f
rename to liboctave/cruft/blas-xtra/cmatm3.f
diff --git a/libcruft/blas-xtra/csconv2.f b/liboctave/cruft/blas-xtra/csconv2.f
rename from libcruft/blas-xtra/csconv2.f
rename to liboctave/cruft/blas-xtra/csconv2.f
diff --git a/libcruft/blas-xtra/dconv2.f b/liboctave/cruft/blas-xtra/dconv2.f
rename from libcruft/blas-xtra/dconv2.f
rename to liboctave/cruft/blas-xtra/dconv2.f
diff --git a/libcruft/blas-xtra/ddot3.f b/liboctave/cruft/blas-xtra/ddot3.f
rename from libcruft/blas-xtra/ddot3.f
rename to liboctave/cruft/blas-xtra/ddot3.f
diff --git a/libcruft/blas-xtra/dmatm3.f b/liboctave/cruft/blas-xtra/dmatm3.f
rename from libcruft/blas-xtra/dmatm3.f
rename to liboctave/cruft/blas-xtra/dmatm3.f
diff --git a/libcruft/blas-xtra/module.mk b/liboctave/cruft/blas-xtra/module.mk
rename from libcruft/blas-xtra/module.mk
rename to liboctave/cruft/blas-xtra/module.mk
diff --git a/libcruft/blas-xtra/sconv2.f b/liboctave/cruft/blas-xtra/sconv2.f
rename from libcruft/blas-xtra/sconv2.f
rename to liboctave/cruft/blas-xtra/sconv2.f
diff --git a/libcruft/blas-xtra/sdot3.f b/liboctave/cruft/blas-xtra/sdot3.f
rename from libcruft/blas-xtra/sdot3.f
rename to liboctave/cruft/blas-xtra/sdot3.f
diff --git a/libcruft/blas-xtra/smatm3.f b/liboctave/cruft/blas-xtra/smatm3.f
rename from libcruft/blas-xtra/smatm3.f
rename to liboctave/cruft/blas-xtra/smatm3.f
diff --git a/libcruft/blas-xtra/xcdotc.f b/liboctave/cruft/blas-xtra/xcdotc.f
rename from libcruft/blas-xtra/xcdotc.f
rename to liboctave/cruft/blas-xtra/xcdotc.f
diff --git a/libcruft/blas-xtra/xcdotu.f b/liboctave/cruft/blas-xtra/xcdotu.f
rename from libcruft/blas-xtra/xcdotu.f
rename to liboctave/cruft/blas-xtra/xcdotu.f
diff --git a/libcruft/blas-xtra/xddot.f b/liboctave/cruft/blas-xtra/xddot.f
rename from libcruft/blas-xtra/xddot.f
rename to liboctave/cruft/blas-xtra/xddot.f
diff --git a/libcruft/blas-xtra/xdnrm2.f b/liboctave/cruft/blas-xtra/xdnrm2.f
rename from libcruft/blas-xtra/xdnrm2.f
rename to liboctave/cruft/blas-xtra/xdnrm2.f
diff --git a/libcruft/blas-xtra/xdznrm2.f b/liboctave/cruft/blas-xtra/xdznrm2.f
rename from libcruft/blas-xtra/xdznrm2.f
rename to liboctave/cruft/blas-xtra/xdznrm2.f
diff --git a/libcruft/blas-xtra/xerbla.f b/liboctave/cruft/blas-xtra/xerbla.f
rename from libcruft/blas-xtra/xerbla.f
rename to liboctave/cruft/blas-xtra/xerbla.f
diff --git a/libcruft/blas-xtra/xscnrm2.f b/liboctave/cruft/blas-xtra/xscnrm2.f
rename from libcruft/blas-xtra/xscnrm2.f
rename to liboctave/cruft/blas-xtra/xscnrm2.f
diff --git a/libcruft/blas-xtra/xsdot.f b/liboctave/cruft/blas-xtra/xsdot.f
rename from libcruft/blas-xtra/xsdot.f
rename to liboctave/cruft/blas-xtra/xsdot.f
diff --git a/libcruft/blas-xtra/xsnrm2.f b/liboctave/cruft/blas-xtra/xsnrm2.f
rename from libcruft/blas-xtra/xsnrm2.f
rename to liboctave/cruft/blas-xtra/xsnrm2.f
diff --git a/libcruft/blas-xtra/xzdotc.f b/liboctave/cruft/blas-xtra/xzdotc.f
rename from libcruft/blas-xtra/xzdotc.f
rename to liboctave/cruft/blas-xtra/xzdotc.f
diff --git a/libcruft/blas-xtra/xzdotu.f b/liboctave/cruft/blas-xtra/xzdotu.f
rename from libcruft/blas-xtra/xzdotu.f
rename to liboctave/cruft/blas-xtra/xzdotu.f
diff --git a/libcruft/blas-xtra/zconv2.f b/liboctave/cruft/blas-xtra/zconv2.f
rename from libcruft/blas-xtra/zconv2.f
rename to liboctave/cruft/blas-xtra/zconv2.f
diff --git a/libcruft/blas-xtra/zdconv2.f b/liboctave/cruft/blas-xtra/zdconv2.f
rename from libcruft/blas-xtra/zdconv2.f
rename to liboctave/cruft/blas-xtra/zdconv2.f
diff --git a/libcruft/blas-xtra/zdotc3.f b/liboctave/cruft/blas-xtra/zdotc3.f
rename from libcruft/blas-xtra/zdotc3.f
rename to liboctave/cruft/blas-xtra/zdotc3.f
diff --git a/libcruft/blas-xtra/zmatm3.f b/liboctave/cruft/blas-xtra/zmatm3.f
rename from libcruft/blas-xtra/zmatm3.f
rename to liboctave/cruft/blas-xtra/zmatm3.f
diff --git a/libcruft/daspk/datv.f b/liboctave/cruft/daspk/datv.f
rename from libcruft/daspk/datv.f
rename to liboctave/cruft/daspk/datv.f
diff --git a/libcruft/daspk/dcnst0.f b/liboctave/cruft/daspk/dcnst0.f
rename from libcruft/daspk/dcnst0.f
rename to liboctave/cruft/daspk/dcnst0.f
diff --git a/libcruft/daspk/dcnstr.f b/liboctave/cruft/daspk/dcnstr.f
rename from libcruft/daspk/dcnstr.f
rename to liboctave/cruft/daspk/dcnstr.f
diff --git a/libcruft/daspk/ddasic.f b/liboctave/cruft/daspk/ddasic.f
rename from libcruft/daspk/ddasic.f
rename to liboctave/cruft/daspk/ddasic.f
diff --git a/libcruft/daspk/ddasid.f b/liboctave/cruft/daspk/ddasid.f
rename from libcruft/daspk/ddasid.f
rename to liboctave/cruft/daspk/ddasid.f
diff --git a/libcruft/daspk/ddasik.f b/liboctave/cruft/daspk/ddasik.f
rename from libcruft/daspk/ddasik.f
rename to liboctave/cruft/daspk/ddasik.f
diff --git a/libcruft/daspk/ddaspk.f b/liboctave/cruft/daspk/ddaspk.f
rename from libcruft/daspk/ddaspk.f
rename to liboctave/cruft/daspk/ddaspk.f
diff --git a/libcruft/daspk/ddstp.f b/liboctave/cruft/daspk/ddstp.f
rename from libcruft/daspk/ddstp.f
rename to liboctave/cruft/daspk/ddstp.f
diff --git a/libcruft/daspk/ddwnrm.f b/liboctave/cruft/daspk/ddwnrm.f
rename from libcruft/daspk/ddwnrm.f
rename to liboctave/cruft/daspk/ddwnrm.f
diff --git a/libcruft/daspk/dfnrmd.f b/liboctave/cruft/daspk/dfnrmd.f
rename from libcruft/daspk/dfnrmd.f
rename to liboctave/cruft/daspk/dfnrmd.f
diff --git a/libcruft/daspk/dfnrmk.f b/liboctave/cruft/daspk/dfnrmk.f
rename from libcruft/daspk/dfnrmk.f
rename to liboctave/cruft/daspk/dfnrmk.f
diff --git a/libcruft/daspk/dhels.f b/liboctave/cruft/daspk/dhels.f
rename from libcruft/daspk/dhels.f
rename to liboctave/cruft/daspk/dhels.f
diff --git a/libcruft/daspk/dheqr.f b/liboctave/cruft/daspk/dheqr.f
rename from libcruft/daspk/dheqr.f
rename to liboctave/cruft/daspk/dheqr.f
diff --git a/libcruft/daspk/dinvwt.f b/liboctave/cruft/daspk/dinvwt.f
rename from libcruft/daspk/dinvwt.f
rename to liboctave/cruft/daspk/dinvwt.f
diff --git a/libcruft/daspk/dlinsd.f b/liboctave/cruft/daspk/dlinsd.f
rename from libcruft/daspk/dlinsd.f
rename to liboctave/cruft/daspk/dlinsd.f
diff --git a/libcruft/daspk/dlinsk.f b/liboctave/cruft/daspk/dlinsk.f
rename from libcruft/daspk/dlinsk.f
rename to liboctave/cruft/daspk/dlinsk.f
diff --git a/libcruft/daspk/dmatd.f b/liboctave/cruft/daspk/dmatd.f
rename from libcruft/daspk/dmatd.f
rename to liboctave/cruft/daspk/dmatd.f
diff --git a/libcruft/daspk/dnedd.f b/liboctave/cruft/daspk/dnedd.f
rename from libcruft/daspk/dnedd.f
rename to liboctave/cruft/daspk/dnedd.f
diff --git a/libcruft/daspk/dnedk.f b/liboctave/cruft/daspk/dnedk.f
rename from libcruft/daspk/dnedk.f
rename to liboctave/cruft/daspk/dnedk.f
diff --git a/libcruft/daspk/dnsd.f b/liboctave/cruft/daspk/dnsd.f
rename from libcruft/daspk/dnsd.f
rename to liboctave/cruft/daspk/dnsd.f
diff --git a/libcruft/daspk/dnsid.f b/liboctave/cruft/daspk/dnsid.f
rename from libcruft/daspk/dnsid.f
rename to liboctave/cruft/daspk/dnsid.f
diff --git a/libcruft/daspk/dnsik.f b/liboctave/cruft/daspk/dnsik.f
rename from libcruft/daspk/dnsik.f
rename to liboctave/cruft/daspk/dnsik.f
diff --git a/libcruft/daspk/dnsk.f b/liboctave/cruft/daspk/dnsk.f
rename from libcruft/daspk/dnsk.f
rename to liboctave/cruft/daspk/dnsk.f
diff --git a/libcruft/daspk/dorth.f b/liboctave/cruft/daspk/dorth.f
rename from libcruft/daspk/dorth.f
rename to liboctave/cruft/daspk/dorth.f
diff --git a/libcruft/daspk/dslvd.f b/liboctave/cruft/daspk/dslvd.f
rename from libcruft/daspk/dslvd.f
rename to liboctave/cruft/daspk/dslvd.f
diff --git a/libcruft/daspk/dslvk.f b/liboctave/cruft/daspk/dslvk.f
rename from libcruft/daspk/dslvk.f
rename to liboctave/cruft/daspk/dslvk.f
diff --git a/libcruft/daspk/dspigm.f b/liboctave/cruft/daspk/dspigm.f
rename from libcruft/daspk/dspigm.f
rename to liboctave/cruft/daspk/dspigm.f
diff --git a/libcruft/daspk/dyypnw.f b/liboctave/cruft/daspk/dyypnw.f
rename from libcruft/daspk/dyypnw.f
rename to liboctave/cruft/daspk/dyypnw.f
diff --git a/libcruft/daspk/module.mk b/liboctave/cruft/daspk/module.mk
rename from libcruft/daspk/module.mk
rename to liboctave/cruft/daspk/module.mk
diff --git a/libcruft/dasrt/ddasrt.f b/liboctave/cruft/dasrt/ddasrt.f
rename from libcruft/dasrt/ddasrt.f
rename to liboctave/cruft/dasrt/ddasrt.f
diff --git a/libcruft/dasrt/drchek.f b/liboctave/cruft/dasrt/drchek.f
rename from libcruft/dasrt/drchek.f
rename to liboctave/cruft/dasrt/drchek.f
diff --git a/libcruft/dasrt/droots.f b/liboctave/cruft/dasrt/droots.f
rename from libcruft/dasrt/droots.f
rename to liboctave/cruft/dasrt/droots.f
diff --git a/libcruft/dasrt/module.mk b/liboctave/cruft/dasrt/module.mk
rename from libcruft/dasrt/module.mk
rename to liboctave/cruft/dasrt/module.mk
diff --git a/libcruft/dassl/ddaini.f b/liboctave/cruft/dassl/ddaini.f
rename from libcruft/dassl/ddaini.f
rename to liboctave/cruft/dassl/ddaini.f
diff --git a/libcruft/dassl/ddajac.f b/liboctave/cruft/dassl/ddajac.f
rename from libcruft/dassl/ddajac.f
rename to liboctave/cruft/dassl/ddajac.f
diff --git a/libcruft/dassl/ddanrm.f b/liboctave/cruft/dassl/ddanrm.f
rename from libcruft/dassl/ddanrm.f
rename to liboctave/cruft/dassl/ddanrm.f
diff --git a/libcruft/dassl/ddaslv.f b/liboctave/cruft/dassl/ddaslv.f
rename from libcruft/dassl/ddaslv.f
rename to liboctave/cruft/dassl/ddaslv.f
diff --git a/libcruft/dassl/ddassl.f b/liboctave/cruft/dassl/ddassl.f
rename from libcruft/dassl/ddassl.f
rename to liboctave/cruft/dassl/ddassl.f
diff --git a/libcruft/dassl/ddastp.f b/liboctave/cruft/dassl/ddastp.f
rename from libcruft/dassl/ddastp.f
rename to liboctave/cruft/dassl/ddastp.f
diff --git a/libcruft/dassl/ddatrp.f b/liboctave/cruft/dassl/ddatrp.f
rename from libcruft/dassl/ddatrp.f
rename to liboctave/cruft/dassl/ddatrp.f
diff --git a/libcruft/dassl/ddawts.f b/liboctave/cruft/dassl/ddawts.f
rename from libcruft/dassl/ddawts.f
rename to liboctave/cruft/dassl/ddawts.f
diff --git a/libcruft/dassl/module.mk b/liboctave/cruft/dassl/module.mk
rename from libcruft/dassl/module.mk
rename to liboctave/cruft/dassl/module.mk
diff --git a/libcruft/fftpack/cfftb.f b/liboctave/cruft/fftpack/cfftb.f
rename from libcruft/fftpack/cfftb.f
rename to liboctave/cruft/fftpack/cfftb.f
diff --git a/libcruft/fftpack/cfftb1.f b/liboctave/cruft/fftpack/cfftb1.f
rename from libcruft/fftpack/cfftb1.f
rename to liboctave/cruft/fftpack/cfftb1.f
diff --git a/libcruft/fftpack/cfftf.f b/liboctave/cruft/fftpack/cfftf.f
rename from libcruft/fftpack/cfftf.f
rename to liboctave/cruft/fftpack/cfftf.f
diff --git a/libcruft/fftpack/cfftf1.f b/liboctave/cruft/fftpack/cfftf1.f
rename from libcruft/fftpack/cfftf1.f
rename to liboctave/cruft/fftpack/cfftf1.f
diff --git a/libcruft/fftpack/cffti.f b/liboctave/cruft/fftpack/cffti.f
rename from libcruft/fftpack/cffti.f
rename to liboctave/cruft/fftpack/cffti.f
diff --git a/libcruft/fftpack/cffti1.f b/liboctave/cruft/fftpack/cffti1.f
rename from libcruft/fftpack/cffti1.f
rename to liboctave/cruft/fftpack/cffti1.f
diff --git a/libcruft/fftpack/fftpack.doc b/liboctave/cruft/fftpack/fftpack.doc
rename from libcruft/fftpack/fftpack.doc
rename to liboctave/cruft/fftpack/fftpack.doc
diff --git a/libcruft/fftpack/module.mk b/liboctave/cruft/fftpack/module.mk
rename from libcruft/fftpack/module.mk
rename to liboctave/cruft/fftpack/module.mk
diff --git a/libcruft/fftpack/passb.f b/liboctave/cruft/fftpack/passb.f
rename from libcruft/fftpack/passb.f
rename to liboctave/cruft/fftpack/passb.f
diff --git a/libcruft/fftpack/passb2.f b/liboctave/cruft/fftpack/passb2.f
rename from libcruft/fftpack/passb2.f
rename to liboctave/cruft/fftpack/passb2.f
diff --git a/libcruft/fftpack/passb3.f b/liboctave/cruft/fftpack/passb3.f
rename from libcruft/fftpack/passb3.f
rename to liboctave/cruft/fftpack/passb3.f
diff --git a/libcruft/fftpack/passb4.f b/liboctave/cruft/fftpack/passb4.f
rename from libcruft/fftpack/passb4.f
rename to liboctave/cruft/fftpack/passb4.f
diff --git a/libcruft/fftpack/passb5.f b/liboctave/cruft/fftpack/passb5.f
rename from libcruft/fftpack/passb5.f
rename to liboctave/cruft/fftpack/passb5.f
diff --git a/libcruft/fftpack/passf.f b/liboctave/cruft/fftpack/passf.f
rename from libcruft/fftpack/passf.f
rename to liboctave/cruft/fftpack/passf.f
diff --git a/libcruft/fftpack/passf2.f b/liboctave/cruft/fftpack/passf2.f
rename from libcruft/fftpack/passf2.f
rename to liboctave/cruft/fftpack/passf2.f
diff --git a/libcruft/fftpack/passf3.f b/liboctave/cruft/fftpack/passf3.f
rename from libcruft/fftpack/passf3.f
rename to liboctave/cruft/fftpack/passf3.f
diff --git a/libcruft/fftpack/passf4.f b/liboctave/cruft/fftpack/passf4.f
rename from libcruft/fftpack/passf4.f
rename to liboctave/cruft/fftpack/passf4.f
diff --git a/libcruft/fftpack/passf5.f b/liboctave/cruft/fftpack/passf5.f
rename from libcruft/fftpack/passf5.f
rename to liboctave/cruft/fftpack/passf5.f
diff --git a/libcruft/fftpack/zfftb.f b/liboctave/cruft/fftpack/zfftb.f
rename from libcruft/fftpack/zfftb.f
rename to liboctave/cruft/fftpack/zfftb.f
diff --git a/libcruft/fftpack/zfftb1.f b/liboctave/cruft/fftpack/zfftb1.f
rename from libcruft/fftpack/zfftb1.f
rename to liboctave/cruft/fftpack/zfftb1.f
diff --git a/libcruft/fftpack/zfftf.f b/liboctave/cruft/fftpack/zfftf.f
rename from libcruft/fftpack/zfftf.f
rename to liboctave/cruft/fftpack/zfftf.f
diff --git a/libcruft/fftpack/zfftf1.f b/liboctave/cruft/fftpack/zfftf1.f
rename from libcruft/fftpack/zfftf1.f
rename to liboctave/cruft/fftpack/zfftf1.f
diff --git a/libcruft/fftpack/zffti.f b/liboctave/cruft/fftpack/zffti.f
rename from libcruft/fftpack/zffti.f
rename to liboctave/cruft/fftpack/zffti.f
diff --git a/libcruft/fftpack/zffti1.f b/liboctave/cruft/fftpack/zffti1.f
rename from libcruft/fftpack/zffti1.f
rename to liboctave/cruft/fftpack/zffti1.f
diff --git a/libcruft/fftpack/zpassb.f b/liboctave/cruft/fftpack/zpassb.f
rename from libcruft/fftpack/zpassb.f
rename to liboctave/cruft/fftpack/zpassb.f
diff --git a/libcruft/fftpack/zpassb2.f b/liboctave/cruft/fftpack/zpassb2.f
rename from libcruft/fftpack/zpassb2.f
rename to liboctave/cruft/fftpack/zpassb2.f
diff --git a/libcruft/fftpack/zpassb3.f b/liboctave/cruft/fftpack/zpassb3.f
rename from libcruft/fftpack/zpassb3.f
rename to liboctave/cruft/fftpack/zpassb3.f
diff --git a/libcruft/fftpack/zpassb4.f b/liboctave/cruft/fftpack/zpassb4.f
rename from libcruft/fftpack/zpassb4.f
rename to liboctave/cruft/fftpack/zpassb4.f
diff --git a/libcruft/fftpack/zpassb5.f b/liboctave/cruft/fftpack/zpassb5.f
rename from libcruft/fftpack/zpassb5.f
rename to liboctave/cruft/fftpack/zpassb5.f
diff --git a/libcruft/fftpack/zpassf.f b/liboctave/cruft/fftpack/zpassf.f
rename from libcruft/fftpack/zpassf.f
rename to liboctave/cruft/fftpack/zpassf.f
diff --git a/libcruft/fftpack/zpassf2.f b/liboctave/cruft/fftpack/zpassf2.f
rename from libcruft/fftpack/zpassf2.f
rename to liboctave/cruft/fftpack/zpassf2.f
diff --git a/libcruft/fftpack/zpassf3.f b/liboctave/cruft/fftpack/zpassf3.f
rename from libcruft/fftpack/zpassf3.f
rename to liboctave/cruft/fftpack/zpassf3.f
diff --git a/libcruft/fftpack/zpassf4.f b/liboctave/cruft/fftpack/zpassf4.f
rename from libcruft/fftpack/zpassf4.f
rename to liboctave/cruft/fftpack/zpassf4.f
diff --git a/libcruft/fftpack/zpassf5.f b/liboctave/cruft/fftpack/zpassf5.f
rename from libcruft/fftpack/zpassf5.f
rename to liboctave/cruft/fftpack/zpassf5.f
diff --git a/libcruft/lapack-xtra/crsf2csf.f b/liboctave/cruft/lapack-xtra/crsf2csf.f
rename from libcruft/lapack-xtra/crsf2csf.f
rename to liboctave/cruft/lapack-xtra/crsf2csf.f
diff --git a/libcruft/lapack-xtra/module.mk b/liboctave/cruft/lapack-xtra/module.mk
rename from libcruft/lapack-xtra/module.mk
rename to liboctave/cruft/lapack-xtra/module.mk
diff --git a/libcruft/lapack-xtra/xclange.f b/liboctave/cruft/lapack-xtra/xclange.f
rename from libcruft/lapack-xtra/xclange.f
rename to liboctave/cruft/lapack-xtra/xclange.f
diff --git a/libcruft/lapack-xtra/xdlamch.f b/liboctave/cruft/lapack-xtra/xdlamch.f
rename from libcruft/lapack-xtra/xdlamch.f
rename to liboctave/cruft/lapack-xtra/xdlamch.f
diff --git a/libcruft/lapack-xtra/xdlange.f b/liboctave/cruft/lapack-xtra/xdlange.f
rename from libcruft/lapack-xtra/xdlange.f
rename to liboctave/cruft/lapack-xtra/xdlange.f
diff --git a/libcruft/lapack-xtra/xilaenv.f b/liboctave/cruft/lapack-xtra/xilaenv.f
rename from libcruft/lapack-xtra/xilaenv.f
rename to liboctave/cruft/lapack-xtra/xilaenv.f
diff --git a/libcruft/lapack-xtra/xslamch.f b/liboctave/cruft/lapack-xtra/xslamch.f
rename from libcruft/lapack-xtra/xslamch.f
rename to liboctave/cruft/lapack-xtra/xslamch.f
diff --git a/libcruft/lapack-xtra/xslange.f b/liboctave/cruft/lapack-xtra/xslange.f
rename from libcruft/lapack-xtra/xslange.f
rename to liboctave/cruft/lapack-xtra/xslange.f
diff --git a/libcruft/lapack-xtra/xzlange.f b/liboctave/cruft/lapack-xtra/xzlange.f
rename from libcruft/lapack-xtra/xzlange.f
rename to liboctave/cruft/lapack-xtra/xzlange.f
diff --git a/libcruft/lapack-xtra/zrsf2csf.f b/liboctave/cruft/lapack-xtra/zrsf2csf.f
rename from libcruft/lapack-xtra/zrsf2csf.f
rename to liboctave/cruft/lapack-xtra/zrsf2csf.f
diff --git a/libcruft/link-deps.mk b/liboctave/cruft/link-deps.mk
rename from libcruft/link-deps.mk
rename to liboctave/cruft/link-deps.mk
--- a/libcruft/link-deps.mk
+++ b/liboctave/cruft/link-deps.mk
@@ -1,30 +1,23 @@
-## The following libraries may be needed to satisfy gnulib dependencies:
-##
-##   $(COPYSIGN_LIBM)
-##   $(FLOOR_LIBM)
-##   $(GETHOSTNAME_LIB)
-##   $(LIBSOCKET)
-##   $(LIB_NANOSLEEP)
-##   $(LTLIBINTL)
-##   $(ROUNDF_LIBM)
-##   $(ROUND_LIBM)
-##   $(TRUNCF_LIBM)
-##   $(TRUNC_LIBM)
+GNULIB_LINK_DEPS = \
+  $(COPYSIGNF_LIBM)\
+  $(COPYSIGN_LIBM)\
+  $(FLOOR_LIBM)\
+  $(GETHOSTNAME_LIB)\
+  $(LIBSOCKET)\
+  $(LIB_NANOSLEEP)\
+  $(LIB_SELECT)\
+  $(LTLIBINTL)\
+  $(ROUNDF_LIBM)\
+  $(ROUND_LIBM)\
+  $(TRUNCF_LIBM)\
+  $(TRUNC_LIBM)
 
 LIBCRUFT_LINK_DEPS = \
-  $(COPYSIGN_LIBM) \
-  $(FLOOR_LIBM) \
-  $(GETHOSTNAME_LIB) \
-  $(LIBSOCKET) \
-  $(LIB_NANOSLEEP) \
-  $(LTLIBINTL) \
-  $(ROUNDF_LIBM) \
-  $(ROUND_LIBM) \
-  $(TRUNCF_LIBM) \
-  $(TRUNC_LIBM) \
+	$(GNULIB_LINK_DEPS) \
   $(LAPACK_LIBS) \
   $(BLAS_LIBS) \
   $(FLIBS) \
   $(LIBS)
 
 LIBCRUFT_LINK_OPTS =
+
diff --git a/libcruft/misc/blaswrap.c b/liboctave/cruft/misc/blaswrap.c
rename from libcruft/misc/blaswrap.c
rename to liboctave/cruft/misc/blaswrap.c
diff --git a/libcruft/misc/cquit.c b/liboctave/cruft/misc/cquit.c
rename from libcruft/misc/cquit.c
rename to liboctave/cruft/misc/cquit.c
diff --git a/libcruft/misc/d1mach-tst.for b/liboctave/cruft/misc/d1mach-tst.for
rename from libcruft/misc/d1mach-tst.for
rename to liboctave/cruft/misc/d1mach-tst.for
diff --git a/libcruft/misc/d1mach.f b/liboctave/cruft/misc/d1mach.f
rename from libcruft/misc/d1mach.f
rename to liboctave/cruft/misc/d1mach.f
diff --git a/libcruft/misc/f77-extern.cc b/liboctave/cruft/misc/f77-extern.cc
rename from libcruft/misc/f77-extern.cc
rename to liboctave/cruft/misc/f77-extern.cc
diff --git a/libcruft/misc/f77-fcn.c b/liboctave/cruft/misc/f77-fcn.c
rename from libcruft/misc/f77-fcn.c
rename to liboctave/cruft/misc/f77-fcn.c
diff --git a/libcruft/misc/f77-fcn.h b/liboctave/cruft/misc/f77-fcn.h
rename from libcruft/misc/f77-fcn.h
rename to liboctave/cruft/misc/f77-fcn.h
diff --git a/libcruft/misc/i1mach.f b/liboctave/cruft/misc/i1mach.f
rename from libcruft/misc/i1mach.f
rename to liboctave/cruft/misc/i1mach.f
diff --git a/libcruft/misc/lo-error.c b/liboctave/cruft/misc/lo-error.c
rename from libcruft/misc/lo-error.c
rename to liboctave/cruft/misc/lo-error.c
diff --git a/libcruft/misc/lo-error.h b/liboctave/cruft/misc/lo-error.h
rename from libcruft/misc/lo-error.h
rename to liboctave/cruft/misc/lo-error.h
diff --git a/libcruft/misc/module.mk b/liboctave/cruft/misc/module.mk
rename from libcruft/misc/module.mk
rename to liboctave/cruft/misc/module.mk
diff --git a/libcruft/misc/quit.cc b/liboctave/cruft/misc/quit.cc
rename from libcruft/misc/quit.cc
rename to liboctave/cruft/misc/quit.cc
diff --git a/libcruft/misc/quit.h b/liboctave/cruft/misc/quit.h
rename from libcruft/misc/quit.h
rename to liboctave/cruft/misc/quit.h
diff --git a/libcruft/misc/r1mach.f b/liboctave/cruft/misc/r1mach.f
rename from libcruft/misc/r1mach.f
rename to liboctave/cruft/misc/r1mach.f
diff --git a/libcruft/mkf77def.in b/liboctave/cruft/mkf77def.in
rename from libcruft/mkf77def.in
rename to liboctave/cruft/mkf77def.in
diff --git a/libcruft/odepack/cfode.f b/liboctave/cruft/odepack/cfode.f
rename from libcruft/odepack/cfode.f
rename to liboctave/cruft/odepack/cfode.f
diff --git a/libcruft/odepack/dlsode.f b/liboctave/cruft/odepack/dlsode.f
rename from libcruft/odepack/dlsode.f
rename to liboctave/cruft/odepack/dlsode.f
diff --git a/libcruft/odepack/ewset.f b/liboctave/cruft/odepack/ewset.f
rename from libcruft/odepack/ewset.f
rename to liboctave/cruft/odepack/ewset.f
diff --git a/libcruft/odepack/intdy.f b/liboctave/cruft/odepack/intdy.f
rename from libcruft/odepack/intdy.f
rename to liboctave/cruft/odepack/intdy.f
diff --git a/libcruft/odepack/module.mk b/liboctave/cruft/odepack/module.mk
rename from libcruft/odepack/module.mk
rename to liboctave/cruft/odepack/module.mk
diff --git a/libcruft/odepack/prepj.f b/liboctave/cruft/odepack/prepj.f
rename from libcruft/odepack/prepj.f
rename to liboctave/cruft/odepack/prepj.f
diff --git a/libcruft/odepack/scfode.f b/liboctave/cruft/odepack/scfode.f
rename from libcruft/odepack/scfode.f
rename to liboctave/cruft/odepack/scfode.f
diff --git a/libcruft/odepack/sewset.f b/liboctave/cruft/odepack/sewset.f
rename from libcruft/odepack/sewset.f
rename to liboctave/cruft/odepack/sewset.f
diff --git a/libcruft/odepack/sintdy.f b/liboctave/cruft/odepack/sintdy.f
rename from libcruft/odepack/sintdy.f
rename to liboctave/cruft/odepack/sintdy.f
diff --git a/libcruft/odepack/slsode.f b/liboctave/cruft/odepack/slsode.f
rename from libcruft/odepack/slsode.f
rename to liboctave/cruft/odepack/slsode.f
diff --git a/libcruft/odepack/solsy.f b/liboctave/cruft/odepack/solsy.f
rename from libcruft/odepack/solsy.f
rename to liboctave/cruft/odepack/solsy.f
diff --git a/libcruft/odepack/sprepj.f b/liboctave/cruft/odepack/sprepj.f
rename from libcruft/odepack/sprepj.f
rename to liboctave/cruft/odepack/sprepj.f
diff --git a/libcruft/odepack/ssolsy.f b/liboctave/cruft/odepack/ssolsy.f
rename from libcruft/odepack/ssolsy.f
rename to liboctave/cruft/odepack/ssolsy.f
diff --git a/libcruft/odepack/sstode.f b/liboctave/cruft/odepack/sstode.f
rename from libcruft/odepack/sstode.f
rename to liboctave/cruft/odepack/sstode.f
diff --git a/libcruft/odepack/stode.f b/liboctave/cruft/odepack/stode.f
rename from libcruft/odepack/stode.f
rename to liboctave/cruft/odepack/stode.f
diff --git a/libcruft/odepack/svnorm.f b/liboctave/cruft/odepack/svnorm.f
rename from libcruft/odepack/svnorm.f
rename to liboctave/cruft/odepack/svnorm.f
diff --git a/libcruft/odepack/vnorm.f b/liboctave/cruft/odepack/vnorm.f
rename from libcruft/odepack/vnorm.f
rename to liboctave/cruft/odepack/vnorm.f
diff --git a/libcruft/ordered-qz/README b/liboctave/cruft/ordered-qz/README
rename from libcruft/ordered-qz/README
rename to liboctave/cruft/ordered-qz/README
diff --git a/libcruft/ordered-qz/dsubsp.f b/liboctave/cruft/ordered-qz/dsubsp.f
rename from libcruft/ordered-qz/dsubsp.f
rename to liboctave/cruft/ordered-qz/dsubsp.f
diff --git a/libcruft/ordered-qz/exchqz.f b/liboctave/cruft/ordered-qz/exchqz.f
rename from libcruft/ordered-qz/exchqz.f
rename to liboctave/cruft/ordered-qz/exchqz.f
diff --git a/libcruft/ordered-qz/module.mk b/liboctave/cruft/ordered-qz/module.mk
rename from libcruft/ordered-qz/module.mk
rename to liboctave/cruft/ordered-qz/module.mk
diff --git a/libcruft/ordered-qz/sexchqz.f b/liboctave/cruft/ordered-qz/sexchqz.f
rename from libcruft/ordered-qz/sexchqz.f
rename to liboctave/cruft/ordered-qz/sexchqz.f
diff --git a/libcruft/ordered-qz/ssubsp.f b/liboctave/cruft/ordered-qz/ssubsp.f
rename from libcruft/ordered-qz/ssubsp.f
rename to liboctave/cruft/ordered-qz/ssubsp.f
diff --git a/libcruft/quadpack/dqagi.f b/liboctave/cruft/quadpack/dqagi.f
rename from libcruft/quadpack/dqagi.f
rename to liboctave/cruft/quadpack/dqagi.f
diff --git a/libcruft/quadpack/dqagie.f b/liboctave/cruft/quadpack/dqagie.f
rename from libcruft/quadpack/dqagie.f
rename to liboctave/cruft/quadpack/dqagie.f
diff --git a/libcruft/quadpack/dqagp.f b/liboctave/cruft/quadpack/dqagp.f
rename from libcruft/quadpack/dqagp.f
rename to liboctave/cruft/quadpack/dqagp.f
diff --git a/libcruft/quadpack/dqagpe.f b/liboctave/cruft/quadpack/dqagpe.f
rename from libcruft/quadpack/dqagpe.f
rename to liboctave/cruft/quadpack/dqagpe.f
diff --git a/libcruft/quadpack/dqelg.f b/liboctave/cruft/quadpack/dqelg.f
rename from libcruft/quadpack/dqelg.f
rename to liboctave/cruft/quadpack/dqelg.f
diff --git a/libcruft/quadpack/dqk15i.f b/liboctave/cruft/quadpack/dqk15i.f
rename from libcruft/quadpack/dqk15i.f
rename to liboctave/cruft/quadpack/dqk15i.f
diff --git a/libcruft/quadpack/dqk21.f b/liboctave/cruft/quadpack/dqk21.f
rename from libcruft/quadpack/dqk21.f
rename to liboctave/cruft/quadpack/dqk21.f
diff --git a/libcruft/quadpack/dqpsrt.f b/liboctave/cruft/quadpack/dqpsrt.f
rename from libcruft/quadpack/dqpsrt.f
rename to liboctave/cruft/quadpack/dqpsrt.f
diff --git a/libcruft/quadpack/module.mk b/liboctave/cruft/quadpack/module.mk
rename from libcruft/quadpack/module.mk
rename to liboctave/cruft/quadpack/module.mk
diff --git a/libcruft/quadpack/qagi.f b/liboctave/cruft/quadpack/qagi.f
rename from libcruft/quadpack/qagi.f
rename to liboctave/cruft/quadpack/qagi.f
diff --git a/libcruft/quadpack/qagie.f b/liboctave/cruft/quadpack/qagie.f
rename from libcruft/quadpack/qagie.f
rename to liboctave/cruft/quadpack/qagie.f
diff --git a/libcruft/quadpack/qagp.f b/liboctave/cruft/quadpack/qagp.f
rename from libcruft/quadpack/qagp.f
rename to liboctave/cruft/quadpack/qagp.f
diff --git a/libcruft/quadpack/qagpe.f b/liboctave/cruft/quadpack/qagpe.f
rename from libcruft/quadpack/qagpe.f
rename to liboctave/cruft/quadpack/qagpe.f
diff --git a/libcruft/quadpack/qelg.f b/liboctave/cruft/quadpack/qelg.f
rename from libcruft/quadpack/qelg.f
rename to liboctave/cruft/quadpack/qelg.f
diff --git a/libcruft/quadpack/qk15i.f b/liboctave/cruft/quadpack/qk15i.f
rename from libcruft/quadpack/qk15i.f
rename to liboctave/cruft/quadpack/qk15i.f
diff --git a/libcruft/quadpack/qk21.f b/liboctave/cruft/quadpack/qk21.f
rename from libcruft/quadpack/qk21.f
rename to liboctave/cruft/quadpack/qk21.f
diff --git a/libcruft/quadpack/qpsrt.f b/liboctave/cruft/quadpack/qpsrt.f
rename from libcruft/quadpack/qpsrt.f
rename to liboctave/cruft/quadpack/qpsrt.f
diff --git a/libcruft/quadpack/xerror.f b/liboctave/cruft/quadpack/xerror.f
rename from libcruft/quadpack/xerror.f
rename to liboctave/cruft/quadpack/xerror.f
diff --git a/libcruft/ranlib/Basegen.doc b/liboctave/cruft/ranlib/Basegen.doc
rename from libcruft/ranlib/Basegen.doc
rename to liboctave/cruft/ranlib/Basegen.doc
diff --git a/libcruft/ranlib/HOWTOGET b/liboctave/cruft/ranlib/HOWTOGET
rename from libcruft/ranlib/HOWTOGET
rename to liboctave/cruft/ranlib/HOWTOGET
diff --git a/libcruft/ranlib/README b/liboctave/cruft/ranlib/README
rename from libcruft/ranlib/README
rename to liboctave/cruft/ranlib/README
diff --git a/libcruft/ranlib/advnst.f b/liboctave/cruft/ranlib/advnst.f
rename from libcruft/ranlib/advnst.f
rename to liboctave/cruft/ranlib/advnst.f
diff --git a/libcruft/ranlib/genbet.f b/liboctave/cruft/ranlib/genbet.f
rename from libcruft/ranlib/genbet.f
rename to liboctave/cruft/ranlib/genbet.f
diff --git a/libcruft/ranlib/genchi.f b/liboctave/cruft/ranlib/genchi.f
rename from libcruft/ranlib/genchi.f
rename to liboctave/cruft/ranlib/genchi.f
diff --git a/libcruft/ranlib/genexp.f b/liboctave/cruft/ranlib/genexp.f
rename from libcruft/ranlib/genexp.f
rename to liboctave/cruft/ranlib/genexp.f
diff --git a/libcruft/ranlib/genf.f b/liboctave/cruft/ranlib/genf.f
rename from libcruft/ranlib/genf.f
rename to liboctave/cruft/ranlib/genf.f
diff --git a/libcruft/ranlib/gengam.f b/liboctave/cruft/ranlib/gengam.f
rename from libcruft/ranlib/gengam.f
rename to liboctave/cruft/ranlib/gengam.f
diff --git a/libcruft/ranlib/genmn.f b/liboctave/cruft/ranlib/genmn.f
rename from libcruft/ranlib/genmn.f
rename to liboctave/cruft/ranlib/genmn.f
diff --git a/libcruft/ranlib/genmul.f b/liboctave/cruft/ranlib/genmul.f
rename from libcruft/ranlib/genmul.f
rename to liboctave/cruft/ranlib/genmul.f
diff --git a/libcruft/ranlib/gennch.f b/liboctave/cruft/ranlib/gennch.f
rename from libcruft/ranlib/gennch.f
rename to liboctave/cruft/ranlib/gennch.f
diff --git a/libcruft/ranlib/gennf.f b/liboctave/cruft/ranlib/gennf.f
rename from libcruft/ranlib/gennf.f
rename to liboctave/cruft/ranlib/gennf.f
diff --git a/libcruft/ranlib/gennor.f b/liboctave/cruft/ranlib/gennor.f
rename from libcruft/ranlib/gennor.f
rename to liboctave/cruft/ranlib/gennor.f
diff --git a/libcruft/ranlib/genprm.f b/liboctave/cruft/ranlib/genprm.f
rename from libcruft/ranlib/genprm.f
rename to liboctave/cruft/ranlib/genprm.f
diff --git a/libcruft/ranlib/genunf.f b/liboctave/cruft/ranlib/genunf.f
rename from libcruft/ranlib/genunf.f
rename to liboctave/cruft/ranlib/genunf.f
diff --git a/libcruft/ranlib/getcgn.f b/liboctave/cruft/ranlib/getcgn.f
rename from libcruft/ranlib/getcgn.f
rename to liboctave/cruft/ranlib/getcgn.f
diff --git a/libcruft/ranlib/getsd.f b/liboctave/cruft/ranlib/getsd.f
rename from libcruft/ranlib/getsd.f
rename to liboctave/cruft/ranlib/getsd.f
diff --git a/libcruft/ranlib/ignbin.f b/liboctave/cruft/ranlib/ignbin.f
rename from libcruft/ranlib/ignbin.f
rename to liboctave/cruft/ranlib/ignbin.f
diff --git a/libcruft/ranlib/ignlgi.f b/liboctave/cruft/ranlib/ignlgi.f
rename from libcruft/ranlib/ignlgi.f
rename to liboctave/cruft/ranlib/ignlgi.f
diff --git a/libcruft/ranlib/ignnbn.f b/liboctave/cruft/ranlib/ignnbn.f
rename from libcruft/ranlib/ignnbn.f
rename to liboctave/cruft/ranlib/ignnbn.f
diff --git a/libcruft/ranlib/ignpoi.f b/liboctave/cruft/ranlib/ignpoi.f
rename from libcruft/ranlib/ignpoi.f
rename to liboctave/cruft/ranlib/ignpoi.f
diff --git a/libcruft/ranlib/ignuin.f b/liboctave/cruft/ranlib/ignuin.f
rename from libcruft/ranlib/ignuin.f
rename to liboctave/cruft/ranlib/ignuin.f
diff --git a/libcruft/ranlib/initgn.f b/liboctave/cruft/ranlib/initgn.f
rename from libcruft/ranlib/initgn.f
rename to liboctave/cruft/ranlib/initgn.f
diff --git a/libcruft/ranlib/inrgcm.f b/liboctave/cruft/ranlib/inrgcm.f
rename from libcruft/ranlib/inrgcm.f
rename to liboctave/cruft/ranlib/inrgcm.f
diff --git a/libcruft/ranlib/lennob.f b/liboctave/cruft/ranlib/lennob.f
rename from libcruft/ranlib/lennob.f
rename to liboctave/cruft/ranlib/lennob.f
diff --git a/libcruft/ranlib/mltmod.f b/liboctave/cruft/ranlib/mltmod.f
rename from libcruft/ranlib/mltmod.f
rename to liboctave/cruft/ranlib/mltmod.f
diff --git a/libcruft/ranlib/module.mk b/liboctave/cruft/ranlib/module.mk
rename from libcruft/ranlib/module.mk
rename to liboctave/cruft/ranlib/module.mk
diff --git a/libcruft/ranlib/phrtsd.f b/liboctave/cruft/ranlib/phrtsd.f
rename from libcruft/ranlib/phrtsd.f
rename to liboctave/cruft/ranlib/phrtsd.f
diff --git a/libcruft/ranlib/qrgnin.f b/liboctave/cruft/ranlib/qrgnin.f
rename from libcruft/ranlib/qrgnin.f
rename to liboctave/cruft/ranlib/qrgnin.f
diff --git a/libcruft/ranlib/randlib.chs b/liboctave/cruft/ranlib/randlib.chs
rename from libcruft/ranlib/randlib.chs
rename to liboctave/cruft/ranlib/randlib.chs
diff --git a/libcruft/ranlib/randlib.fdoc b/liboctave/cruft/ranlib/randlib.fdoc
rename from libcruft/ranlib/randlib.fdoc
rename to liboctave/cruft/ranlib/randlib.fdoc
diff --git a/libcruft/ranlib/ranf.f b/liboctave/cruft/ranlib/ranf.f
rename from libcruft/ranlib/ranf.f
rename to liboctave/cruft/ranlib/ranf.f
diff --git a/libcruft/ranlib/setall.f b/liboctave/cruft/ranlib/setall.f
rename from libcruft/ranlib/setall.f
rename to liboctave/cruft/ranlib/setall.f
diff --git a/libcruft/ranlib/setant.f b/liboctave/cruft/ranlib/setant.f
rename from libcruft/ranlib/setant.f
rename to liboctave/cruft/ranlib/setant.f
diff --git a/libcruft/ranlib/setgmn.f b/liboctave/cruft/ranlib/setgmn.f
rename from libcruft/ranlib/setgmn.f
rename to liboctave/cruft/ranlib/setgmn.f
diff --git a/libcruft/ranlib/setsd.f b/liboctave/cruft/ranlib/setsd.f
rename from libcruft/ranlib/setsd.f
rename to liboctave/cruft/ranlib/setsd.f
diff --git a/libcruft/ranlib/sexpo.f b/liboctave/cruft/ranlib/sexpo.f
rename from libcruft/ranlib/sexpo.f
rename to liboctave/cruft/ranlib/sexpo.f
diff --git a/libcruft/ranlib/sgamma.f b/liboctave/cruft/ranlib/sgamma.f
rename from libcruft/ranlib/sgamma.f
rename to liboctave/cruft/ranlib/sgamma.f
diff --git a/libcruft/ranlib/snorm.f b/liboctave/cruft/ranlib/snorm.f
rename from libcruft/ranlib/snorm.f
rename to liboctave/cruft/ranlib/snorm.f
diff --git a/libcruft/ranlib/tstbot.for b/liboctave/cruft/ranlib/tstbot.for
rename from libcruft/ranlib/tstbot.for
rename to liboctave/cruft/ranlib/tstbot.for
diff --git a/libcruft/ranlib/tstgmn.for b/liboctave/cruft/ranlib/tstgmn.for
rename from libcruft/ranlib/tstgmn.for
rename to liboctave/cruft/ranlib/tstgmn.for
diff --git a/libcruft/ranlib/tstmid.for b/liboctave/cruft/ranlib/tstmid.for
rename from libcruft/ranlib/tstmid.for
rename to liboctave/cruft/ranlib/tstmid.for
diff --git a/libcruft/ranlib/wrap.f b/liboctave/cruft/ranlib/wrap.f
rename from libcruft/ranlib/wrap.f
rename to liboctave/cruft/ranlib/wrap.f
diff --git a/libcruft/slatec-err/fdump.f b/liboctave/cruft/slatec-err/fdump.f
rename from libcruft/slatec-err/fdump.f
rename to liboctave/cruft/slatec-err/fdump.f
diff --git a/libcruft/slatec-err/ixsav.f b/liboctave/cruft/slatec-err/ixsav.f
rename from libcruft/slatec-err/ixsav.f
rename to liboctave/cruft/slatec-err/ixsav.f
diff --git a/libcruft/slatec-err/j4save.f b/liboctave/cruft/slatec-err/j4save.f
rename from libcruft/slatec-err/j4save.f
rename to liboctave/cruft/slatec-err/j4save.f
diff --git a/libcruft/slatec-err/module.mk b/liboctave/cruft/slatec-err/module.mk
rename from libcruft/slatec-err/module.mk
rename to liboctave/cruft/slatec-err/module.mk
diff --git a/libcruft/slatec-err/xerclr.f b/liboctave/cruft/slatec-err/xerclr.f
rename from libcruft/slatec-err/xerclr.f
rename to liboctave/cruft/slatec-err/xerclr.f
diff --git a/libcruft/slatec-err/xercnt.f b/liboctave/cruft/slatec-err/xercnt.f
rename from libcruft/slatec-err/xercnt.f
rename to liboctave/cruft/slatec-err/xercnt.f
diff --git a/libcruft/slatec-err/xerhlt.f b/liboctave/cruft/slatec-err/xerhlt.f
rename from libcruft/slatec-err/xerhlt.f
rename to liboctave/cruft/slatec-err/xerhlt.f
diff --git a/libcruft/slatec-err/xermsg.f b/liboctave/cruft/slatec-err/xermsg.f
rename from libcruft/slatec-err/xermsg.f
rename to liboctave/cruft/slatec-err/xermsg.f
diff --git a/libcruft/slatec-err/xerprn.f b/liboctave/cruft/slatec-err/xerprn.f
rename from libcruft/slatec-err/xerprn.f
rename to liboctave/cruft/slatec-err/xerprn.f
diff --git a/libcruft/slatec-err/xerrwd.f b/liboctave/cruft/slatec-err/xerrwd.f
rename from libcruft/slatec-err/xerrwd.f
rename to liboctave/cruft/slatec-err/xerrwd.f
diff --git a/libcruft/slatec-err/xersve.f b/liboctave/cruft/slatec-err/xersve.f
rename from libcruft/slatec-err/xersve.f
rename to liboctave/cruft/slatec-err/xersve.f
diff --git a/libcruft/slatec-err/xgetf.f b/liboctave/cruft/slatec-err/xgetf.f
rename from libcruft/slatec-err/xgetf.f
rename to liboctave/cruft/slatec-err/xgetf.f
diff --git a/libcruft/slatec-err/xgetua.f b/liboctave/cruft/slatec-err/xgetua.f
rename from libcruft/slatec-err/xgetua.f
rename to liboctave/cruft/slatec-err/xgetua.f
diff --git a/libcruft/slatec-err/xsetf.f b/liboctave/cruft/slatec-err/xsetf.f
rename from libcruft/slatec-err/xsetf.f
rename to liboctave/cruft/slatec-err/xsetf.f
diff --git a/libcruft/slatec-err/xsetua.f b/liboctave/cruft/slatec-err/xsetua.f
rename from libcruft/slatec-err/xsetua.f
rename to liboctave/cruft/slatec-err/xsetua.f
diff --git a/libcruft/slatec-fn/acosh.f b/liboctave/cruft/slatec-fn/acosh.f
rename from libcruft/slatec-fn/acosh.f
rename to liboctave/cruft/slatec-fn/acosh.f
diff --git a/libcruft/slatec-fn/albeta.f b/liboctave/cruft/slatec-fn/albeta.f
rename from libcruft/slatec-fn/albeta.f
rename to liboctave/cruft/slatec-fn/albeta.f
diff --git a/libcruft/slatec-fn/algams.f b/liboctave/cruft/slatec-fn/algams.f
rename from libcruft/slatec-fn/algams.f
rename to liboctave/cruft/slatec-fn/algams.f
diff --git a/libcruft/slatec-fn/alngam.f b/liboctave/cruft/slatec-fn/alngam.f
rename from libcruft/slatec-fn/alngam.f
rename to liboctave/cruft/slatec-fn/alngam.f
diff --git a/libcruft/slatec-fn/alnrel.f b/liboctave/cruft/slatec-fn/alnrel.f
rename from libcruft/slatec-fn/alnrel.f
rename to liboctave/cruft/slatec-fn/alnrel.f
diff --git a/libcruft/slatec-fn/asinh.f b/liboctave/cruft/slatec-fn/asinh.f
rename from libcruft/slatec-fn/asinh.f
rename to liboctave/cruft/slatec-fn/asinh.f
diff --git a/libcruft/slatec-fn/atanh.f b/liboctave/cruft/slatec-fn/atanh.f
rename from libcruft/slatec-fn/atanh.f
rename to liboctave/cruft/slatec-fn/atanh.f
diff --git a/libcruft/slatec-fn/betai.f b/liboctave/cruft/slatec-fn/betai.f
rename from libcruft/slatec-fn/betai.f
rename to liboctave/cruft/slatec-fn/betai.f
diff --git a/libcruft/slatec-fn/csevl.f b/liboctave/cruft/slatec-fn/csevl.f
rename from libcruft/slatec-fn/csevl.f
rename to liboctave/cruft/slatec-fn/csevl.f
diff --git a/libcruft/slatec-fn/d9gmit.f b/liboctave/cruft/slatec-fn/d9gmit.f
rename from libcruft/slatec-fn/d9gmit.f
rename to liboctave/cruft/slatec-fn/d9gmit.f
diff --git a/libcruft/slatec-fn/d9lgic.f b/liboctave/cruft/slatec-fn/d9lgic.f
rename from libcruft/slatec-fn/d9lgic.f
rename to liboctave/cruft/slatec-fn/d9lgic.f
diff --git a/libcruft/slatec-fn/d9lgit.f b/liboctave/cruft/slatec-fn/d9lgit.f
rename from libcruft/slatec-fn/d9lgit.f
rename to liboctave/cruft/slatec-fn/d9lgit.f
diff --git a/libcruft/slatec-fn/d9lgmc.f b/liboctave/cruft/slatec-fn/d9lgmc.f
rename from libcruft/slatec-fn/d9lgmc.f
rename to liboctave/cruft/slatec-fn/d9lgmc.f
diff --git a/libcruft/slatec-fn/dacosh.f b/liboctave/cruft/slatec-fn/dacosh.f
rename from libcruft/slatec-fn/dacosh.f
rename to liboctave/cruft/slatec-fn/dacosh.f
diff --git a/libcruft/slatec-fn/dasinh.f b/liboctave/cruft/slatec-fn/dasinh.f
rename from libcruft/slatec-fn/dasinh.f
rename to liboctave/cruft/slatec-fn/dasinh.f
diff --git a/libcruft/slatec-fn/datanh.f b/liboctave/cruft/slatec-fn/datanh.f
rename from libcruft/slatec-fn/datanh.f
rename to liboctave/cruft/slatec-fn/datanh.f
diff --git a/libcruft/slatec-fn/dbetai.f b/liboctave/cruft/slatec-fn/dbetai.f
rename from libcruft/slatec-fn/dbetai.f
rename to liboctave/cruft/slatec-fn/dbetai.f
diff --git a/libcruft/slatec-fn/dcsevl.f b/liboctave/cruft/slatec-fn/dcsevl.f
rename from libcruft/slatec-fn/dcsevl.f
rename to liboctave/cruft/slatec-fn/dcsevl.f
diff --git a/libcruft/slatec-fn/derf.f b/liboctave/cruft/slatec-fn/derf.f
rename from libcruft/slatec-fn/derf.f
rename to liboctave/cruft/slatec-fn/derf.f
diff --git a/libcruft/slatec-fn/derfc.in.f b/liboctave/cruft/slatec-fn/derfc.in.f
rename from libcruft/slatec-fn/derfc.in.f
rename to liboctave/cruft/slatec-fn/derfc.in.f
diff --git a/libcruft/slatec-fn/dgami.f b/liboctave/cruft/slatec-fn/dgami.f
rename from libcruft/slatec-fn/dgami.f
rename to liboctave/cruft/slatec-fn/dgami.f
diff --git a/libcruft/slatec-fn/dgamit.f b/liboctave/cruft/slatec-fn/dgamit.f
rename from libcruft/slatec-fn/dgamit.f
rename to liboctave/cruft/slatec-fn/dgamit.f
diff --git a/libcruft/slatec-fn/dgamlm.f b/liboctave/cruft/slatec-fn/dgamlm.f
rename from libcruft/slatec-fn/dgamlm.f
rename to liboctave/cruft/slatec-fn/dgamlm.f
diff --git a/libcruft/slatec-fn/dgamma.f b/liboctave/cruft/slatec-fn/dgamma.f
rename from libcruft/slatec-fn/dgamma.f
rename to liboctave/cruft/slatec-fn/dgamma.f
diff --git a/libcruft/slatec-fn/dgamr.f b/liboctave/cruft/slatec-fn/dgamr.f
rename from libcruft/slatec-fn/dgamr.f
rename to liboctave/cruft/slatec-fn/dgamr.f
diff --git a/libcruft/slatec-fn/dlbeta.f b/liboctave/cruft/slatec-fn/dlbeta.f
rename from libcruft/slatec-fn/dlbeta.f
rename to liboctave/cruft/slatec-fn/dlbeta.f
diff --git a/libcruft/slatec-fn/dlgams.f b/liboctave/cruft/slatec-fn/dlgams.f
rename from libcruft/slatec-fn/dlgams.f
rename to liboctave/cruft/slatec-fn/dlgams.f
diff --git a/libcruft/slatec-fn/dlngam.f b/liboctave/cruft/slatec-fn/dlngam.f
rename from libcruft/slatec-fn/dlngam.f
rename to liboctave/cruft/slatec-fn/dlngam.f
diff --git a/libcruft/slatec-fn/dlnrel.f b/liboctave/cruft/slatec-fn/dlnrel.f
rename from libcruft/slatec-fn/dlnrel.f
rename to liboctave/cruft/slatec-fn/dlnrel.f
diff --git a/libcruft/slatec-fn/dpchim.f b/liboctave/cruft/slatec-fn/dpchim.f
rename from libcruft/slatec-fn/dpchim.f
rename to liboctave/cruft/slatec-fn/dpchim.f
diff --git a/libcruft/slatec-fn/dpchst.f b/liboctave/cruft/slatec-fn/dpchst.f
rename from libcruft/slatec-fn/dpchst.f
rename to liboctave/cruft/slatec-fn/dpchst.f
diff --git a/libcruft/slatec-fn/erf.f b/liboctave/cruft/slatec-fn/erf.f
rename from libcruft/slatec-fn/erf.f
rename to liboctave/cruft/slatec-fn/erf.f
diff --git a/libcruft/slatec-fn/erfc.in.f b/liboctave/cruft/slatec-fn/erfc.in.f
rename from libcruft/slatec-fn/erfc.in.f
rename to liboctave/cruft/slatec-fn/erfc.in.f
diff --git a/libcruft/slatec-fn/gami.f b/liboctave/cruft/slatec-fn/gami.f
rename from libcruft/slatec-fn/gami.f
rename to liboctave/cruft/slatec-fn/gami.f
diff --git a/libcruft/slatec-fn/gamit.f b/liboctave/cruft/slatec-fn/gamit.f
rename from libcruft/slatec-fn/gamit.f
rename to liboctave/cruft/slatec-fn/gamit.f
diff --git a/libcruft/slatec-fn/gamlim.f b/liboctave/cruft/slatec-fn/gamlim.f
rename from libcruft/slatec-fn/gamlim.f
rename to liboctave/cruft/slatec-fn/gamlim.f
diff --git a/libcruft/slatec-fn/gamma.f b/liboctave/cruft/slatec-fn/gamma.f
rename from libcruft/slatec-fn/gamma.f
rename to liboctave/cruft/slatec-fn/gamma.f
diff --git a/libcruft/slatec-fn/gamr.f b/liboctave/cruft/slatec-fn/gamr.f
rename from libcruft/slatec-fn/gamr.f
rename to liboctave/cruft/slatec-fn/gamr.f
diff --git a/libcruft/slatec-fn/initds.f b/liboctave/cruft/slatec-fn/initds.f
rename from libcruft/slatec-fn/initds.f
rename to liboctave/cruft/slatec-fn/initds.f
diff --git a/libcruft/slatec-fn/inits.f b/liboctave/cruft/slatec-fn/inits.f
rename from libcruft/slatec-fn/inits.f
rename to liboctave/cruft/slatec-fn/inits.f
diff --git a/libcruft/slatec-fn/module.mk b/liboctave/cruft/slatec-fn/module.mk
rename from libcruft/slatec-fn/module.mk
rename to liboctave/cruft/slatec-fn/module.mk
diff --git a/libcruft/slatec-fn/pchim.f b/liboctave/cruft/slatec-fn/pchim.f
rename from libcruft/slatec-fn/pchim.f
rename to liboctave/cruft/slatec-fn/pchim.f
diff --git a/libcruft/slatec-fn/pchst.f b/liboctave/cruft/slatec-fn/pchst.f
rename from libcruft/slatec-fn/pchst.f
rename to liboctave/cruft/slatec-fn/pchst.f
diff --git a/libcruft/slatec-fn/r9gmit.f b/liboctave/cruft/slatec-fn/r9gmit.f
rename from libcruft/slatec-fn/r9gmit.f
rename to liboctave/cruft/slatec-fn/r9gmit.f
diff --git a/libcruft/slatec-fn/r9lgic.f b/liboctave/cruft/slatec-fn/r9lgic.f
rename from libcruft/slatec-fn/r9lgic.f
rename to liboctave/cruft/slatec-fn/r9lgic.f
diff --git a/libcruft/slatec-fn/r9lgit.f b/liboctave/cruft/slatec-fn/r9lgit.f
rename from libcruft/slatec-fn/r9lgit.f
rename to liboctave/cruft/slatec-fn/r9lgit.f
diff --git a/libcruft/slatec-fn/r9lgmc.f b/liboctave/cruft/slatec-fn/r9lgmc.f
rename from libcruft/slatec-fn/r9lgmc.f
rename to liboctave/cruft/slatec-fn/r9lgmc.f
diff --git a/libcruft/slatec-fn/xacosh.f b/liboctave/cruft/slatec-fn/xacosh.f
rename from libcruft/slatec-fn/xacosh.f
rename to liboctave/cruft/slatec-fn/xacosh.f
diff --git a/libcruft/slatec-fn/xasinh.f b/liboctave/cruft/slatec-fn/xasinh.f
rename from libcruft/slatec-fn/xasinh.f
rename to liboctave/cruft/slatec-fn/xasinh.f
diff --git a/libcruft/slatec-fn/xatanh.f b/liboctave/cruft/slatec-fn/xatanh.f
rename from libcruft/slatec-fn/xatanh.f
rename to liboctave/cruft/slatec-fn/xatanh.f
diff --git a/libcruft/slatec-fn/xbetai.f b/liboctave/cruft/slatec-fn/xbetai.f
rename from libcruft/slatec-fn/xbetai.f
rename to liboctave/cruft/slatec-fn/xbetai.f
diff --git a/libcruft/slatec-fn/xdacosh.f b/liboctave/cruft/slatec-fn/xdacosh.f
rename from libcruft/slatec-fn/xdacosh.f
rename to liboctave/cruft/slatec-fn/xdacosh.f
diff --git a/libcruft/slatec-fn/xdasinh.f b/liboctave/cruft/slatec-fn/xdasinh.f
rename from libcruft/slatec-fn/xdasinh.f
rename to liboctave/cruft/slatec-fn/xdasinh.f
diff --git a/libcruft/slatec-fn/xdatanh.f b/liboctave/cruft/slatec-fn/xdatanh.f
rename from libcruft/slatec-fn/xdatanh.f
rename to liboctave/cruft/slatec-fn/xdatanh.f
diff --git a/libcruft/slatec-fn/xdbetai.f b/liboctave/cruft/slatec-fn/xdbetai.f
rename from libcruft/slatec-fn/xdbetai.f
rename to liboctave/cruft/slatec-fn/xdbetai.f
diff --git a/libcruft/slatec-fn/xderf.f b/liboctave/cruft/slatec-fn/xderf.f
rename from libcruft/slatec-fn/xderf.f
rename to liboctave/cruft/slatec-fn/xderf.f
diff --git a/libcruft/slatec-fn/xderfc.f b/liboctave/cruft/slatec-fn/xderfc.f
rename from libcruft/slatec-fn/xderfc.f
rename to liboctave/cruft/slatec-fn/xderfc.f
diff --git a/libcruft/slatec-fn/xdgami.f b/liboctave/cruft/slatec-fn/xdgami.f
rename from libcruft/slatec-fn/xdgami.f
rename to liboctave/cruft/slatec-fn/xdgami.f
diff --git a/libcruft/slatec-fn/xdgamit.f b/liboctave/cruft/slatec-fn/xdgamit.f
rename from libcruft/slatec-fn/xdgamit.f
rename to liboctave/cruft/slatec-fn/xdgamit.f
diff --git a/libcruft/slatec-fn/xdgamma.f b/liboctave/cruft/slatec-fn/xdgamma.f
rename from libcruft/slatec-fn/xdgamma.f
rename to liboctave/cruft/slatec-fn/xdgamma.f
diff --git a/libcruft/slatec-fn/xerf.f b/liboctave/cruft/slatec-fn/xerf.f
rename from libcruft/slatec-fn/xerf.f
rename to liboctave/cruft/slatec-fn/xerf.f
diff --git a/libcruft/slatec-fn/xerfc.f b/liboctave/cruft/slatec-fn/xerfc.f
rename from libcruft/slatec-fn/xerfc.f
rename to liboctave/cruft/slatec-fn/xerfc.f
diff --git a/libcruft/slatec-fn/xgamma.f b/liboctave/cruft/slatec-fn/xgamma.f
rename from libcruft/slatec-fn/xgamma.f
rename to liboctave/cruft/slatec-fn/xgamma.f
diff --git a/libcruft/slatec-fn/xgmainc.f b/liboctave/cruft/slatec-fn/xgmainc.f
rename from libcruft/slatec-fn/xgmainc.f
rename to liboctave/cruft/slatec-fn/xgmainc.f
diff --git a/libcruft/slatec-fn/xsgmainc.f b/liboctave/cruft/slatec-fn/xsgmainc.f
rename from libcruft/slatec-fn/xsgmainc.f
rename to liboctave/cruft/slatec-fn/xsgmainc.f
diff --git a/liboctave/link-deps.mk b/liboctave/link-deps.mk
--- a/liboctave/link-deps.mk
+++ b/liboctave/link-deps.mk
@@ -1,11 +1,12 @@
-include $(top_srcdir)/libcruft/link-deps.mk
+include $(top_srcdir)/liboctave/cruft/link-deps.mk
 
 LIBOCTAVE_LINK_DEPS = \
+	$(GNULIB_LINK_DEPS) \
   $(SPARSE_XLIBS) \
   $(ARPACK_LIBS) \
   $(QRUPDATE_LIBS) \
   $(FFTW_XLIBS) \
   $(LAPACK_LIBS) \
   $(BLAS_LIBS) \
   $(READLINE_LIBS) \
   $(TERM_LIBS) \
diff --git a/liboctave/CmplxAEPBAL.cc b/liboctave/numeric/CmplxAEPBAL.cc
rename from liboctave/CmplxAEPBAL.cc
rename to liboctave/numeric/CmplxAEPBAL.cc
diff --git a/liboctave/CmplxAEPBAL.h b/liboctave/numeric/CmplxAEPBAL.h
rename from liboctave/CmplxAEPBAL.h
rename to liboctave/numeric/CmplxAEPBAL.h
diff --git a/liboctave/CmplxCHOL.cc b/liboctave/numeric/CmplxCHOL.cc
rename from liboctave/CmplxCHOL.cc
rename to liboctave/numeric/CmplxCHOL.cc
diff --git a/liboctave/CmplxCHOL.h b/liboctave/numeric/CmplxCHOL.h
rename from liboctave/CmplxCHOL.h
rename to liboctave/numeric/CmplxCHOL.h
diff --git a/liboctave/CmplxGEPBAL.cc b/liboctave/numeric/CmplxGEPBAL.cc
rename from liboctave/CmplxGEPBAL.cc
rename to liboctave/numeric/CmplxGEPBAL.cc
diff --git a/liboctave/CmplxGEPBAL.h b/liboctave/numeric/CmplxGEPBAL.h
rename from liboctave/CmplxGEPBAL.h
rename to liboctave/numeric/CmplxGEPBAL.h
diff --git a/liboctave/CmplxHESS.cc b/liboctave/numeric/CmplxHESS.cc
rename from liboctave/CmplxHESS.cc
rename to liboctave/numeric/CmplxHESS.cc
diff --git a/liboctave/CmplxHESS.h b/liboctave/numeric/CmplxHESS.h
rename from liboctave/CmplxHESS.h
rename to liboctave/numeric/CmplxHESS.h
diff --git a/liboctave/CmplxLU.cc b/liboctave/numeric/CmplxLU.cc
rename from liboctave/CmplxLU.cc
rename to liboctave/numeric/CmplxLU.cc
diff --git a/liboctave/CmplxLU.h b/liboctave/numeric/CmplxLU.h
rename from liboctave/CmplxLU.h
rename to liboctave/numeric/CmplxLU.h
diff --git a/liboctave/CmplxQR.cc b/liboctave/numeric/CmplxQR.cc
rename from liboctave/CmplxQR.cc
rename to liboctave/numeric/CmplxQR.cc
diff --git a/liboctave/CmplxQR.h b/liboctave/numeric/CmplxQR.h
rename from liboctave/CmplxQR.h
rename to liboctave/numeric/CmplxQR.h
diff --git a/liboctave/CmplxQRP.cc b/liboctave/numeric/CmplxQRP.cc
rename from liboctave/CmplxQRP.cc
rename to liboctave/numeric/CmplxQRP.cc
diff --git a/liboctave/CmplxQRP.h b/liboctave/numeric/CmplxQRP.h
rename from liboctave/CmplxQRP.h
rename to liboctave/numeric/CmplxQRP.h
diff --git a/liboctave/CmplxSCHUR.cc b/liboctave/numeric/CmplxSCHUR.cc
rename from liboctave/CmplxSCHUR.cc
rename to liboctave/numeric/CmplxSCHUR.cc
diff --git a/liboctave/CmplxSCHUR.h b/liboctave/numeric/CmplxSCHUR.h
rename from liboctave/CmplxSCHUR.h
rename to liboctave/numeric/CmplxSCHUR.h
diff --git a/liboctave/CmplxSVD.cc b/liboctave/numeric/CmplxSVD.cc
rename from liboctave/CmplxSVD.cc
rename to liboctave/numeric/CmplxSVD.cc
diff --git a/liboctave/CmplxSVD.h b/liboctave/numeric/CmplxSVD.h
rename from liboctave/CmplxSVD.h
rename to liboctave/numeric/CmplxSVD.h
diff --git a/liboctave/CollocWt.cc b/liboctave/numeric/CollocWt.cc
rename from liboctave/CollocWt.cc
rename to liboctave/numeric/CollocWt.cc
diff --git a/liboctave/CollocWt.h b/liboctave/numeric/CollocWt.h
rename from liboctave/CollocWt.h
rename to liboctave/numeric/CollocWt.h
diff --git a/liboctave/DAE.h b/liboctave/numeric/DAE.h
rename from liboctave/DAE.h
rename to liboctave/numeric/DAE.h
diff --git a/liboctave/DAEFunc.h b/liboctave/numeric/DAEFunc.h
rename from liboctave/DAEFunc.h
rename to liboctave/numeric/DAEFunc.h
diff --git a/liboctave/DAERT.h b/liboctave/numeric/DAERT.h
rename from liboctave/DAERT.h
rename to liboctave/numeric/DAERT.h
diff --git a/liboctave/DAERTFunc.h b/liboctave/numeric/DAERTFunc.h
rename from liboctave/DAERTFunc.h
rename to liboctave/numeric/DAERTFunc.h
diff --git a/liboctave/DASPK-opts.in b/liboctave/numeric/DASPK-opts.in
rename from liboctave/DASPK-opts.in
rename to liboctave/numeric/DASPK-opts.in
diff --git a/liboctave/DASPK.cc b/liboctave/numeric/DASPK.cc
rename from liboctave/DASPK.cc
rename to liboctave/numeric/DASPK.cc
diff --git a/liboctave/DASPK.h b/liboctave/numeric/DASPK.h
rename from liboctave/DASPK.h
rename to liboctave/numeric/DASPK.h
diff --git a/liboctave/DASRT-opts.in b/liboctave/numeric/DASRT-opts.in
rename from liboctave/DASRT-opts.in
rename to liboctave/numeric/DASRT-opts.in
diff --git a/liboctave/DASRT.cc b/liboctave/numeric/DASRT.cc
rename from liboctave/DASRT.cc
rename to liboctave/numeric/DASRT.cc
diff --git a/liboctave/DASRT.h b/liboctave/numeric/DASRT.h
rename from liboctave/DASRT.h
rename to liboctave/numeric/DASRT.h
diff --git a/liboctave/DASSL-opts.in b/liboctave/numeric/DASSL-opts.in
rename from liboctave/DASSL-opts.in
rename to liboctave/numeric/DASSL-opts.in
diff --git a/liboctave/DASSL.cc b/liboctave/numeric/DASSL.cc
rename from liboctave/DASSL.cc
rename to liboctave/numeric/DASSL.cc
diff --git a/liboctave/DASSL.h b/liboctave/numeric/DASSL.h
rename from liboctave/DASSL.h
rename to liboctave/numeric/DASSL.h
diff --git a/liboctave/DET.h b/liboctave/numeric/DET.h
rename from liboctave/DET.h
rename to liboctave/numeric/DET.h
diff --git a/liboctave/EIG.cc b/liboctave/numeric/EIG.cc
rename from liboctave/EIG.cc
rename to liboctave/numeric/EIG.cc
diff --git a/liboctave/EIG.h b/liboctave/numeric/EIG.h
rename from liboctave/EIG.h
rename to liboctave/numeric/EIG.h
diff --git a/liboctave/LSODE-opts.in b/liboctave/numeric/LSODE-opts.in
rename from liboctave/LSODE-opts.in
rename to liboctave/numeric/LSODE-opts.in
diff --git a/liboctave/LSODE.cc b/liboctave/numeric/LSODE.cc
rename from liboctave/LSODE.cc
rename to liboctave/numeric/LSODE.cc
diff --git a/liboctave/LSODE.h b/liboctave/numeric/LSODE.h
rename from liboctave/LSODE.h
rename to liboctave/numeric/LSODE.h
diff --git a/liboctave/ODE.h b/liboctave/numeric/ODE.h
rename from liboctave/ODE.h
rename to liboctave/numeric/ODE.h
diff --git a/liboctave/ODEFunc.h b/liboctave/numeric/ODEFunc.h
rename from liboctave/ODEFunc.h
rename to liboctave/numeric/ODEFunc.h
diff --git a/liboctave/ODES.cc b/liboctave/numeric/ODES.cc
rename from liboctave/ODES.cc
rename to liboctave/numeric/ODES.cc
diff --git a/liboctave/ODES.h b/liboctave/numeric/ODES.h
rename from liboctave/ODES.h
rename to liboctave/numeric/ODES.h
diff --git a/liboctave/ODESFunc.h b/liboctave/numeric/ODESFunc.h
rename from liboctave/ODESFunc.h
rename to liboctave/numeric/ODESFunc.h
diff --git a/liboctave/Quad-opts.in b/liboctave/numeric/Quad-opts.in
rename from liboctave/Quad-opts.in
rename to liboctave/numeric/Quad-opts.in
diff --git a/liboctave/Quad.cc b/liboctave/numeric/Quad.cc
rename from liboctave/Quad.cc
rename to liboctave/numeric/Quad.cc
diff --git a/liboctave/Quad.h b/liboctave/numeric/Quad.h
rename from liboctave/Quad.h
rename to liboctave/numeric/Quad.h
diff --git a/liboctave/SparseCmplxCHOL.cc b/liboctave/numeric/SparseCmplxCHOL.cc
rename from liboctave/SparseCmplxCHOL.cc
rename to liboctave/numeric/SparseCmplxCHOL.cc
diff --git a/liboctave/SparseCmplxCHOL.h b/liboctave/numeric/SparseCmplxCHOL.h
rename from liboctave/SparseCmplxCHOL.h
rename to liboctave/numeric/SparseCmplxCHOL.h
diff --git a/liboctave/SparseCmplxLU.cc b/liboctave/numeric/SparseCmplxLU.cc
rename from liboctave/SparseCmplxLU.cc
rename to liboctave/numeric/SparseCmplxLU.cc
diff --git a/liboctave/SparseCmplxLU.h b/liboctave/numeric/SparseCmplxLU.h
rename from liboctave/SparseCmplxLU.h
rename to liboctave/numeric/SparseCmplxLU.h
diff --git a/liboctave/SparseCmplxQR.cc b/liboctave/numeric/SparseCmplxQR.cc
rename from liboctave/SparseCmplxQR.cc
rename to liboctave/numeric/SparseCmplxQR.cc
diff --git a/liboctave/SparseCmplxQR.h b/liboctave/numeric/SparseCmplxQR.h
rename from liboctave/SparseCmplxQR.h
rename to liboctave/numeric/SparseCmplxQR.h
diff --git a/liboctave/SparseQR.cc b/liboctave/numeric/SparseQR.cc
rename from liboctave/SparseQR.cc
rename to liboctave/numeric/SparseQR.cc
diff --git a/liboctave/SparseQR.h b/liboctave/numeric/SparseQR.h
rename from liboctave/SparseQR.h
rename to liboctave/numeric/SparseQR.h
diff --git a/liboctave/SparsedbleCHOL.cc b/liboctave/numeric/SparsedbleCHOL.cc
rename from liboctave/SparsedbleCHOL.cc
rename to liboctave/numeric/SparsedbleCHOL.cc
diff --git a/liboctave/SparsedbleCHOL.h b/liboctave/numeric/SparsedbleCHOL.h
rename from liboctave/SparsedbleCHOL.h
rename to liboctave/numeric/SparsedbleCHOL.h
diff --git a/liboctave/SparsedbleLU.cc b/liboctave/numeric/SparsedbleLU.cc
rename from liboctave/SparsedbleLU.cc
rename to liboctave/numeric/SparsedbleLU.cc
diff --git a/liboctave/SparsedbleLU.h b/liboctave/numeric/SparsedbleLU.h
rename from liboctave/SparsedbleLU.h
rename to liboctave/numeric/SparsedbleLU.h
diff --git a/liboctave/base-aepbal.h b/liboctave/numeric/base-aepbal.h
rename from liboctave/base-aepbal.h
rename to liboctave/numeric/base-aepbal.h
diff --git a/liboctave/base-dae.h b/liboctave/numeric/base-dae.h
rename from liboctave/base-dae.h
rename to liboctave/numeric/base-dae.h
diff --git a/liboctave/base-de.h b/liboctave/numeric/base-de.h
rename from liboctave/base-de.h
rename to liboctave/numeric/base-de.h
diff --git a/liboctave/base-lu.cc b/liboctave/numeric/base-lu.cc
rename from liboctave/base-lu.cc
rename to liboctave/numeric/base-lu.cc
diff --git a/liboctave/base-lu.h b/liboctave/numeric/base-lu.h
rename from liboctave/base-lu.h
rename to liboctave/numeric/base-lu.h
diff --git a/liboctave/base-min.h b/liboctave/numeric/base-min.h
rename from liboctave/base-min.h
rename to liboctave/numeric/base-min.h
diff --git a/liboctave/base-qr.cc b/liboctave/numeric/base-qr.cc
rename from liboctave/base-qr.cc
rename to liboctave/numeric/base-qr.cc
diff --git a/liboctave/base-qr.h b/liboctave/numeric/base-qr.h
rename from liboctave/base-qr.h
rename to liboctave/numeric/base-qr.h
diff --git a/liboctave/bsxfun-decl.h b/liboctave/numeric/bsxfun-decl.h
rename from liboctave/bsxfun-decl.h
rename to liboctave/numeric/bsxfun-decl.h
diff --git a/liboctave/bsxfun-defs.cc b/liboctave/numeric/bsxfun-defs.cc
rename from liboctave/bsxfun-defs.cc
rename to liboctave/numeric/bsxfun-defs.cc
diff --git a/liboctave/bsxfun.h b/liboctave/numeric/bsxfun.h
rename from liboctave/bsxfun.h
rename to liboctave/numeric/bsxfun.h
diff --git a/liboctave/dbleAEPBAL.cc b/liboctave/numeric/dbleAEPBAL.cc
rename from liboctave/dbleAEPBAL.cc
rename to liboctave/numeric/dbleAEPBAL.cc
diff --git a/liboctave/dbleAEPBAL.h b/liboctave/numeric/dbleAEPBAL.h
rename from liboctave/dbleAEPBAL.h
rename to liboctave/numeric/dbleAEPBAL.h
diff --git a/liboctave/dbleCHOL.cc b/liboctave/numeric/dbleCHOL.cc
rename from liboctave/dbleCHOL.cc
rename to liboctave/numeric/dbleCHOL.cc
diff --git a/liboctave/dbleCHOL.h b/liboctave/numeric/dbleCHOL.h
rename from liboctave/dbleCHOL.h
rename to liboctave/numeric/dbleCHOL.h
diff --git a/liboctave/dbleGEPBAL.cc b/liboctave/numeric/dbleGEPBAL.cc
rename from liboctave/dbleGEPBAL.cc
rename to liboctave/numeric/dbleGEPBAL.cc
diff --git a/liboctave/dbleGEPBAL.h b/liboctave/numeric/dbleGEPBAL.h
rename from liboctave/dbleGEPBAL.h
rename to liboctave/numeric/dbleGEPBAL.h
diff --git a/liboctave/dbleHESS.cc b/liboctave/numeric/dbleHESS.cc
rename from liboctave/dbleHESS.cc
rename to liboctave/numeric/dbleHESS.cc
diff --git a/liboctave/dbleHESS.h b/liboctave/numeric/dbleHESS.h
rename from liboctave/dbleHESS.h
rename to liboctave/numeric/dbleHESS.h
diff --git a/liboctave/dbleLU.cc b/liboctave/numeric/dbleLU.cc
rename from liboctave/dbleLU.cc
rename to liboctave/numeric/dbleLU.cc
diff --git a/liboctave/dbleLU.h b/liboctave/numeric/dbleLU.h
rename from liboctave/dbleLU.h
rename to liboctave/numeric/dbleLU.h
diff --git a/liboctave/dbleQR.cc b/liboctave/numeric/dbleQR.cc
rename from liboctave/dbleQR.cc
rename to liboctave/numeric/dbleQR.cc
diff --git a/liboctave/dbleQR.h b/liboctave/numeric/dbleQR.h
rename from liboctave/dbleQR.h
rename to liboctave/numeric/dbleQR.h
diff --git a/liboctave/dbleQRP.cc b/liboctave/numeric/dbleQRP.cc
rename from liboctave/dbleQRP.cc
rename to liboctave/numeric/dbleQRP.cc
diff --git a/liboctave/dbleQRP.h b/liboctave/numeric/dbleQRP.h
rename from liboctave/dbleQRP.h
rename to liboctave/numeric/dbleQRP.h
diff --git a/liboctave/dbleSCHUR.cc b/liboctave/numeric/dbleSCHUR.cc
rename from liboctave/dbleSCHUR.cc
rename to liboctave/numeric/dbleSCHUR.cc
diff --git a/liboctave/dbleSCHUR.h b/liboctave/numeric/dbleSCHUR.h
rename from liboctave/dbleSCHUR.h
rename to liboctave/numeric/dbleSCHUR.h
diff --git a/liboctave/dbleSVD.cc b/liboctave/numeric/dbleSVD.cc
rename from liboctave/dbleSVD.cc
rename to liboctave/numeric/dbleSVD.cc
diff --git a/liboctave/dbleSVD.h b/liboctave/numeric/dbleSVD.h
rename from liboctave/dbleSVD.h
rename to liboctave/numeric/dbleSVD.h
diff --git a/liboctave/eigs-base.cc b/liboctave/numeric/eigs-base.cc
rename from liboctave/eigs-base.cc
rename to liboctave/numeric/eigs-base.cc
diff --git a/liboctave/fCmplxAEPBAL.cc b/liboctave/numeric/fCmplxAEPBAL.cc
rename from liboctave/fCmplxAEPBAL.cc
rename to liboctave/numeric/fCmplxAEPBAL.cc
diff --git a/liboctave/fCmplxAEPBAL.h b/liboctave/numeric/fCmplxAEPBAL.h
rename from liboctave/fCmplxAEPBAL.h
rename to liboctave/numeric/fCmplxAEPBAL.h
diff --git a/liboctave/fCmplxCHOL.cc b/liboctave/numeric/fCmplxCHOL.cc
rename from liboctave/fCmplxCHOL.cc
rename to liboctave/numeric/fCmplxCHOL.cc
diff --git a/liboctave/fCmplxCHOL.h b/liboctave/numeric/fCmplxCHOL.h
rename from liboctave/fCmplxCHOL.h
rename to liboctave/numeric/fCmplxCHOL.h
diff --git a/liboctave/fCmplxGEPBAL.cc b/liboctave/numeric/fCmplxGEPBAL.cc
rename from liboctave/fCmplxGEPBAL.cc
rename to liboctave/numeric/fCmplxGEPBAL.cc
diff --git a/liboctave/fCmplxGEPBAL.h b/liboctave/numeric/fCmplxGEPBAL.h
rename from liboctave/fCmplxGEPBAL.h
rename to liboctave/numeric/fCmplxGEPBAL.h
diff --git a/liboctave/fCmplxHESS.cc b/liboctave/numeric/fCmplxHESS.cc
rename from liboctave/fCmplxHESS.cc
rename to liboctave/numeric/fCmplxHESS.cc
diff --git a/liboctave/fCmplxHESS.h b/liboctave/numeric/fCmplxHESS.h
rename from liboctave/fCmplxHESS.h
rename to liboctave/numeric/fCmplxHESS.h
diff --git a/liboctave/fCmplxLU.cc b/liboctave/numeric/fCmplxLU.cc
rename from liboctave/fCmplxLU.cc
rename to liboctave/numeric/fCmplxLU.cc
diff --git a/liboctave/fCmplxLU.h b/liboctave/numeric/fCmplxLU.h
rename from liboctave/fCmplxLU.h
rename to liboctave/numeric/fCmplxLU.h
diff --git a/liboctave/fCmplxQR.cc b/liboctave/numeric/fCmplxQR.cc
rename from liboctave/fCmplxQR.cc
rename to liboctave/numeric/fCmplxQR.cc
diff --git a/liboctave/fCmplxQR.h b/liboctave/numeric/fCmplxQR.h
rename from liboctave/fCmplxQR.h
rename to liboctave/numeric/fCmplxQR.h
diff --git a/liboctave/fCmplxQRP.cc b/liboctave/numeric/fCmplxQRP.cc
rename from liboctave/fCmplxQRP.cc
rename to liboctave/numeric/fCmplxQRP.cc
diff --git a/liboctave/fCmplxQRP.h b/liboctave/numeric/fCmplxQRP.h
rename from liboctave/fCmplxQRP.h
rename to liboctave/numeric/fCmplxQRP.h
diff --git a/liboctave/fCmplxSCHUR.cc b/liboctave/numeric/fCmplxSCHUR.cc
rename from liboctave/fCmplxSCHUR.cc
rename to liboctave/numeric/fCmplxSCHUR.cc
diff --git a/liboctave/fCmplxSCHUR.h b/liboctave/numeric/fCmplxSCHUR.h
rename from liboctave/fCmplxSCHUR.h
rename to liboctave/numeric/fCmplxSCHUR.h
diff --git a/liboctave/fCmplxSVD.cc b/liboctave/numeric/fCmplxSVD.cc
rename from liboctave/fCmplxSVD.cc
rename to liboctave/numeric/fCmplxSVD.cc
diff --git a/liboctave/fCmplxSVD.h b/liboctave/numeric/fCmplxSVD.h
rename from liboctave/fCmplxSVD.h
rename to liboctave/numeric/fCmplxSVD.h
diff --git a/liboctave/fEIG.cc b/liboctave/numeric/fEIG.cc
rename from liboctave/fEIG.cc
rename to liboctave/numeric/fEIG.cc
diff --git a/liboctave/fEIG.h b/liboctave/numeric/fEIG.h
rename from liboctave/fEIG.h
rename to liboctave/numeric/fEIG.h
diff --git a/liboctave/floatAEPBAL.cc b/liboctave/numeric/floatAEPBAL.cc
rename from liboctave/floatAEPBAL.cc
rename to liboctave/numeric/floatAEPBAL.cc
diff --git a/liboctave/floatAEPBAL.h b/liboctave/numeric/floatAEPBAL.h
rename from liboctave/floatAEPBAL.h
rename to liboctave/numeric/floatAEPBAL.h
diff --git a/liboctave/floatCHOL.cc b/liboctave/numeric/floatCHOL.cc
rename from liboctave/floatCHOL.cc
rename to liboctave/numeric/floatCHOL.cc
diff --git a/liboctave/floatCHOL.h b/liboctave/numeric/floatCHOL.h
rename from liboctave/floatCHOL.h
rename to liboctave/numeric/floatCHOL.h
diff --git a/liboctave/floatGEPBAL.cc b/liboctave/numeric/floatGEPBAL.cc
rename from liboctave/floatGEPBAL.cc
rename to liboctave/numeric/floatGEPBAL.cc
diff --git a/liboctave/floatGEPBAL.h b/liboctave/numeric/floatGEPBAL.h
rename from liboctave/floatGEPBAL.h
rename to liboctave/numeric/floatGEPBAL.h
diff --git a/liboctave/floatHESS.cc b/liboctave/numeric/floatHESS.cc
rename from liboctave/floatHESS.cc
rename to liboctave/numeric/floatHESS.cc
diff --git a/liboctave/floatHESS.h b/liboctave/numeric/floatHESS.h
rename from liboctave/floatHESS.h
rename to liboctave/numeric/floatHESS.h
diff --git a/liboctave/floatLU.cc b/liboctave/numeric/floatLU.cc
rename from liboctave/floatLU.cc
rename to liboctave/numeric/floatLU.cc
diff --git a/liboctave/floatLU.h b/liboctave/numeric/floatLU.h
rename from liboctave/floatLU.h
rename to liboctave/numeric/floatLU.h
diff --git a/liboctave/floatQR.cc b/liboctave/numeric/floatQR.cc
rename from liboctave/floatQR.cc
rename to liboctave/numeric/floatQR.cc
diff --git a/liboctave/floatQR.h b/liboctave/numeric/floatQR.h
rename from liboctave/floatQR.h
rename to liboctave/numeric/floatQR.h
diff --git a/liboctave/floatQRP.cc b/liboctave/numeric/floatQRP.cc
rename from liboctave/floatQRP.cc
rename to liboctave/numeric/floatQRP.cc
diff --git a/liboctave/floatQRP.h b/liboctave/numeric/floatQRP.h
rename from liboctave/floatQRP.h
rename to liboctave/numeric/floatQRP.h
diff --git a/liboctave/floatSCHUR.cc b/liboctave/numeric/floatSCHUR.cc
rename from liboctave/floatSCHUR.cc
rename to liboctave/numeric/floatSCHUR.cc
diff --git a/liboctave/floatSCHUR.h b/liboctave/numeric/floatSCHUR.h
rename from liboctave/floatSCHUR.h
rename to liboctave/numeric/floatSCHUR.h
diff --git a/liboctave/floatSVD.cc b/liboctave/numeric/floatSVD.cc
rename from liboctave/floatSVD.cc
rename to liboctave/numeric/floatSVD.cc
diff --git a/liboctave/floatSVD.h b/liboctave/numeric/floatSVD.h
rename from liboctave/floatSVD.h
rename to liboctave/numeric/floatSVD.h
diff --git a/liboctave/lo-mappers.cc b/liboctave/numeric/lo-mappers.cc
rename from liboctave/lo-mappers.cc
rename to liboctave/numeric/lo-mappers.cc
diff --git a/liboctave/lo-mappers.h b/liboctave/numeric/lo-mappers.h
rename from liboctave/lo-mappers.h
rename to liboctave/numeric/lo-mappers.h
diff --git a/liboctave/lo-specfun.cc b/liboctave/numeric/lo-specfun.cc
rename from liboctave/lo-specfun.cc
rename to liboctave/numeric/lo-specfun.cc
diff --git a/liboctave/lo-specfun.h b/liboctave/numeric/lo-specfun.h
rename from liboctave/lo-specfun.h
rename to liboctave/numeric/lo-specfun.h
diff --git a/liboctave/numeric/module.mk b/liboctave/numeric/module.mk
new file mode 100644
--- /dev/null
+++ b/liboctave/numeric/module.mk
@@ -0,0 +1,180 @@
+EXTRA_DIST += \
+	numeric/module.mk \
+  $(OPT_IN)
+
+OPT_INC = \
+  numeric/DASPK-opts.h \
+  numeric/DASRT-opts.h \
+  numeric/DASSL-opts.h \
+  numeric/LSODE-opts.h \
+  numeric/Quad-opts.h
+
+OPT_IN = $(OPT_INC:.h=.in)
+
+NUMERIC_INC = \
+  numeric/base-aepbal.h \
+  numeric/base-dae.h \
+  numeric/base-de.h \
+  numeric/base-lu.h \
+  numeric/base-min.h \
+  numeric/base-qr.h \
+  numeric/bsxfun-decl.h \
+  numeric/bsxfun.h \
+  numeric/CmplxAEPBAL.h \
+  numeric/CmplxCHOL.h \
+  numeric/CmplxGEPBAL.h \
+  numeric/CmplxHESS.h \
+  numeric/CmplxLU.h \
+  numeric/CmplxQR.h \
+  numeric/CmplxQRP.h \
+  numeric/CmplxSCHUR.h \
+  numeric/CmplxSVD.h \
+  numeric/CollocWt.h \
+  numeric/DAEFunc.h \
+  numeric/DAE.h \
+  numeric/DAERTFunc.h \
+  numeric/DAERT.h \
+  numeric/DASPK.h \
+  numeric/DASRT.h \
+  numeric/DASSL.h \
+  numeric/dbleAEPBAL.h \
+  numeric/dbleCHOL.h \
+  numeric/dbleGEPBAL.h \
+  numeric/dbleHESS.h \
+  numeric/dbleLU.h \
+  numeric/dbleQR.h \
+  numeric/dbleQRP.h \
+  numeric/dbleSCHUR.h \
+  numeric/dbleSVD.h \
+  numeric/DET.h \
+  numeric/EIG.h \
+  numeric/fCmplxAEPBAL.h \
+  numeric/fCmplxCHOL.h \
+  numeric/fCmplxGEPBAL.h \
+  numeric/fCmplxHESS.h \
+  numeric/fCmplxLU.h \
+  numeric/fCmplxQR.h \
+  numeric/fCmplxQRP.h \
+  numeric/fCmplxSCHUR.h \
+  numeric/fCmplxSVD.h \
+  numeric/fEIG.h \
+  numeric/floatAEPBAL.h \
+  numeric/floatCHOL.h \
+  numeric/floatGEPBAL.h \
+  numeric/floatHESS.h \
+  numeric/floatLU.h \
+  numeric/floatQR.h \
+  numeric/floatQRP.h \
+  numeric/floatSCHUR.h \
+  numeric/floatSVD.h \
+  numeric/lo-mappers.h \
+  numeric/lo-specfun.h \
+  numeric/LSODE.h \
+  numeric/oct-convn.h \
+  numeric/oct-fftw.h \
+  numeric/oct-norm.h \
+  numeric/oct-rand.h \
+  numeric/oct-spparms.h \
+  numeric/ODEFunc.h \
+  numeric/ODE.h \
+  numeric/ODESFunc.h \
+  numeric/ODES.h \
+  numeric/Quad.h \
+  numeric/randgamma.h \
+  numeric/randmtzig.h \
+  numeric/randpoisson.h \
+  numeric/sparse-base-chol.h \
+  numeric/sparse-base-lu.h \
+  numeric/SparseCmplxCHOL.h \
+  numeric/SparseCmplxLU.h \
+  numeric/SparseCmplxQR.h \
+  numeric/SparsedbleCHOL.h \
+  numeric/SparsedbleLU.h \
+  numeric/SparseQR.h 
+
+NUMERIC_C_SRC = \
+  numeric/randgamma.c \
+  numeric/randmtzig.c \
+  numeric/randpoisson.c
+
+NUMERIC_SRC = \
+  numeric/CmplxAEPBAL.cc \
+  numeric/CmplxCHOL.cc \
+  numeric/CmplxGEPBAL.cc \
+  numeric/CmplxHESS.cc \
+  numeric/CmplxLU.cc \
+  numeric/CmplxQR.cc \
+  numeric/CmplxQRP.cc \
+  numeric/CmplxSCHUR.cc \
+  numeric/CmplxSVD.cc \
+  numeric/CollocWt.cc \
+  numeric/DASPK.cc \
+  numeric/DASRT.cc \
+  numeric/DASSL.cc \
+  numeric/dbleAEPBAL.cc \
+  numeric/dbleCHOL.cc \
+  numeric/dbleGEPBAL.cc \
+  numeric/dbleHESS.cc \
+  numeric/dbleLU.cc \
+  numeric/dbleQR.cc \
+  numeric/dbleQRP.cc \
+  numeric/dbleSCHUR.cc \
+  numeric/dbleSVD.cc \
+  numeric/EIG.cc \
+  numeric/fCmplxAEPBAL.cc \
+  numeric/fCmplxCHOL.cc \
+  numeric/fCmplxGEPBAL.cc \
+  numeric/fCmplxHESS.cc \
+  numeric/fCmplxLU.cc \
+  numeric/fCmplxQR.cc \
+  numeric/fCmplxQRP.cc \
+  numeric/fCmplxSCHUR.cc \
+  numeric/fCmplxSVD.cc \
+  numeric/fEIG.cc \
+  numeric/floatAEPBAL.cc \
+  numeric/floatCHOL.cc \
+  numeric/floatGEPBAL.cc \
+  numeric/floatHESS.cc \
+  numeric/floatLU.cc \
+  numeric/floatQR.cc \
+  numeric/floatQRP.cc \
+  numeric/floatSCHUR.cc \
+  numeric/floatSVD.cc \
+  numeric/lo-mappers.cc \
+  numeric/lo-specfun.cc \
+  numeric/LSODE.cc \
+  numeric/oct-convn.cc \
+  numeric/oct-fftw.cc \
+  numeric/oct-norm.cc \
+  numeric/oct-rand.cc \
+  numeric/oct-spparms.cc \
+  numeric/ODES.cc \
+  numeric/Quad.cc \
+  numeric/SparseCmplxCHOL.cc \
+  numeric/SparseCmplxLU.cc \
+  numeric/SparseCmplxQR.cc \
+  numeric/SparsedbleCHOL.cc \
+  numeric/SparsedbleLU.cc \
+  numeric/SparseQR.cc \
+	$(NUMERIC_C_SRC)
+
+TEMPLATE_SRC += \
+  numeric/base-lu.cc \
+  numeric/base-qr.cc \
+  numeric/bsxfun-defs.cc \
+  numeric/eigs-base.cc \
+  numeric/sparse-base-chol.cc \
+  numeric/sparse-base-lu.cc \
+  numeric/sparse-dmsolve.cc
+
+## Special rules for sources which must be built before rest of compilation.
+$(OPT_INC) : %.h : %.in $(top_srcdir)/build-aux/mk-opts.pl
+	@echo making $@ from $<
+	@$(PERL) $(top_srcdir)/build-aux/mk-opts.pl --opt-class-header $< > $@-t
+	mv $@-t $@
+
+noinst_LTLIBRARIES += numeric/libnumeric.la
+
+numeric_libnumeric_la_SOURCES = $(NUMERIC_SRC)
+numeric_libnumeric_la_CPPFLAGS = $(liboctave_la_CPPFLAGS)
+
diff --git a/liboctave/oct-convn.cc b/liboctave/numeric/oct-convn.cc
rename from liboctave/oct-convn.cc
rename to liboctave/numeric/oct-convn.cc
diff --git a/liboctave/oct-convn.h b/liboctave/numeric/oct-convn.h
rename from liboctave/oct-convn.h
rename to liboctave/numeric/oct-convn.h
diff --git a/liboctave/oct-fftw.cc b/liboctave/numeric/oct-fftw.cc
rename from liboctave/oct-fftw.cc
rename to liboctave/numeric/oct-fftw.cc
diff --git a/liboctave/oct-fftw.h b/liboctave/numeric/oct-fftw.h
rename from liboctave/oct-fftw.h
rename to liboctave/numeric/oct-fftw.h
diff --git a/liboctave/oct-norm.cc b/liboctave/numeric/oct-norm.cc
rename from liboctave/oct-norm.cc
rename to liboctave/numeric/oct-norm.cc
diff --git a/liboctave/oct-norm.h b/liboctave/numeric/oct-norm.h
rename from liboctave/oct-norm.h
rename to liboctave/numeric/oct-norm.h
diff --git a/liboctave/oct-rand.cc b/liboctave/numeric/oct-rand.cc
rename from liboctave/oct-rand.cc
rename to liboctave/numeric/oct-rand.cc
diff --git a/liboctave/oct-rand.h b/liboctave/numeric/oct-rand.h
rename from liboctave/oct-rand.h
rename to liboctave/numeric/oct-rand.h
diff --git a/liboctave/oct-spparms.cc b/liboctave/numeric/oct-spparms.cc
rename from liboctave/oct-spparms.cc
rename to liboctave/numeric/oct-spparms.cc
diff --git a/liboctave/oct-spparms.h b/liboctave/numeric/oct-spparms.h
rename from liboctave/oct-spparms.h
rename to liboctave/numeric/oct-spparms.h
diff --git a/liboctave/randgamma.c b/liboctave/numeric/randgamma.c
rename from liboctave/randgamma.c
rename to liboctave/numeric/randgamma.c
diff --git a/liboctave/randgamma.h b/liboctave/numeric/randgamma.h
rename from liboctave/randgamma.h
rename to liboctave/numeric/randgamma.h
diff --git a/liboctave/randmtzig.c b/liboctave/numeric/randmtzig.c
rename from liboctave/randmtzig.c
rename to liboctave/numeric/randmtzig.c
diff --git a/liboctave/randmtzig.h b/liboctave/numeric/randmtzig.h
rename from liboctave/randmtzig.h
rename to liboctave/numeric/randmtzig.h
diff --git a/liboctave/randpoisson.c b/liboctave/numeric/randpoisson.c
rename from liboctave/randpoisson.c
rename to liboctave/numeric/randpoisson.c
diff --git a/liboctave/randpoisson.h b/liboctave/numeric/randpoisson.h
rename from liboctave/randpoisson.h
rename to liboctave/numeric/randpoisson.h
diff --git a/liboctave/sparse-base-chol.cc b/liboctave/numeric/sparse-base-chol.cc
rename from liboctave/sparse-base-chol.cc
rename to liboctave/numeric/sparse-base-chol.cc
diff --git a/liboctave/sparse-base-chol.h b/liboctave/numeric/sparse-base-chol.h
rename from liboctave/sparse-base-chol.h
rename to liboctave/numeric/sparse-base-chol.h
diff --git a/liboctave/sparse-base-lu.cc b/liboctave/numeric/sparse-base-lu.cc
rename from liboctave/sparse-base-lu.cc
rename to liboctave/numeric/sparse-base-lu.cc
diff --git a/liboctave/sparse-base-lu.h b/liboctave/numeric/sparse-base-lu.h
rename from liboctave/sparse-base-lu.h
rename to liboctave/numeric/sparse-base-lu.h
diff --git a/liboctave/sparse-dmsolve.cc b/liboctave/numeric/sparse-dmsolve.cc
rename from liboctave/sparse-dmsolve.cc
rename to liboctave/numeric/sparse-dmsolve.cc
diff --git a/liboctave/Sparse-diag-op-defs.h b/liboctave/operators/Sparse-diag-op-defs.h
rename from liboctave/Sparse-diag-op-defs.h
rename to liboctave/operators/Sparse-diag-op-defs.h
diff --git a/liboctave/Sparse-op-defs.h b/liboctave/operators/Sparse-op-defs.h
rename from liboctave/Sparse-op-defs.h
rename to liboctave/operators/Sparse-op-defs.h
diff --git a/liboctave/Sparse-perm-op-defs.h b/liboctave/operators/Sparse-perm-op-defs.h
rename from liboctave/Sparse-perm-op-defs.h
rename to liboctave/operators/Sparse-perm-op-defs.h
diff --git a/liboctave/config-ops.sh b/liboctave/operators/config-ops.sh
rename from liboctave/config-ops.sh
rename to liboctave/operators/config-ops.sh
--- a/liboctave/config-ops.sh
+++ b/liboctave/operators/config-ops.sh
@@ -12,24 +12,24 @@ fi
 
 if [ $# -lt 2 ]; then
   obj_type="all"
 else
   obj_type="$2"
 fi
 
 if [ $# -lt 1 ]; then
-  top_srcdir=".."
+  top_srcdir="../.."
 else
   top_srcdir="$1"
 fi
 
 move_if_change="$top_srcdir/build-aux/move-if-change"
 
-liboctave_dir="$top_srcdir/liboctave"
+liboctave_dir="$top_srcdir/liboctave/operators"
 
 mk_ops="$liboctave_dir/mk-ops.awk"
 sparse_mk_ops="$liboctave_dir/sparse-mk-ops.awk"
 
 case "$obj_type" in
   vx | all)
     case "$src_type" in
       inc | all)
diff --git a/liboctave/mk-ops.awk b/liboctave/operators/mk-ops.awk
rename from liboctave/mk-ops.awk
rename to liboctave/operators/mk-ops.awk
--- a/liboctave/mk-ops.awk
+++ b/liboctave/operators/mk-ops.awk
@@ -88,23 +88,23 @@ BEGIN {
           while (NF > n)
             bool_headers[k++] = $(++n);
 
           cc_file = sprintf ("%s-%s-%s.cc", prefix, lhs_tag, rhs_tag);
           h_file = sprintf ("%s-%s-%s.h", prefix, lhs_tag, rhs_tag);
 
           if (list_cc_files)
             {
-              printf (" %s", cc_file);
+              printf (" operators/%s", cc_file);
               next;
             }
 
           if (list_h_files)
             {
-              printf (" %s", h_file);
+              printf (" operators/%s", h_file);
               next;
             }
 
           if (make_inclusive_header)
             {
               printf ("#include \"%s\"\n", h_file);
               next;
             }
diff --git a/liboctave/operators/module.mk b/liboctave/operators/module.mk
new file mode 100644
--- /dev/null
+++ b/liboctave/operators/module.mk
@@ -0,0 +1,69 @@
+EXTRA_DIST += \
+  operators/module.mk \
+  operators/config-ops.sh \
+  operators/mk-ops.awk \
+  operators/mx-op-inc.mk \
+  operators/mx-op-src.mk \
+  operators/mx-ops \
+  operators/smx-op-inc.mk \
+  operators/smx-op-src.mk \
+  operators/sparse-mk-ops.awk \
+  operators/sparse-mx-ops \
+  operators/vx-op-inc.mk \
+  operators/vx-op-src.mk \
+  operators/vx-ops
+
+include operators/vx-op-inc.mk
+include operators/mx-op-inc.mk
+include operators/smx-op-inc.mk
+
+include operators/vx-op-src.mk
+include operators/mx-op-src.mk
+include operators/smx-op-src.mk
+
+BUILT_LIBOPERATORS_SOURCES = \
+  $(MX_OP_SRC) \
+  $(VX_OP_SRC) \
+  $(SMX_OP_SRC)
+
+OPERATORS_INC = \
+  operators/mx-base.h \
+  operators/mx-defs.h \
+  operators/mx-ext.h \
+  operators/mx-op-decl.h \
+  operators/mx-op-defs.h \
+  operators/Sparse-diag-op-defs.h \
+  operators/Sparse-op-defs.h \
+  operators/Sparse-perm-op-defs.h
+
+## There are no distributed source files in this directory
+OPERATORS_SRC =
+
+OTHER_INC += \
+  operators/mx-inlines.cc
+
+OP_SRCDIR = $(srcdir)/operators
+
+## Special rules for sources which must be built before rest of compilation.
+$(VX_OP_INC) $(VX_OP_SRC) : $(OP_SRCDIR)/mk-ops.awk operators/vx-ops
+	(cd operators; $(AWK) -f ../$(OP_SRCDIR)/mk-ops.awk prefix=vx ../$(OP_SRCDIR)/vx-ops)
+
+$(MX_OP_INC) $(MX_OP_SRC) : $(OP_SRCDIR)/mk-ops.awk operators/mx-ops
+	(cd operators; $(AWK) -f ../$(OP_SRCDIR)/mk-ops.awk prefix=mx ../$(OP_SRCDIR)/mx-ops)
+
+$(SMX_OP_INC) $(SMX_OP_SRC) : $(OP_SRCDIR)/sparse-mk-ops.awk operators/sparse-mx-ops
+	(cd operators; $(AWK) -f ../$(OP_SRCDIR)/sparse-mk-ops.awk prefix=smx ../$(OP_SRCDIR)/sparse-mx-ops)
+
+operators/mx-ops.h : $(OP_SRCDIR)/mk-ops.awk operators/mx-ops
+	$(AWK) -f $(OP_SRCDIR)/mk-ops.awk prefix=mx make_inclusive_header=mx-ops.h $(OP_SRCDIR)/mx-ops > $@-t
+	mv $@-t $@
+
+noinst_LTLIBRARIES += operators/liboperators.la
+
+operators_liboperators_la_SOURCES = $(OPERATORS_SRC)
+nodist_operators_liboperators_la_SOURCES = $(BUILT_LIBOPERATORS_SOURCES)
+
+operators_liboperators_la_CPPFLAGS = $(liboctave_la_CPPFLAGS)
+
+DISTCLEANFILES += $(BUILT_LIBOPERATORS_SOURCES)
+
diff --git a/liboctave/mx-base.h b/liboctave/operators/mx-base.h
rename from liboctave/mx-base.h
rename to liboctave/operators/mx-base.h
diff --git a/liboctave/mx-defs.h b/liboctave/operators/mx-defs.h
rename from liboctave/mx-defs.h
rename to liboctave/operators/mx-defs.h
diff --git a/liboctave/mx-ext.h b/liboctave/operators/mx-ext.h
rename from liboctave/mx-ext.h
rename to liboctave/operators/mx-ext.h
diff --git a/liboctave/mx-inlines.cc b/liboctave/operators/mx-inlines.cc
rename from liboctave/mx-inlines.cc
rename to liboctave/operators/mx-inlines.cc
diff --git a/liboctave/mx-op-decl.h b/liboctave/operators/mx-op-decl.h
rename from liboctave/mx-op-decl.h
rename to liboctave/operators/mx-op-decl.h
diff --git a/liboctave/mx-op-defs.h b/liboctave/operators/mx-op-defs.h
rename from liboctave/mx-op-defs.h
rename to liboctave/operators/mx-op-defs.h
diff --git a/liboctave/mx-ops b/liboctave/operators/mx-ops
rename from liboctave/mx-ops
rename to liboctave/operators/mx-ops
diff --git a/liboctave/sparse-mk-ops.awk b/liboctave/operators/sparse-mk-ops.awk
rename from liboctave/sparse-mk-ops.awk
rename to liboctave/operators/sparse-mk-ops.awk
--- a/liboctave/sparse-mk-ops.awk
+++ b/liboctave/operators/sparse-mk-ops.awk
@@ -87,23 +87,23 @@ BEGIN {
           while (NF > n)
             bool_headers[k++] = $(++n);
 
           cc_file = sprintf ("%s-%s-%s.cc", prefix, lhs_tag, rhs_tag);
           h_file = sprintf ("%s-%s-%s.h", prefix, lhs_tag, rhs_tag);
 
           if (list_cc_files)
             {
-              printf (" %s", cc_file);
+              printf (" operators/%s", cc_file);
               next;
             }
 
           if (list_h_files)
             {
-              printf (" %s", h_file);
+              printf (" operators/%s", h_file);
               next;
             }
 
           if (make_inclusive_header)
             {
               printf ("#include \"%s\"\n", h_file);
               next;
             }
diff --git a/liboctave/sparse-mx-ops b/liboctave/operators/sparse-mx-ops
rename from liboctave/sparse-mx-ops
rename to liboctave/operators/sparse-mx-ops
diff --git a/liboctave/vx-ops b/liboctave/operators/vx-ops
rename from liboctave/vx-ops
rename to liboctave/operators/vx-ops
diff --git a/liboctave/dir-ops.cc b/liboctave/system/dir-ops.cc
rename from liboctave/dir-ops.cc
rename to liboctave/system/dir-ops.cc
diff --git a/liboctave/dir-ops.h b/liboctave/system/dir-ops.h
rename from liboctave/dir-ops.h
rename to liboctave/system/dir-ops.h
diff --git a/liboctave/file-ops.cc b/liboctave/system/file-ops.cc
rename from liboctave/file-ops.cc
rename to liboctave/system/file-ops.cc
diff --git a/liboctave/file-ops.h b/liboctave/system/file-ops.h
rename from liboctave/file-ops.h
rename to liboctave/system/file-ops.h
diff --git a/liboctave/file-stat.cc b/liboctave/system/file-stat.cc
rename from liboctave/file-stat.cc
rename to liboctave/system/file-stat.cc
diff --git a/liboctave/file-stat.h b/liboctave/system/file-stat.h
rename from liboctave/file-stat.h
rename to liboctave/system/file-stat.h
diff --git a/liboctave/lo-sysdep.cc b/liboctave/system/lo-sysdep.cc
rename from liboctave/lo-sysdep.cc
rename to liboctave/system/lo-sysdep.cc
diff --git a/liboctave/lo-sysdep.h b/liboctave/system/lo-sysdep.h
rename from liboctave/lo-sysdep.h
rename to liboctave/system/lo-sysdep.h
diff --git a/liboctave/mach-info.cc b/liboctave/system/mach-info.cc
rename from liboctave/mach-info.cc
rename to liboctave/system/mach-info.cc
diff --git a/liboctave/mach-info.h b/liboctave/system/mach-info.h
rename from liboctave/mach-info.h
rename to liboctave/system/mach-info.h
diff --git a/liboctave/system/module.mk b/liboctave/system/module.mk
new file mode 100644
--- /dev/null
+++ b/liboctave/system/module.mk
@@ -0,0 +1,43 @@
+EXTRA_DIST += \
+  system/module.mk
+
+SYSTEM_INC = \
+  system/dir-ops.h \
+  system/file-ops.h \
+  system/file-stat.h \
+  system/lo-sysdep.h \
+  system/mach-info.h \
+  system/oct-env.h \
+  system/oct-group.h \
+  system/oct-openmp.h \
+  system/oct-passwd.h \
+  system/oct-syscalls.h \
+  system/oct-time.h \
+  system/oct-uname.h \
+  system/pathlen.h \
+  system/sysdir.h \
+  system/syswait.h
+
+SYSTEM_C_SRC = \
+  system/tempnam.c \
+  system/tempname.c
+
+SYSTEM_SRC = \
+  system/dir-ops.cc \
+  system/file-ops.cc \
+  system/file-stat.cc \
+  system/lo-sysdep.cc \
+  system/mach-info.cc \
+  system/oct-env.cc \
+  system/oct-group.cc \
+  system/oct-passwd.cc \
+  system/oct-syscalls.cc \
+  system/oct-time.cc \
+  system/oct-uname.cc \
+  $(SYSTEM_C_SRC)
+
+noinst_LTLIBRARIES += system/libsystem.la
+
+system_libsystem_la_SOURCES = $(SYSTEM_SRC)
+system_libsystem_la_CPPFLAGS = $(liboctave_la_CPPFLAGS)
+
diff --git a/liboctave/oct-env.cc b/liboctave/system/oct-env.cc
rename from liboctave/oct-env.cc
rename to liboctave/system/oct-env.cc
diff --git a/liboctave/oct-env.h b/liboctave/system/oct-env.h
rename from liboctave/oct-env.h
rename to liboctave/system/oct-env.h
diff --git a/liboctave/oct-group.cc b/liboctave/system/oct-group.cc
rename from liboctave/oct-group.cc
rename to liboctave/system/oct-group.cc
diff --git a/liboctave/oct-group.h b/liboctave/system/oct-group.h
rename from liboctave/oct-group.h
rename to liboctave/system/oct-group.h
diff --git a/liboctave/oct-openmp.h b/liboctave/system/oct-openmp.h
rename from liboctave/oct-openmp.h
rename to liboctave/system/oct-openmp.h
diff --git a/liboctave/oct-passwd.cc b/liboctave/system/oct-passwd.cc
rename from liboctave/oct-passwd.cc
rename to liboctave/system/oct-passwd.cc
diff --git a/liboctave/oct-passwd.h b/liboctave/system/oct-passwd.h
rename from liboctave/oct-passwd.h
rename to liboctave/system/oct-passwd.h
diff --git a/liboctave/oct-syscalls.cc b/liboctave/system/oct-syscalls.cc
rename from liboctave/oct-syscalls.cc
rename to liboctave/system/oct-syscalls.cc
diff --git a/liboctave/oct-syscalls.h b/liboctave/system/oct-syscalls.h
rename from liboctave/oct-syscalls.h
rename to liboctave/system/oct-syscalls.h
diff --git a/liboctave/oct-time.cc b/liboctave/system/oct-time.cc
rename from liboctave/oct-time.cc
rename to liboctave/system/oct-time.cc
diff --git a/liboctave/oct-time.h b/liboctave/system/oct-time.h
rename from liboctave/oct-time.h
rename to liboctave/system/oct-time.h
diff --git a/liboctave/oct-uname.cc b/liboctave/system/oct-uname.cc
rename from liboctave/oct-uname.cc
rename to liboctave/system/oct-uname.cc
diff --git a/liboctave/oct-uname.h b/liboctave/system/oct-uname.h
rename from liboctave/oct-uname.h
rename to liboctave/system/oct-uname.h
diff --git a/liboctave/pathlen.h b/liboctave/system/pathlen.h
rename from liboctave/pathlen.h
rename to liboctave/system/pathlen.h
diff --git a/liboctave/sysdir.h b/liboctave/system/sysdir.h
rename from liboctave/sysdir.h
rename to liboctave/system/sysdir.h
diff --git a/liboctave/syswait.h b/liboctave/system/syswait.h
rename from liboctave/syswait.h
rename to liboctave/system/syswait.h
diff --git a/liboctave/tempnam.c b/liboctave/system/tempnam.c
rename from liboctave/tempnam.c
rename to liboctave/system/tempnam.c
diff --git a/liboctave/tempname.c b/liboctave/system/tempname.c
rename from liboctave/tempname.c
rename to liboctave/system/tempname.c
diff --git a/liboctave/base-list.h b/liboctave/util/base-list.h
rename from liboctave/base-list.h
rename to liboctave/util/base-list.h
diff --git a/liboctave/byte-swap.h b/liboctave/util/byte-swap.h
rename from liboctave/byte-swap.h
rename to liboctave/util/byte-swap.h
diff --git a/liboctave/caseless-str.h b/liboctave/util/caseless-str.h
rename from liboctave/caseless-str.h
rename to liboctave/util/caseless-str.h
diff --git a/liboctave/cmd-edit.cc b/liboctave/util/cmd-edit.cc
rename from liboctave/cmd-edit.cc
rename to liboctave/util/cmd-edit.cc
diff --git a/liboctave/cmd-edit.h b/liboctave/util/cmd-edit.h
rename from liboctave/cmd-edit.h
rename to liboctave/util/cmd-edit.h
diff --git a/liboctave/cmd-hist.cc b/liboctave/util/cmd-hist.cc
rename from liboctave/cmd-hist.cc
rename to liboctave/util/cmd-hist.cc
diff --git a/liboctave/cmd-hist.h b/liboctave/util/cmd-hist.h
rename from liboctave/cmd-hist.h
rename to liboctave/util/cmd-hist.h
diff --git a/liboctave/data-conv.cc b/liboctave/util/data-conv.cc
rename from liboctave/data-conv.cc
rename to liboctave/util/data-conv.cc
diff --git a/liboctave/data-conv.h b/liboctave/util/data-conv.h
rename from liboctave/data-conv.h
rename to liboctave/util/data-conv.h
diff --git a/liboctave/f2c-main.c b/liboctave/util/f2c-main.c
rename from liboctave/f2c-main.c
rename to liboctave/util/f2c-main.c
diff --git a/liboctave/functor.h b/liboctave/util/functor.h
rename from liboctave/functor.h
rename to liboctave/util/functor.h
diff --git a/liboctave/glob-match.cc b/liboctave/util/glob-match.cc
rename from liboctave/glob-match.cc
rename to liboctave/util/glob-match.cc
diff --git a/liboctave/glob-match.h b/liboctave/util/glob-match.h
rename from liboctave/glob-match.h
rename to liboctave/util/glob-match.h
diff --git a/liboctave/kpse.cc b/liboctave/util/kpse.cc
rename from liboctave/kpse.cc
rename to liboctave/util/kpse.cc
diff --git a/liboctave/lo-array-gripes.cc b/liboctave/util/lo-array-gripes.cc
rename from liboctave/lo-array-gripes.cc
rename to liboctave/util/lo-array-gripes.cc
diff --git a/liboctave/lo-array-gripes.h b/liboctave/util/lo-array-gripes.h
rename from liboctave/lo-array-gripes.h
rename to liboctave/util/lo-array-gripes.h
diff --git a/liboctave/lo-cieee.c b/liboctave/util/lo-cieee.c
rename from liboctave/lo-cieee.c
rename to liboctave/util/lo-cieee.c
diff --git a/liboctave/lo-cutils.c b/liboctave/util/lo-cutils.c
rename from liboctave/lo-cutils.c
rename to liboctave/util/lo-cutils.c
diff --git a/liboctave/lo-cutils.h b/liboctave/util/lo-cutils.h
rename from liboctave/lo-cutils.h
rename to liboctave/util/lo-cutils.h
diff --git a/liboctave/lo-ieee.cc b/liboctave/util/lo-ieee.cc
rename from liboctave/lo-ieee.cc
rename to liboctave/util/lo-ieee.cc
diff --git a/liboctave/lo-ieee.h b/liboctave/util/lo-ieee.h
rename from liboctave/lo-ieee.h
rename to liboctave/util/lo-ieee.h
diff --git a/liboctave/lo-macros.h b/liboctave/util/lo-macros.h
rename from liboctave/lo-macros.h
rename to liboctave/util/lo-macros.h
diff --git a/liboctave/lo-math.h b/liboctave/util/lo-math.h
rename from liboctave/lo-math.h
rename to liboctave/util/lo-math.h
diff --git a/liboctave/lo-traits.h b/liboctave/util/lo-traits.h
rename from liboctave/lo-traits.h
rename to liboctave/util/lo-traits.h
diff --git a/liboctave/lo-utils.cc b/liboctave/util/lo-utils.cc
rename from liboctave/lo-utils.cc
rename to liboctave/util/lo-utils.cc
diff --git a/liboctave/lo-utils.h b/liboctave/util/lo-utils.h
rename from liboctave/lo-utils.h
rename to liboctave/util/lo-utils.h
diff --git a/liboctave/util/module.mk b/liboctave/util/module.mk
new file mode 100644
--- /dev/null
+++ b/liboctave/util/module.mk
@@ -0,0 +1,88 @@
+EXTRA_DIST += \
+  util/module.mk
+
+UTIL_INC = \
+  util/base-list.h \
+  util/byte-swap.h \
+  util/caseless-str.h \
+  util/cmd-edit.h \
+  util/cmd-hist.h \
+  util/data-conv.h \
+  util/functor.h \
+  util/glob-match.h \
+  util/lo-array-gripes.h \
+  util/lo-cutils.h \
+  util/lo-ieee.h \
+  util/lo-macros.h \
+  util/lo-math.h \
+  util/lo-traits.h \
+  util/lo-utils.h \
+  util/oct-alloc.h \
+  util/oct-base64.h \
+  util/oct-binmap.h \
+  util/oct-cmplx.h \
+  util/oct-glob.h \
+  util/oct-inttypes.h \
+  util/oct-locbuf.h \
+  util/oct-md5.h \
+  util/oct-mem.h \
+  util/oct-mutex.h \
+  util/oct-refcount.h \
+  util/oct-rl-edit.h \
+  util/oct-rl-hist.h \
+  util/oct-shlib.h \
+  util/oct-sort.h \
+  util/oct-sparse.h \
+  util/pathsearch.h \
+  util/regexp.h \
+  util/singleton-cleanup.h \
+  util/sparse-sort.h \
+  util/sparse-util.h \
+  util/statdefs.h \
+  util/str-vec.h \
+  util/sun-utils.h 
+
+UTIL_C_SRC = \
+  util/f2c-main.c \
+  util/lo-cieee.c \
+  util/lo-cutils.c \
+  util/oct-rl-edit.c \
+  util/oct-rl-hist.c 
+
+UTIL_SRC = \
+  util/cmd-edit.cc \
+  util/cmd-hist.cc \
+  util/data-conv.cc \
+  util/glob-match.cc \
+  util/kpse.cc \
+  util/lo-array-gripes.cc \
+  util/lo-ieee.cc \
+  util/lo-utils.cc \
+  util/oct-alloc.cc \
+  util/oct-base64.cc \
+  util/oct-glob.cc \
+  util/oct-inttypes.cc \
+  util/oct-locbuf.cc \
+  util/oct-md5.cc \
+  util/oct-mutex.cc \
+  util/oct-shlib.cc \
+  util/oct-sort.cc \
+  util/pathsearch.cc \
+  util/regexp.cc \
+  util/singleton-cleanup.cc \
+  util/sparse-sort.cc \
+  util/sparse-util.cc \
+  util/str-vec.cc \
+	$(UTIL_C_SRC)
+
+TEMPLATE_SRC += \
+  util/oct-sort.cc
+
+OTHER_INC += \
+  util/kpse.cc
+
+noinst_LTLIBRARIES += util/libutil.la
+
+util_libutil_la_SOURCES = $(UTIL_SRC)
+util_libutil_la_CPPFLAGS = $(liboctave_la_CPPFLAGS)
+
diff --git a/liboctave/oct-alloc.cc b/liboctave/util/oct-alloc.cc
rename from liboctave/oct-alloc.cc
rename to liboctave/util/oct-alloc.cc
diff --git a/liboctave/oct-alloc.h b/liboctave/util/oct-alloc.h
rename from liboctave/oct-alloc.h
rename to liboctave/util/oct-alloc.h
diff --git a/liboctave/oct-base64.cc b/liboctave/util/oct-base64.cc
rename from liboctave/oct-base64.cc
rename to liboctave/util/oct-base64.cc
diff --git a/liboctave/oct-base64.h b/liboctave/util/oct-base64.h
rename from liboctave/oct-base64.h
rename to liboctave/util/oct-base64.h
diff --git a/liboctave/oct-binmap.h b/liboctave/util/oct-binmap.h
rename from liboctave/oct-binmap.h
rename to liboctave/util/oct-binmap.h
diff --git a/liboctave/oct-cmplx.h b/liboctave/util/oct-cmplx.h
rename from liboctave/oct-cmplx.h
rename to liboctave/util/oct-cmplx.h
diff --git a/liboctave/oct-glob.cc b/liboctave/util/oct-glob.cc
rename from liboctave/oct-glob.cc
rename to liboctave/util/oct-glob.cc
diff --git a/liboctave/oct-glob.h b/liboctave/util/oct-glob.h
rename from liboctave/oct-glob.h
rename to liboctave/util/oct-glob.h
diff --git a/liboctave/oct-inttypes.cc b/liboctave/util/oct-inttypes.cc
rename from liboctave/oct-inttypes.cc
rename to liboctave/util/oct-inttypes.cc
diff --git a/liboctave/oct-inttypes.h b/liboctave/util/oct-inttypes.h
rename from liboctave/oct-inttypes.h
rename to liboctave/util/oct-inttypes.h
diff --git a/liboctave/oct-locbuf.cc b/liboctave/util/oct-locbuf.cc
rename from liboctave/oct-locbuf.cc
rename to liboctave/util/oct-locbuf.cc
diff --git a/liboctave/oct-locbuf.h b/liboctave/util/oct-locbuf.h
rename from liboctave/oct-locbuf.h
rename to liboctave/util/oct-locbuf.h
diff --git a/liboctave/oct-md5.cc b/liboctave/util/oct-md5.cc
rename from liboctave/oct-md5.cc
rename to liboctave/util/oct-md5.cc
diff --git a/liboctave/oct-md5.h b/liboctave/util/oct-md5.h
rename from liboctave/oct-md5.h
rename to liboctave/util/oct-md5.h
diff --git a/liboctave/oct-mem.h b/liboctave/util/oct-mem.h
rename from liboctave/oct-mem.h
rename to liboctave/util/oct-mem.h
diff --git a/liboctave/oct-mutex.cc b/liboctave/util/oct-mutex.cc
rename from liboctave/oct-mutex.cc
rename to liboctave/util/oct-mutex.cc
diff --git a/liboctave/oct-mutex.h b/liboctave/util/oct-mutex.h
rename from liboctave/oct-mutex.h
rename to liboctave/util/oct-mutex.h
diff --git a/liboctave/oct-refcount.h b/liboctave/util/oct-refcount.h
rename from liboctave/oct-refcount.h
rename to liboctave/util/oct-refcount.h
diff --git a/liboctave/oct-rl-edit.c b/liboctave/util/oct-rl-edit.c
rename from liboctave/oct-rl-edit.c
rename to liboctave/util/oct-rl-edit.c
diff --git a/liboctave/oct-rl-edit.h b/liboctave/util/oct-rl-edit.h
rename from liboctave/oct-rl-edit.h
rename to liboctave/util/oct-rl-edit.h
diff --git a/liboctave/oct-rl-hist.c b/liboctave/util/oct-rl-hist.c
rename from liboctave/oct-rl-hist.c
rename to liboctave/util/oct-rl-hist.c
diff --git a/liboctave/oct-rl-hist.h b/liboctave/util/oct-rl-hist.h
rename from liboctave/oct-rl-hist.h
rename to liboctave/util/oct-rl-hist.h
diff --git a/liboctave/oct-shlib.cc b/liboctave/util/oct-shlib.cc
rename from liboctave/oct-shlib.cc
rename to liboctave/util/oct-shlib.cc
diff --git a/liboctave/oct-shlib.h b/liboctave/util/oct-shlib.h
rename from liboctave/oct-shlib.h
rename to liboctave/util/oct-shlib.h
diff --git a/liboctave/oct-sort.cc b/liboctave/util/oct-sort.cc
rename from liboctave/oct-sort.cc
rename to liboctave/util/oct-sort.cc
diff --git a/liboctave/oct-sort.h b/liboctave/util/oct-sort.h
rename from liboctave/oct-sort.h
rename to liboctave/util/oct-sort.h
diff --git a/liboctave/oct-sparse.h b/liboctave/util/oct-sparse.h
rename from liboctave/oct-sparse.h
rename to liboctave/util/oct-sparse.h
diff --git a/liboctave/pathsearch.cc b/liboctave/util/pathsearch.cc
rename from liboctave/pathsearch.cc
rename to liboctave/util/pathsearch.cc
diff --git a/liboctave/pathsearch.h b/liboctave/util/pathsearch.h
rename from liboctave/pathsearch.h
rename to liboctave/util/pathsearch.h
diff --git a/liboctave/regexp.cc b/liboctave/util/regexp.cc
rename from liboctave/regexp.cc
rename to liboctave/util/regexp.cc
diff --git a/liboctave/regexp.h b/liboctave/util/regexp.h
rename from liboctave/regexp.h
rename to liboctave/util/regexp.h
diff --git a/liboctave/singleton-cleanup.cc b/liboctave/util/singleton-cleanup.cc
rename from liboctave/singleton-cleanup.cc
rename to liboctave/util/singleton-cleanup.cc
diff --git a/liboctave/singleton-cleanup.h b/liboctave/util/singleton-cleanup.h
rename from liboctave/singleton-cleanup.h
rename to liboctave/util/singleton-cleanup.h
diff --git a/liboctave/sparse-sort.cc b/liboctave/util/sparse-sort.cc
rename from liboctave/sparse-sort.cc
rename to liboctave/util/sparse-sort.cc
diff --git a/liboctave/sparse-sort.h b/liboctave/util/sparse-sort.h
rename from liboctave/sparse-sort.h
rename to liboctave/util/sparse-sort.h
diff --git a/liboctave/sparse-util.cc b/liboctave/util/sparse-util.cc
rename from liboctave/sparse-util.cc
rename to liboctave/util/sparse-util.cc
diff --git a/liboctave/sparse-util.h b/liboctave/util/sparse-util.h
rename from liboctave/sparse-util.h
rename to liboctave/util/sparse-util.h
diff --git a/liboctave/statdefs.h b/liboctave/util/statdefs.h
rename from liboctave/statdefs.h
rename to liboctave/util/statdefs.h
diff --git a/liboctave/str-vec.cc b/liboctave/util/str-vec.cc
rename from liboctave/str-vec.cc
rename to liboctave/util/str-vec.cc
diff --git a/liboctave/str-vec.h b/liboctave/util/str-vec.h
rename from liboctave/str-vec.h
rename to liboctave/util/str-vec.h
diff --git a/liboctave/sun-utils.h b/liboctave/util/sun-utils.h
rename from liboctave/sun-utils.h
rename to liboctave/util/sun-utils.h
diff --git a/scripts/miscellaneous/mkoctfile.m b/scripts/miscellaneous/mkoctfile.m
--- a/scripts/miscellaneous/mkoctfile.m
+++ b/scripts/miscellaneous/mkoctfile.m
@@ -82,28 +82,28 @@
 ##    ALL_CXXFLAGS              FLIBS
 ##    ALL_FFLAGS                FPICFLAG
 ##    ALL_LDFLAGS               INCFLAGS
 ##    BLAS_LIBS                 LAPACK_LIBS
 ##    CC                        LDFLAGS
 ##    CFLAGS                    LD_CXX
 ##    CPICFLAG                  LD_STATIC_FLAG
 ##    CPPFLAGS                  LFLAGS
-##    CXX                       LIBCRUFT
-##    CXXFLAGS                  LIBOCTAVE
-##    CXXPICFLAG                LIBOCTINTERP
-##    DEPEND_EXTRA_SED_PATTERN  LIBS
-##    DEPEND_FLAGS              OCTAVE_LIBS
-##    DL_LD                     OCTAVE_LINK_DEPS
-##    DL_LDFLAGS                OCT_LINK_DEPS
-##    EXEEXT                    RDYNAMIC_FLAG
-##    F77                       READLINE_LIBS
-##    F77_INTEGER_8_FLAG        SED
-##    FFLAGS                    XTRA_CFLAGS
-##    FFTW3_LDFLAGS             XTRA_CXXFLAGS
+##    CXX                       LIBOCTAVE       
+##    CXXFLAGS                  LIBOCTINTERP    
+##    CXXPICFLAG                LIBS            
+##    DEPEND_EXTRA_SED_PATTERN  OCTAVE_LIBS     
+##    DEPEND_FLAGS              OCTAVE_LINK_DEPS
+##    DL_LD                     OCT_LINK_DEPS   
+##    DL_LDFLAGS                RDYNAMIC_FLAG   
+##    EXEEXT                    READLINE_LIBS   
+##    F77                       SED             
+##    F77_INTEGER_8_FLAG        XTRA_CFLAGS     
+##    FFLAGS                    XTRA_CXXFLAGS   
+##    FFTW3_LDFLAGS             
 ##    FFTW3_LIBS
 ##    FFTW3F_LDFLAGS
 ##
 ## @end example
 ##
 ## @item --link-stand-alone
 ## Link a stand-alone executable file.
 ##
diff --git a/src/Makefile.am b/src/Makefile.am
--- a/src/Makefile.am
+++ b/src/Makefile.am
@@ -64,18 +64,17 @@ endif
 EXTRA_DIST = \
   mkoctfile.in.cc \
   mkoctfile.in.sh \
   octave-config.in.cc \
   octave-config.in.sh
 
 OCTAVE_CORE_LIBS = \
   ../libinterp/liboctinterp.la \
-  ../liboctave/liboctave.la \
-  ../libcruft/libcruft.la
+  ../liboctave/liboctave.la
 
 include ../libgui/src/link-deps.mk
 
 octave_cli_SOURCES = main-cli.cc
 
 octave_cli_LDADD = \
   $(OCTAVE_CORE_LIBS)
   $(OCTAVE_LINK_DEPS)
diff --git a/src/mkoctfile.in.cc b/src/mkoctfile.in.cc
--- a/src/mkoctfile.in.cc
+++ b/src/mkoctfile.in.cc
@@ -218,17 +218,16 @@ initialize (void)
 
   vars["DL_LD"] = get_variable ("DL_LD", %OCTAVE_CONF_DL_LD%);
   vars["DL_LDFLAGS"] = get_variable ("DL_LDFLAGS", %OCTAVE_CONF_MKOCTFILE_DL_LDFLAGS%);
 
   vars["RDYNAMIC_FLAG"] = get_variable ("RDYNAMIC_FLAG", %OCTAVE_CONF_RDYNAMIC_FLAG%);
   vars["LIBOCTAVE"] = "-loctave";
   vars["LIBOCTINTERP"] = "-loctinterp";
   vars["READLINE_LIBS"] = "-lreadline";
-  vars["LIBCRUFT"] = "-lcruft";
   vars["LAPACK_LIBS"] = get_variable ("LAPACK_LIBS", %OCTAVE_CONF_LAPACK_LIBS%);
   vars["BLAS_LIBS"] = get_variable ("BLAS_LIBS", %OCTAVE_CONF_BLAS_LIBS%);
   vars["FFTW3_LDFLAGS"] = get_variable ("FFTW3_LDFLAGS", %OCTAVE_CONF_FFTW3_LDFLAGS%);
   vars["FFTW3_LIBS"] = get_variable ("FFTW3_LIBS", %OCTAVE_CONF_FFTW3_LIBS%);
   vars["FFTW3F_LDFLAGS"] = get_variable ("FFTW3F_LDFLAGS", %OCTAVE_CONF_FFTW3F_LDFLAGS%);
   vars["FFTW3F_LIBS"] = get_variable ("FFTW3F_LIBS", %OCTAVE_CONF_FFTW3F_LIBS%);
   vars["LIBS"] = get_variable ("LIBS", %OCTAVE_CONF_LIBS%);
   vars["FLIBS"] = get_variable ("FLIBS", %OCTAVE_CONF_FLIBS%);
@@ -249,17 +248,17 @@ initialize (void)
 
   vars["ALL_CXXFLAGS"] = vars["INCFLAGS"] + " " + vars["XTRA_CXXFLAGS"]
     + " " + vars["CXXFLAGS"];
 
   vars["ALL_LDFLAGS"] = vars["LD_STATIC_FLAG"] + " " + vars["CPICFLAG"]
     + " " + vars["LDFLAGS"];
 
   vars["OCTAVE_LIBS"] = vars["LIBOCTINTERP"] + " " + vars["LIBOCTAVE"]
-    + " " + vars["SPECIAL_MATH_LIB"] + " " + vars["LIBCRUFT"];
+    + " " + vars["SPECIAL_MATH_LIB"];
 
   vars["FFTW_LIBS"] = vars["FFTW3_LDFLAGS"] + " " + vars["FFTW3_LIBS"]
     + " " + vars["FFTW3F_LDFLAGS"] + " " + vars["FFTW3F_LIBS"];
 }
 
 static string usage_msg = "usage: mkoctfile [options] file ...";
 static string version_msg = "mkoctfile, version " + OCTAVE_VERSION;
 static bool debug = false;
@@ -302,30 +301,30 @@ static string help_msg =
 "                            ALL_CFLAGS                FLIBS\n"
 "                            ALL_CXXFLAGS              FPICFLAG\n"
 "                            ALL_FFLAGS                INCFLAGS\n"
 "                            ALL_LDFLAGS               LAPACK_LIBS\n"
 "                            BLAS_LIBS                 LDFLAGS\n"
 "                            CC                        LD_CXX\n"
 "                            CFLAGS                    LD_STATIC_FLAG\n"
 "                            CPICFLAG                  LFLAGS\n"
-"                            CPPFLAGS                  LIBCRUFT\n"
-"                            CXX                       LIBOCTAVE\n"
-"                            CXXFLAGS                  LIBOCTINTERP\n"
-"                            CXXPICFLAG                LIBS\n"
-"                            DEPEND_EXTRA_SED_PATTERN  OCTAVE_LIBS\n"
-"                            DEPEND_FLAGS              OCTAVE_LINK_DEPS\n"
-"                            DL_LD                     OCTAVE_LINK_OPTS\n"
-"                            DL_LDFLAGS                OCT_LINK_DEPS\n"
-"                            EXEEXT                    OCT_LINK_OPTS\n"
-"                            F77                       RDYNAMIC_FLAG\n"
-"                            F77_INTEGER_8_FLAG        READLINE_LIBS\n"
-"                            FFLAGS                    SED\n"
-"                            FFTW3_LDFLAGS             XTRA_CFLAGS\n"
-"                            FFTW3_LIBS                XTRA_CXXFLAGS\n"
+"                            CPPFLAGS                  LIBOCTAVE\n"       
+"                            CXX                       LIBOCTINTERP\n"    
+"                            CXXFLAGS                  LIBS\n"            
+"                            CXXPICFLAG                OCTAVE_LIBS\n"     
+"                            DEPEND_EXTRA_SED_PATTERN  OCTAVE_LINK_DEPS\n"
+"                            DEPEND_FLAGS              OCTAVE_LINK_OPTS\n"
+"                            DL_LD                     OCT_LINK_DEPS\n"   
+"                            DL_LDFLAGS                OCT_LINK_OPTS\n"   
+"                            EXEEXT                    RDYNAMIC_FLAG\n"   
+"                            F77                       READLINE_LIBS\n"   
+"                            F77_INTEGER_8_FLAG        SED\n"             
+"                            FFLAGS                    XTRA_CFLAGS\n"     
+"                            FFTW3_LDFLAGS             XTRA_CXXFLAGS\n"   
+"                            FFTW3_LIBS                                   
 "                            FFTW3F_LDFLAGS\n"
 "                            FFTW3F_LIBS\n"
 "\n"
 "  --link-stand-alone      Link a stand-alone executable file.\n"
 "\n"
 "  --mex                   Assume we are creating a MEX file.  Set the\n"
 "                          default output extension to \".mex\".\n"
 "\n"
@@ -746,34 +745,34 @@ main (int argc, char **argv)
         {
           if (!vars["LD_CXX"].empty ())
             {
               string cmd = vars["LD_CXX"] + " " + vars["CPPFLAGS"] + " "
                 + vars["ALL_CXXFLAGS"] + " " + vars["RDYNAMIC_FLAG"]
                 + " " + vars["ALL_LDFLAGS"] + " " +  pass_on_options
                 + " " + output_option + " " + objfiles + " " + libfiles
                 + " " + ldflags + " " + vars["LFLAGS"]
-                + " -loctinterp -loctave -lcruft "
+                + " -loctinterp -loctave "
                 + " " + vars["OCT_LINK_OPTS"]
                 + " " + vars["OCTAVE_LINK_DEPS"];
               result = run_command (cmd);
             }
           else
             {
               cerr << "mkoctfile: no way to link stand-alone executable file"
                    << endl;
               return 1;
             }
         }
       else
         {
           string cmd = vars["DL_LD"] + " " + vars["DL_LDFLAGS"] + " "
             + pass_on_options + " -o " + octfile + " " + objfiles + " "
             + libfiles + " " + ldflags + " " + vars["LFLAGS"]
-            + " -loctinterp -loctave -lcruft "
+            + " -loctinterp -loctave "
             + vars["OCT_LINK_OPTS"] + " " + vars["OCT_LINK_DEPS"];
           result = run_command (cmd);
         }
 
       if (strip)
         {
           string cmd = "strip " + octfile;
           result = run_command (cmd);
diff --git a/src/mkoctfile.in.sh b/src/mkoctfile.in.sh
--- a/src/mkoctfile.in.sh
+++ b/src/mkoctfile.in.sh
@@ -84,17 +84,16 @@ fi
 
 : ${DL_LD=%OCTAVE_CONF_DL_LD%}
 : ${DL_LDFLAGS=%OCTAVE_CONF_MKOCTFILE_DL_LDFLAGS%}
 
 : ${RDYNAMIC_FLAG=%OCTAVE_CONF_RDYNAMIC_FLAG%}
 : ${LIBOCTAVE=-loctave}
 : ${LIBOCTINTERP=-loctinterp}
 : ${READLINE_LIBS=-lreadline}
-: ${LIBCRUFT=-lcruft}
 : ${LAPACK_LIBS=%OCTAVE_CONF_LAPACK_LIBS%}
 : ${BLAS_LIBS=%OCTAVE_CONF_BLAS_LIBS%}
 : ${FFTW3_LDFLAGS=%OCTAVE_CONF_FFTW3_LDFLAGS%}
 : ${FFTW3_LIBS=%OCTAVE_CONF_FFTW3_LIBS%}
 : ${FFTW3F_LDFLAGS=%OCTAVE_CONF_FFTW3F_LDFLAGS%}
 : ${FFTW3F_LIBS=%OCTAVE_CONF_FFTW3F_LIBS%}
 : ${LIBS=%OCTAVE_CONF_LIBS%}
 : ${FLIBS=%OCTAVE_CONF_FLIBS%}
@@ -111,17 +110,17 @@ fi
 : ${ALL_FFLAGS="$FFLAGS $F77_INTEGER_8_FLAG"}
 
 : ${ALL_CFLAGS="$INCFLAGS $XTRA_CFLAGS $CFLAGS"}
 
 : ${ALL_CXXFLAGS="$INCFLAGS $XTRA_CXXFLAGS $CXXFLAGS"}
 
 : ${ALL_LDFLAGS="$LD_STATIC_FLAG $CPICFLAG $LDFLAGS"}
 
-: ${OCTAVE_LIBS="$LIBOCTINTERP $LIBOCTAVE $SPECIAL_MATH_LIB $LIBCRUFT"}
+: ${OCTAVE_LIBS="$LIBOCTINTERP $LIBOCTAVE $SPECIAL_MATH_LIB"}
 
 # Local variables.
 
 FFTW_LIBS="$FFTW3_LDFLAGS $FFTW3_LIBS $FFTW3F_LDFLAGS $FFTW3F_LIBS"
 
 usage_msg="usage: mkoctfile [options] file ..."
 
 version_msg="mkoctfile, version $OCTAVE_VERSION"
@@ -238,28 +237,28 @@ Options:
                             ALL_CXXFLAGS              FLIBS
                             ALL_FFLAGS                FPICFLAG
                             ALL_LDFLAGS               INCFLAGS
                             BLAS_LIBS                 LAPACK_LIBS
                             CC                        LDFLAGS
                             CFLAGS                    LD_CXX
                             CPICFLAG                  LD_STATIC_FLAG
                             CPPFLAGS                  LFLAGS
-                            CXX                       LIBCRUFT
-                            CXXFLAGS                  LIBOCTAVE
-                            CXXPICFLAG                LIBOCTINTERP
-                            DEPEND_EXTRA_SED_PATTERN  LIBS
-                            DEPEND_FLAGS              OCTAVE_LIBS
-                            DL_LD                     OCTAVE_LINK_DEPS
-                            DL_LDFLAGS                OCT_LINK_DEPS
-                            EXEEXT                    RDYNAMIC_FLAG
-                            F77                       READLINE_LIBS
-                            F77_INTEGER_8_FLAG        SED
-                            FFLAGS                    XTRA_CFLAGS
-                            FFTW3_LDFLAGS             XTRA_CXXFLAGS
+                            CXX                       LIBOCTAVE       
+                            CXXFLAGS                  LIBOCTINTERP    
+                            CXXPICFLAG                LIBS            
+                            DEPEND_EXTRA_SED_PATTERN  OCTAVE_LIBS     
+                            DEPEND_FLAGS              OCTAVE_LINK_DEPS
+                            DL_LD                     OCT_LINK_DEPS   
+                            DL_LDFLAGS                RDYNAMIC_FLAG   
+                            EXEEXT                    READLINE_LIBS   
+                            F77                       SED             
+                            F77_INTEGER_8_FLAG        XTRA_CFLAGS     
+                            FFLAGS                    XTRA_CXXFLAGS   
+                            FFTW3_LDFLAGS             
                             FFTW3_LIBS
                             FFTW3F_LDFLAGS
 
   -v, --verbose           Echo commands as they are executed.
 
   FILE                    Compile or link FILE.  Recognized file types are:
 
                             .c    C source
@@ -528,25 +527,25 @@ fi
 ##   eval $cmd
 ## fi
 
 # Link all the object files.
 
 if $link && [ -n "$objfiles" ]; then
   if $link_stand_alone; then
     if [ -n "$LD_CXX" ]; then
-      cmd="$LD_CXX $CPPFLAGS $ALL_CXXFLAGS $RDYNAMIC_FLAG $ALL_LDFLAGS $pass_on_options $output_option $objfiles $libfiles $ldflags $LFLAGS -loctinterp -loctave -lcruft $OCTAVE_LINK_OPTS $OCTAVE_LINK_DEPS"
+      cmd="$LD_CXX $CPPFLAGS $ALL_CXXFLAGS $RDYNAMIC_FLAG $ALL_LDFLAGS $pass_on_options $output_option $objfiles $libfiles $ldflags $LFLAGS -loctinterp -loctave $OCTAVE_LINK_OPTS $OCTAVE_LINK_DEPS"
       $dbg $cmd
       eval $cmd
     else
       echo "mkoctfile: no way to link stand-alone executable file" 1>&2
       exit 1
     fi
   else
-    cmd="$DL_LD $DL_LDFLAGS $pass_on_options -o $octfile $objfiles $libfiles $ldflags $LFLAGS -loctinterp -loctave -lcruft $OCT_LINK_OPTS $OCT_LINK_DEPS"
+    cmd="$DL_LD $DL_LDFLAGS $pass_on_options -o $octfile $objfiles $libfiles $ldflags $LFLAGS -loctinterp -loctave $OCT_LINK_OPTS $OCT_LINK_DEPS"
     $dbg $cmd
     eval $cmd
   fi
 
 # Maybe strip it.
 
   if $strip; then
     cmd="strip $octfile"
