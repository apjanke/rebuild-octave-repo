# HG changeset patch
# User Robert Jenssen <robertjenssen@ozemail.com.au>
# Date 1467021030 -36000
#      Mon Jun 27 19:50:30 2016 +1000
# Node ID 66f3c4e81721643bb66947c39181e38031f5dbbb
# Parent  02216516bbfea0ca0ed238dd8655da59b853311a
Rename bison/flex internal symbol names to silence "one definition rule" warning

* oct-tex-lexer.in.ll (yyguts_t): Rename to octave_tex_yyguts_t.
* oct-tex-parser.in.yy (yyalloc): Rename to octave_tex_yyalloc.

diff --git a/libinterp/corefcn/oct-tex-lexer.in.ll b/libinterp/corefcn/oct-tex-lexer.in.ll
--- a/libinterp/corefcn/oct-tex-lexer.in.ll
+++ b/libinterp/corefcn/oct-tex-lexer.in.ll
@@ -72,16 +72,17 @@ along with Octave; see the file COPYING.
 // of YYSTYPE in the generated oct-parse.h file.
 
 #if defined (OCTAVE_TEX_STYPE_IS_DECLARED) && ! defined YYSTYPE
 #  define YYSTYPE OCTAVE_TEX_STYPE
 #endif
 
 #define YY_NO_UNISTD_H 1
 #define isatty octave_isatty_wrapper
+#define yyguts_t octave_tex_yyguts_t
 
 %}
 
 D   [0-9]
 NUM (({D}+\.?{D}*)|(\.{D}+))
 
 %%
 
diff --git a/libinterp/corefcn/oct-tex-parser.in.yy b/libinterp/corefcn/oct-tex-parser.in.yy
--- a/libinterp/corefcn/oct-tex-parser.in.yy
+++ b/libinterp/corefcn/oct-tex-parser.in.yy
@@ -30,16 +30,17 @@ along with Octave; see the file COPYING.
 
 #include "txt-eng.h"
 #include "oct-tex-parser.h"
 
 extern int octave_tex_lex (YYSTYPE *, void *);
 static void yyerror (text_parser_tex& parser, const char *s);
 
 #define scanner parser.get_scanner ()
+#define yyalloc octave_tex_yyalloc
 
 #if defined (HAVE_PRAGMA_GCC_DIAGNOSTIC)
 // Disable this warning for code that is generated by Bison, including
 // grammar rules.  Push the current state so we can restore the warning
 // state prior to functions we define at the bottom of the file.
 #pragma GCC diagnostic push
 #pragma GCC diagnostic ignored "-Wold-style-cast"
 #endif
