# HG changeset patch
# User Rik <rik@octave.org>
# Date 1530555980 25200
#      Mon Jul 02 11:26:20 2018 -0700
# Node ID a27ae22eb41d524ac1f43d3a40d9f37a885f64a2
# Parent  975450679c15510c25dd86b8ad606a3b117dddcb
.hgignore: Add more files to ignore (bug #54216).

* .hgignore: Organize patterns with more comments.  Add many more ignore
patterns.

diff --git a/.hgignore b/.hgignore
--- a/.hgignore
+++ b/.hgignore
@@ -1,58 +1,122 @@
 syntax: regexp
-# The recurrent (^|/) idiom in the regexps below should be understood
-# to mean "at any directory" while the ^ idiom means "from the
-# project's top-level directory".
+## The recurrent (^|/) idiom in the regexps below should be understood
+## to mean "at any directory" while the ^ idiom means "from the
+## project's top-level directory".
 
-# gnulib makes these silly backup files
+## gnulib related files
+# gnulib makes these silly backup files.
 .~$
-
 # This directory gets created by gnulib during the build.
 # It contains no Octave files.
 ^libgnu($|/)
 
+## m4 related files
 # This directory mostly contains cruft during build time, but it does
-# contain some Octave code, so we gotta be a bit more careful about
-# what we ignore here
+# contain some Octave code, so be more careful about what we ignore here.
 ^m4/(?!ax_).+\.m4$
 
-# Emacs tools create these
-(^|/)TAGS$
-(^|/)semantic.cache$
+## Autoconf, Automake automatically generated files
+^aclocal\.m4$
+^autom4te\.cache($|/)
+^config\.in\.h$
+^configure$
+^config.cache$
+^config.h$
+^config.log$
+^config.status$
 
 (/|^)Makefile\.in$
 ^INSTALL$
 
-^aclocal\.m4$
-^autom4te\.cache($|/)
+## Emacs associated files
+(^|/)TAGS$
+(^|/)semantic.cache$
+
+## Scripts associated with building Octave
 ^build-aux/config\.(guess|rpath|sub)$
+^build-aux/check-subst-vars\.sh$
 ^build-aux/depcomp$
 ^build-aux/install-sh$
 ^build-aux/ltmain\.sh$
 ^build-aux/mdate-sh$
 ^build-aux/missing$
 ^build-aux/move-if-change$
+^build-aux/subst-config-vals\.sh$
+^build-aux/subst-cross-config-vals\.sh$
+^build-aux/subst-default-vals\.sh$
+^build-aux/subst-script-vals\.sh$
 ^build-aux/texinfo\.tex$
 ^build-aux/ylwrap$
-^config\.in\.h$
-^configure$
+
+## Mercurial associated files
 ^HG-ID$
 
-# e.g. doc/faq/OctaveFAQ.info
-#      doc/interpreter/octave.info-4
+## Timestamp files used in build process
+.*/\.dirstamp$
+.*/\.octave-dirstamp$
+
+## Intermediate compilation results for libraries
+.*\.la$
+.*/\.libs/
+.*\.Plo$
+.*\.Po$
+
+
+## DLDFCN associated files
+^libinterp/dldfcn/module\.mk$
+^libinterp/dldfcn/PKG_ADD$
+^libinterp/dldfcn/.*\.oct$
+
+## liboctave/ directory associated patterns
+# E.g., liboctave/operators/smx-op-inc.mk
+^liboctave/operators/\w+-op-\w+\.mk$
+
+## scripts/ directory associated patterns
+# Package files
+^scripts/.*/PKG_ADD$
+# Java files
+^scripts/java/octave\.jar$
+^scripts/java/org/octave/.*\.class$
+
+## libgui/ associated patterns
+# Files generated by moc tool
+^libgui/.*/moc-.*\.(cc|h)$
+^libgui/languages/.*\.qm$
+
+## Ignore patterns associated with documentation
+# Info generated files
+# E.g., doc/faq/OctaveFAQ.info, doc/interpreter/octave.info-4
 ^doc/\w+/\w+\.info(-\d+)?$
 
+# Texinfo created temporary directories
+^doc/(interpreter|liboctave)/(octave|liboctave)\.t2(d|p)/
+# Texinfo created files
+^doc/interpreter/.*\.texi$
+
+# DOCSTRINGS files built in the source tree
+^(libinterp|scripts)/DOCSTRINGS$
+
+# Generated HTML directories
+^doc/interpreter/octave\.html/
+^doc/liboctave/liboctave\.html/
+
+# Miscellaneous auto-generated files 
+^doc/interpreter/octave\.dvi$
+^doc/interpreter/octave\.ps$
+^doc/interpreter/doc-cache$
+^doc/interpreter/octave_interpreter\.q(ch|hc)$
+
+# Images and scripts for documentation
+^doc/interpreter/images\.mk$
+^doc/interpreter/.*\.eps$
+^doc/interpreter/.*\.pdf$
+^doc/interpreter/.*\.png$
+^doc/interpreter/.*\.txt$
+
+# timestamps for doc directory
 ^doc/\w+/stamp-(vti|\d+)$
 ^doc/\w+/version-\w+\.texi$
-^doc/interpreter/images\.mk$
-
-# e.g. liboctave/operators/smx-op-inc.mk
-^liboctave/operators/\w+-op-\w+\.mk$
-
-^libinterp/dldfcn/module\.mk$
 
-# DOCSTRINGS files are built in the source tree
-^(libinterp|scripts)/DOCSTRINGS$
+## Test associated patterns
+.*-tst$
 
-# Intermediate compilation results for libraries
-.*\.Plo
-.*\.Po
